(function(za,oa){typeof module=="object"&&module.exports?module.exports=oa():za.moduleName=oa()})(typeof self<"u"?self:this,()=>{"use strict";var za=(()=>{var oa=Object.defineProperty,yu=Object.getOwnPropertyDescriptor,Li=Object.getOwnPropertyNames,gu=Object.prototype.hasOwnProperty,Ur=(M,N)=>function(){return M&&(N=(0,M[Li(M)[0]])(M=0)),N},Ke=(M,N)=>function(){return N||(0,M[Li(M)[0]])((N={exports:{}}).exports,N),N.exports},mu=(M,N)=>{for(var t in N)oa(M,t,{get:N[t],enumerable:!0})},_u=(M,N,t,v)=>{if(N&&typeof N=="object"||typeof N=="function")for(let u of Li(N))!gu.call(M,u)&&u!==t&&oa(M,u,{get:()=>N[u],enumerable:!(v=yu(N,u))||v.enumerable});return M},bu=M=>_u(oa({},"__esModule",{value:!0}),M),Po=Ke({"src/version.js"(M){"use strict";M.version="3.0.1"}}),xu=Ke({"node_modules/native-promise-only/lib/npo.src.js"(M,N){(function(v,u,m){u[v]=u[v]||m(),typeof N<"u"&&N.exports&&(N.exports=u[v])})("Promise",typeof window<"u"?window:M,function(){"use strict";var v,u,m,g=Object.prototype.toString,f=typeof setImmediate<"u"?function(o){return setImmediate(o)}:setTimeout;try{Object.defineProperty({},"x",{}),v=function(o,T,C,z){return Object.defineProperty(o,T,{value:C,writable:!0,configurable:z!==!1})}}catch{v=function(T,C,z){return T[C]=z,T}}m=function(){var o,T,C;function z(Y,L){this.fn=Y,this.self=L,this.next=void 0}return{add:function(L,O){C=new z(L,O),T?T.next=C:o=C,T=C,C=void 0},drain:function(){var L=o;for(o=T=u=void 0;L;)L.fn.call(L.self),L=L.next}}}();function w(a,o){m.add(a,o),u||(u=f(m.drain))}function c(a){var o,T=typeof a;return a!=null&&(T=="object"||T=="function")&&(o=a.then),typeof o=="function"?o:!1}function r(){for(var a=0;a<this.chain.length;a++)A(this,this.state===1?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function A(a,o,T){var C,z;try{o===!1?T.reject(a.msg):(o===!0?C=a.msg:C=o.call(void 0,a.msg),C===T.promise?T.reject(TypeError("Promise-chain cycle")):(z=c(C))?z.call(C,T.resolve,T.reject):T.resolve(C))}catch(Y){T.reject(Y)}}function p(a){var o,T=this;if(!T.triggered){T.triggered=!0,T.def&&(T=T.def);try{(o=c(a))?w(function(){var C=new F(T);try{o.call(a,function(){p.apply(C,arguments)},function(){E.apply(C,arguments)})}catch(z){E.call(C,z)}}):(T.msg=a,T.state=1,T.chain.length>0&&w(r,T))}catch(C){E.call(new F(T),C)}}}function E(a){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=a,o.state=2,o.chain.length>0&&w(r,o))}function S(a,o,T,C){for(var z=0;z<o.length;z++)(function(L){a.resolve(o[L]).then(function(D){T(L,D)},C)})(z)}function F(a){this.def=a,this.triggered=!1}function x(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(a){if(typeof a!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var o=new x(this);this.then=function(C,z){var Y={success:typeof C=="function"?C:!0,failure:typeof z=="function"?z:!1};return Y.promise=new this.constructor(function(O,D){if(typeof O!="function"||typeof D!="function")throw TypeError("Not a function");Y.resolve=O,Y.reject=D}),o.chain.push(Y),o.state!==0&&w(r,o),Y.promise},this.catch=function(C){return this.then(void 0,C)};try{a.call(void 0,function(C){p.call(o,C)},function(C){E.call(o,C)})}catch(T){E.call(o,T)}}var h=v({},"constructor",b,!1);return b.prototype=h,v(h,"__NPO__",0,!1),v(b,"resolve",function(o){var T=this;return o&&typeof o=="object"&&o.__NPO__===1?o:new T(function(z,Y){if(typeof z!="function"||typeof Y!="function")throw TypeError("Not a function");z(o)})}),v(b,"reject",function(o){return new this(function(C,z){if(typeof C!="function"||typeof z!="function")throw TypeError("Not a function");z(o)})}),v(b,"all",function(o){var T=this;return g.call(o)!="[object Array]"?T.reject(TypeError("Not an array")):o.length===0?T.resolve([]):new T(function(z,Y){if(typeof z!="function"||typeof Y!="function")throw TypeError("Not a function");var L=o.length,O=Array(L),D=0;S(T,o,function(U,B){O[U]=B,++D===L&&z(O)},Y)})}),v(b,"race",function(o){var T=this;return g.call(o)!="[object Array]"?T.reject(TypeError("Not an array")):new T(function(z,Y){if(typeof z!="function"||typeof Y!="function")throw TypeError("Not a function");S(T,o,function(O,D){z(D)},Y)})}),b})}}),Yr=Ke({"node_modules/@plotly/d3/d3.js"(M,N){(function(){var t={version:"3.8.2"},v=[].slice,u=function(e){return v.call(e)},m=self.document;function g(e){return e&&(e.ownerDocument||e.document||e).documentElement}function f(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(m)try{u(m.documentElement.childNodes)[0].nodeType}catch{u=function(s){for(var P=s.length,G=new Array(P);P--;)G[P]=s[P];return G}}if(Date.now||(Date.now=function(){return+new Date}),m)try{m.createElement("DIV").style.setProperty("opacity",0,"")}catch{var w=this.Element.prototype,c=w.setAttribute,r=w.setAttributeNS,A=this.CSSStyleDeclaration.prototype,p=A.setProperty;w.setAttribute=function(s,P){c.call(this,s,P+"")},w.setAttributeNS=function(s,P,G){r.call(this,s,P,G+"")},A.setProperty=function(s,P,G){p.call(this,s,P+"",G)}}t.ascending=E;function E(e,s){return e<s?-1:e>s?1:e>=s?0:NaN}t.descending=function(e,s){return s<e?-1:s>e?1:s>=e?0:NaN},t.min=function(e,s){var P=-1,G=e.length,V,Z;if(arguments.length===1){for(;++P<G;)if((Z=e[P])!=null&&Z>=Z){V=Z;break}for(;++P<G;)(Z=e[P])!=null&&V>Z&&(V=Z)}else{for(;++P<G;)if((Z=s.call(e,e[P],P))!=null&&Z>=Z){V=Z;break}for(;++P<G;)(Z=s.call(e,e[P],P))!=null&&V>Z&&(V=Z)}return V},t.max=function(e,s){var P=-1,G=e.length,V,Z;if(arguments.length===1){for(;++P<G;)if((Z=e[P])!=null&&Z>=Z){V=Z;break}for(;++P<G;)(Z=e[P])!=null&&Z>V&&(V=Z)}else{for(;++P<G;)if((Z=s.call(e,e[P],P))!=null&&Z>=Z){V=Z;break}for(;++P<G;)(Z=s.call(e,e[P],P))!=null&&Z>V&&(V=Z)}return V},t.extent=function(e,s){var P=-1,G=e.length,V,Z,ve;if(arguments.length===1){for(;++P<G;)if((Z=e[P])!=null&&Z>=Z){V=ve=Z;break}for(;++P<G;)(Z=e[P])!=null&&(V>Z&&(V=Z),ve<Z&&(ve=Z))}else{for(;++P<G;)if((Z=s.call(e,e[P],P))!=null&&Z>=Z){V=ve=Z;break}for(;++P<G;)(Z=s.call(e,e[P],P))!=null&&(V>Z&&(V=Z),ve<Z&&(ve=Z))}return[V,ve]};function S(e){return e===null?NaN:+e}function F(e){return!isNaN(e)}t.sum=function(e,s){var P=0,G=e.length,V,Z=-1;if(arguments.length===1)for(;++Z<G;)F(V=+e[Z])&&(P+=V);else for(;++Z<G;)F(V=+s.call(e,e[Z],Z))&&(P+=V);return P},t.mean=function(e,s){var P=0,G=e.length,V,Z=-1,ve=G;if(arguments.length===1)for(;++Z<G;)F(V=S(e[Z]))?P+=V:--ve;else for(;++Z<G;)F(V=S(s.call(e,e[Z],Z)))?P+=V:--ve;if(ve)return P/ve},t.quantile=function(e,s){var P=(e.length-1)*s+1,G=Math.floor(P),V=+e[G-1],Z=P-G;return Z?V+Z*(e[G]-V):V},t.median=function(e,s){var P=[],G=e.length,V,Z=-1;if(arguments.length===1)for(;++Z<G;)F(V=S(e[Z]))&&P.push(V);else for(;++Z<G;)F(V=S(s.call(e,e[Z],Z)))&&P.push(V);if(P.length)return t.quantile(P.sort(E),.5)},t.variance=function(e,s){var P=e.length,G=0,V,Z,ve=0,fe=-1,Ae=0;if(arguments.length===1)for(;++fe<P;)F(V=S(e[fe]))&&(Z=V-G,G+=Z/++Ae,ve+=Z*(V-G));else for(;++fe<P;)F(V=S(s.call(e,e[fe],fe)))&&(Z=V-G,G+=Z/++Ae,ve+=Z*(V-G));if(Ae>1)return ve/(Ae-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e&&Math.sqrt(e)};function x(e){return{left:function(s,P,G,V){for(arguments.length<3&&(G=0),arguments.length<4&&(V=s.length);G<V;){var Z=G+V>>>1;e(s[Z],P)<0?G=Z+1:V=Z}return G},right:function(s,P,G,V){for(arguments.length<3&&(G=0),arguments.length<4&&(V=s.length);G<V;){var Z=G+V>>>1;e(s[Z],P)>0?V=Z:G=Z+1}return G}}}var b=x(E);t.bisectLeft=b.left,t.bisect=t.bisectRight=b.right,t.bisector=function(e){return x(e.length===1?function(s,P){return E(e(s),P)}:e)},t.shuffle=function(e,s,P){(G=arguments.length)<3&&(P=e.length,G<2&&(s=0));for(var G=P-s,V,Z;G;)Z=Math.random()*G--|0,V=e[G+s],e[G+s]=e[Z+s],e[Z+s]=V;return e},t.permute=function(e,s){for(var P=s.length,G=new Array(P);P--;)G[P]=e[s[P]];return G},t.pairs=function(e){for(var s=0,P=e.length-1,G,V=e[0],Z=new Array(P<0?0:P);s<P;)Z[s]=[G=V,V=e[++s]];return Z},t.transpose=function(e){if(!(Z=e.length))return[];for(var s=-1,P=t.min(e,h),G=new Array(P);++s<P;)for(var V=-1,Z,ve=G[s]=new Array(Z);++V<Z;)ve[V]=e[V][s];return G};function h(e){return e.length}t.zip=function(){return t.transpose(arguments)},t.keys=function(e){var s=[];for(var P in e)s.push(P);return s},t.values=function(e){var s=[];for(var P in e)s.push(e[P]);return s},t.entries=function(e){var s=[];for(var P in e)s.push({key:P,value:e[P]});return s},t.merge=function(e){for(var s=e.length,P,G=-1,V=0,Z,ve;++G<s;)V+=e[G].length;for(Z=new Array(V);--s>=0;)for(ve=e[s],P=ve.length;--P>=0;)Z[--V]=ve[P];return Z};var a=Math.abs;t.range=function(e,s,P){if(arguments.length<3&&(P=1,arguments.length<2&&(s=e,e=0)),(s-e)/P===1/0)throw new Error("infinite range");var G=[],V=o(a(P)),Z=-1,ve;if(e*=V,s*=V,P*=V,P<0)for(;(ve=e+P*++Z)>s;)G.push(ve/V);else for(;(ve=e+P*++Z)<s;)G.push(ve/V);return G};function o(e){for(var s=1;e*s%1;)s*=10;return s}function T(e,s){for(var P in s)Object.defineProperty(e.prototype,P,{value:s[P],enumerable:!1})}t.map=function(e,s){var P=new C;if(e instanceof C)e.forEach(function(fe,Ae){P.set(fe,Ae)});else if(Array.isArray(e)){var G=-1,V=e.length,Z;if(arguments.length===1)for(;++G<V;)P.set(G,e[G]);else for(;++G<V;)P.set(s.call(e,Z=e[G],G),Z)}else for(var ve in e)P.set(ve,e[ve]);return P};function C(){this._=Object.create(null)}var z="__proto__",Y="\0";T(C,{has:D,get:function(e){return this._[L(e)]},set:function(e,s){return this._[L(e)]=s},remove:d,keys:U,values:function(){var e=[];for(var s in this._)e.push(this._[s]);return e},entries:function(){var e=[];for(var s in this._)e.push({key:O(s),value:this._[s]});return e},size:B,empty:X,forEach:function(e){for(var s in this._)e.call(this,O(s),this._[s])}});function L(e){return(e+="")===z||e[0]===Y?Y+e:e}function O(e){return(e+="")[0]===Y?e.slice(1):e}function D(e){return L(e)in this._}function d(e){return(e=L(e))in this._&&delete this._[e]}function U(){var e=[];for(var s in this._)e.push(O(s));return e}function B(){var e=0;for(var s in this._)++e;return e}function X(){for(var e in this._)return!1;return!0}t.nest=function(){var e={},s=[],P=[],G,V;function Z(fe,Ae,Pe){if(Pe>=s.length)return V?V.call(e,Ae):G?Ae.sort(G):Ae;for(var Se=-1,Ye=Ae.length,Ve=s[Pe++],mt,Tt,Qe,ot=new C,gt;++Se<Ye;)(gt=ot.get(mt=Ve(Tt=Ae[Se])))?gt.push(Tt):ot.set(mt,[Tt]);return fe?(Tt=fe(),Qe=function(_t,bt){Tt.set(_t,Z(fe,bt,Pe))}):(Tt={},Qe=function(_t,bt){Tt[_t]=Z(fe,bt,Pe)}),ot.forEach(Qe),Tt}function ve(fe,Ae){if(Ae>=s.length)return fe;var Pe=[],Se=P[Ae++];return fe.forEach(function(Ye,Ve){Pe.push({key:Ye,values:ve(Ve,Ae)})}),Se?Pe.sort(function(Ye,Ve){return Se(Ye.key,Ve.key)}):Pe}return e.map=function(fe,Ae){return Z(Ae,fe,0)},e.entries=function(fe){return ve(Z(t.map,fe,0),0)},e.key=function(fe){return s.push(fe),e},e.sortKeys=function(fe){return P[s.length-1]=fe,e},e.sortValues=function(fe){return G=fe,e},e.rollup=function(fe){return V=fe,e},e},t.set=function(e){var s=new K;if(e)for(var P=0,G=e.length;P<G;++P)s.add(e[P]);return s};function K(){this._=Object.create(null)}T(K,{has:D,add:function(e){return this._[L(e+="")]=!0,e},remove:d,values:U,size:B,empty:X,forEach:function(e){for(var s in this._)e.call(this,O(s))}}),t.behavior={};function H(e){return e}t.rebind=function(e,s){for(var P=1,G=arguments.length,V;++P<G;)e[V=arguments[P]]=te(e,s,s[V]);return e};function te(e,s,P){return function(){var G=P.apply(s,arguments);return G===s?e:G}}function ne(e,s){if(s in e)return s;s=s.charAt(0).toUpperCase()+s.slice(1);for(var P=0,G=ie.length;P<G;++P){var V=ie[P]+s;if(V in e)return V}}var ie=["webkit","ms","moz","Moz","o","O"];function re(){}t.dispatch=function(){for(var e=new oe,s=-1,P=arguments.length;++s<P;)e[arguments[s]]=W(e);return e};function oe(){}oe.prototype.on=function(e,s){var P=e.indexOf("."),G="";if(P>=0&&(G=e.slice(P+1),e=e.slice(0,P)),e)return arguments.length<2?this[e].on(G):this[e].on(G,s);if(arguments.length===2){if(s==null)for(e in this)this.hasOwnProperty(e)&&this[e].on(G,null);return this}};function W(e){var s=[],P=new C;function G(){for(var V=s,Z=-1,ve=V.length,fe;++Z<ve;)(fe=V[Z].on)&&fe.apply(this,arguments);return e}return G.on=function(V,Z){var ve=P.get(V),fe;return arguments.length<2?ve&&ve.on:(ve&&(ve.on=null,s=s.slice(0,fe=s.indexOf(ve)).concat(s.slice(fe+1)),P.remove(V)),Z&&s.push(P.set(V,{on:Z})),e)},G}t.event=null;function ee(){t.event.preventDefault()}function de(){for(var e=t.event,s;s=e.sourceEvent;)e=s;return e}function he(e){for(var s=new oe,P=0,G=arguments.length;++P<G;)s[arguments[P]]=W(s);return s.of=function(V,Z){return function(ve){try{var fe=ve.sourceEvent=t.event;ve.target=e,t.event=ve,s[ve.type].apply(V,Z)}finally{t.event=fe}}},s}t.requote=function(e){return e.replace(I,"\\$&")};var I=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,R={}.__proto__?function(e,s){e.__proto__=s}:function(e,s){for(var P in s)e[P]=s[P]};function _(e){return R(e,y),e}var i=function(e,s){return s.querySelector(e)},l=function(e,s){return s.querySelectorAll(e)},k=function(e,s){var P=e.matches||e[ne(e,"matchesSelector")];return k=function(G,V){return P.call(G,V)},k(e,s)};typeof Sizzle=="function"&&(i=function(e,s){return Sizzle(e,s)[0]||null},l=Sizzle,k=Sizzle.matchesSelector),t.selection=function(){return t.select(m.documentElement)};var y=t.selection.prototype=[];y.select=function(e){var s=[],P,G,V,Z;e=n(e);for(var ve=-1,fe=this.length;++ve<fe;){s.push(P=[]),P.parentNode=(V=this[ve]).parentNode;for(var Ae=-1,Pe=V.length;++Ae<Pe;)(Z=V[Ae])?(P.push(G=e.call(Z,Z.__data__,Ae,ve)),G&&"__data__"in Z&&(G.__data__=Z.__data__)):P.push(null)}return _(s)};function n(e){return typeof e=="function"?e:function(){return i(e,this)}}y.selectAll=function(e){var s=[],P,G;e=q(e);for(var V=-1,Z=this.length;++V<Z;)for(var ve=this[V],fe=-1,Ae=ve.length;++fe<Ae;)(G=ve[fe])&&(s.push(P=u(e.call(G,G.__data__,fe,V))),P.parentNode=G);return _(s)};function q(e){return typeof e=="function"?e:function(){return l(e,this)}}var J="http://www.w3.org/1999/xhtml",se={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};t.ns={prefix:se,qualify:function(e){var s=e.indexOf(":"),P=e;return s>=0&&(P=e.slice(0,s))!=="xmlns"&&(e=e.slice(s+1)),se.hasOwnProperty(P)?{space:se[P],local:e}:e}},y.attr=function(e,s){if(arguments.length<2){if(typeof e=="string"){var P=this.node();return e=t.ns.qualify(e),e.local?P.getAttributeNS(e.space,e.local):P.getAttribute(e)}for(s in e)this.each(ye(s,e[s]));return this}return this.each(ye(e,s))};function ye(e,s){e=t.ns.qualify(e);function P(){this.removeAttribute(e)}function G(){this.removeAttributeNS(e.space,e.local)}function V(){this.setAttribute(e,s)}function Z(){this.setAttributeNS(e.space,e.local,s)}function ve(){var Ae=s.apply(this,arguments);Ae==null?this.removeAttribute(e):this.setAttribute(e,Ae)}function fe(){var Ae=s.apply(this,arguments);Ae==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,Ae)}return s==null?e.local?G:P:typeof s=="function"?e.local?fe:ve:e.local?Z:V}function we(e){return e.trim().replace(/\s+/g," ")}y.classed=function(e,s){if(arguments.length<2){if(typeof e=="string"){var P=this.node(),G=(e=ue(e)).length,V=-1;if(s=P.classList){for(;++V<G;)if(!s.contains(e[V]))return!1}else for(s=P.getAttribute("class");++V<G;)if(!ke(e[V]).test(s))return!1;return!0}for(s in e)this.each(Me(s,e[s]));return this}return this.each(Me(e,s))};function ke(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function ue(e){return(e+"").trim().split(/^|\s+/)}function Me(e,s){e=ue(e).map(Ne);var P=e.length;function G(){for(var Z=-1;++Z<P;)e[Z](this,s)}function V(){for(var Z=-1,ve=s.apply(this,arguments);++Z<P;)e[Z](this,ve)}return typeof s=="function"?V:G}function Ne(e){var s=ke(e);return function(P,G){if(V=P.classList)return G?V.add(e):V.remove(e);var V=P.getAttribute("class")||"";G?(s.lastIndex=0,s.test(V)||P.setAttribute("class",we(V+" "+e))):P.setAttribute("class",we(V.replace(s," ")))}}y.style=function(e,s,P){var G=arguments.length;if(G<3){if(typeof e!="string"){G<2&&(s="");for(P in e)this.each(Ce(P,e[P],s));return this}if(G<2){var V=this.node();return f(V).getComputedStyle(V,null).getPropertyValue(e)}P=""}return this.each(Ce(e,s,P))};function Ce(e,s,P){function G(){this.style.removeProperty(e)}function V(){this.style.setProperty(e,s,P)}function Z(){var ve=s.apply(this,arguments);ve==null?this.style.removeProperty(e):this.style.setProperty(e,ve,P)}return s==null?G:typeof s=="function"?Z:V}y.property=function(e,s){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(s in e)this.each(Le(s,e[s]));return this}return this.each(Le(e,s))};function Le(e,s){function P(){delete this[e]}function G(){this[e]=s}function V(){var Z=s.apply(this,arguments);Z==null?delete this[e]:this[e]=Z}return s==null?P:typeof s=="function"?V:G}y.text=function(e){return arguments.length?this.each(typeof e=="function"?function(){var s=e.apply(this,arguments);this.textContent=s??""}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},y.html=function(e){return arguments.length?this.each(typeof e=="function"?function(){var s=e.apply(this,arguments);this.innerHTML=s??""}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},y.append=function(e){return e=$(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})};function $(e){function s(){var G=this.ownerDocument,V=this.namespaceURI;return V===J&&G.documentElement.namespaceURI===J?G.createElement(e):G.createElementNS(V,e)}function P(){return this.ownerDocument.createElementNS(e.space,e.local)}return typeof e=="function"?e:(e=t.ns.qualify(e)).local?P:s}y.insert=function(e,s){return e=$(e),s=n(s),this.select(function(){return this.insertBefore(e.apply(this,arguments),s.apply(this,arguments)||null)})},y.remove=function(){return this.each(ce)};function ce(){var e=this.parentNode;e&&e.removeChild(this)}y.data=function(e,s){var P=-1,G=this.length,V,Z;if(!arguments.length){for(e=new Array(G=(V=this[0]).length);++P<G;)(Z=V[P])&&(e[P]=Z.__data__);return e}function ve(Se,Ye){var Ve,mt=Se.length,Tt=Ye.length,Qe=Math.min(mt,Tt),ot=new Array(Tt),gt=new Array(Tt),_t=new Array(mt),bt,at;if(s){var Ct=new C,Bt=new Array(mt),Xt;for(Ve=-1;++Ve<mt;)(bt=Se[Ve])&&(Ct.has(Xt=s.call(bt,bt.__data__,Ve))?_t[Ve]=bt:Ct.set(Xt,bt),Bt[Ve]=Xt);for(Ve=-1;++Ve<Tt;)(bt=Ct.get(Xt=s.call(Ye,at=Ye[Ve],Ve)))?bt!==!0&&(ot[Ve]=bt,bt.__data__=at):gt[Ve]=me(at),Ct.set(Xt,!0);for(Ve=-1;++Ve<mt;)Ve in Bt&&Ct.get(Bt[Ve])!==!0&&(_t[Ve]=Se[Ve])}else{for(Ve=-1;++Ve<Qe;)bt=Se[Ve],at=Ye[Ve],bt?(bt.__data__=at,ot[Ve]=bt):gt[Ve]=me(at);for(;Ve<Tt;++Ve)gt[Ve]=me(Ye[Ve]);for(;Ve<mt;++Ve)_t[Ve]=Se[Ve]}gt.update=ot,gt.parentNode=ot.parentNode=_t.parentNode=Se.parentNode,fe.push(gt),Ae.push(ot),Pe.push(_t)}var fe=Xe([]),Ae=_([]),Pe=_([]);if(typeof e=="function")for(;++P<G;)ve(V=this[P],e.call(V,V.parentNode.__data__,P));else for(;++P<G;)ve(V=this[P],e);return Ae.enter=function(){return fe},Ae.exit=function(){return Pe},Ae};function me(e){return{__data__:e}}y.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},y.filter=function(e){var s=[],P,G,V;typeof e!="function"&&(e=pe(e));for(var Z=0,ve=this.length;Z<ve;Z++){s.push(P=[]),P.parentNode=(G=this[Z]).parentNode;for(var fe=0,Ae=G.length;fe<Ae;fe++)(V=G[fe])&&e.call(V,V.__data__,fe,Z)&&P.push(V)}return _(s)};function pe(e){return function(){return k(this,e)}}y.order=function(){for(var e=-1,s=this.length;++e<s;)for(var P=this[e],G=P.length-1,V=P[G],Z;--G>=0;)(Z=P[G])&&(V&&V!==Z.nextSibling&&V.parentNode.insertBefore(Z,V),V=Z);return this},y.sort=function(e){e=xe.apply(this,arguments);for(var s=-1,P=this.length;++s<P;)this[s].sort(e);return this.order()};function xe(e){return arguments.length||(e=E),function(s,P){return s&&P?e(s.__data__,P.__data__):!s-!P}}y.each=function(e){return Oe(this,function(s,P,G){e.call(s,s.__data__,P,G)})};function Oe(e,s){for(var P=0,G=e.length;P<G;P++)for(var V=e[P],Z=0,ve=V.length,fe;Z<ve;Z++)(fe=V[Z])&&s(fe,Z,P);return e}y.call=function(e){var s=u(arguments);return e.apply(s[0]=this,s),this},y.empty=function(){return!this.node()},y.node=function(){for(var e=0,s=this.length;e<s;e++)for(var P=this[e],G=0,V=P.length;G<V;G++){var Z=P[G];if(Z)return Z}return null},y.size=function(){var e=0;return Oe(this,function(){++e}),e};function Xe(e){return R(e,$e),e}var $e=[];t.selection.enter=Xe,t.selection.enter.prototype=$e,$e.append=y.append,$e.empty=y.empty,$e.node=y.node,$e.call=y.call,$e.size=y.size,$e.select=function(e){for(var s=[],P,G,V,Z,ve,fe=-1,Ae=this.length;++fe<Ae;){V=(Z=this[fe]).update,s.push(P=[]),P.parentNode=Z.parentNode;for(var Pe=-1,Se=Z.length;++Pe<Se;)(ve=Z[Pe])?(P.push(V[Pe]=G=e.call(Z.parentNode,ve.__data__,Pe,fe)),G.__data__=ve.__data__):P.push(null)}return _(s)},$e.insert=function(e,s){return arguments.length<2&&(s=pt(this)),y.insert.call(this,e,s)};function pt(e){var s,P;return function(G,V,Z){var ve=e[Z].update,fe=ve.length,Ae;for(Z!=P&&(P=Z,s=0),V>=s&&(s=V+1);!(Ae=ve[s])&&++s<fe;);return Ae}}t.select=function(e){var s;return typeof e=="string"?(s=[i(e,m)],s.parentNode=m.documentElement):(s=[e],s.parentNode=g(e)),_([s])},t.selectAll=function(e){var s;return typeof e=="string"?(s=u(l(e,m)),s.parentNode=m.documentElement):(s=u(e),s.parentNode=null),_([s])},y.on=function(e,s,P){var G=arguments.length;if(G<3){if(typeof e!="string"){G<2&&(s=!1);for(P in e)this.each(rt(P,e[P],s));return this}if(G<2)return(G=this.node()["__on"+e])&&G._;P=!1}return this.each(rt(e,s,P))};function rt(e,s,P){var G="__on"+e,V=e.indexOf("."),Z=Mt;V>0&&(e=e.slice(0,V));var ve=kt.get(e);ve&&(e=ve,Z=Dt);function fe(){var Se=this[G];Se&&(this.removeEventListener(e,Se,Se.$),delete this[G])}function Ae(){var Se=Z(s,u(arguments));fe.call(this),this.addEventListener(e,this[G]=Se,Se.$=P),Se._=s}function Pe(){var Se=new RegExp("^__on([^.]+)"+t.requote(e)+"$"),Ye;for(var Ve in this)if(Ye=Ve.match(Se)){var mt=this[Ve];this.removeEventListener(Ye[1],mt,mt.$),delete this[Ve]}}return V?s?Ae:fe:s?re:Pe}var kt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});m&&kt.forEach(function(e){"on"+e in m&&kt.remove(e)});function Mt(e,s){return function(P){var G=t.event;t.event=P,s[0]=this.__data__;try{e.apply(this,s)}finally{t.event=G}}}function Dt(e,s){var P=Mt(e,s);return function(G){var V=this,Z=G.relatedTarget;(!Z||Z!==V&&!(Z.compareDocumentPosition(V)&8))&&P.call(V,G)}}var lt,wt=0;function ut(e){var s=".dragsuppress-"+ ++wt,P="click"+s,G=t.select(f(e)).on("touchmove"+s,ee).on("dragstart"+s,ee).on("selectstart"+s,ee);if(lt==null&&(lt="onselectstart"in e?!1:ne(e.style,"userSelect")),lt){var V=g(e).style,Z=V[lt];V[lt]="none"}return function(ve){if(G.on(s,null),lt&&(V[lt]=Z),ve){var fe=function(){G.on(P,null)};G.on(P,function(){ee(),fe()},!0),setTimeout(fe,0)}}}t.mouse=function(e){return et(e,de())};var yt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function et(e,s){s.changedTouches&&(s=s.changedTouches[0]);var P=e.ownerSVGElement||e;if(P.createSVGPoint){var G=P.createSVGPoint();if(yt<0){var V=f(e);if(V.scrollX||V.scrollY){P=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Z=P[0][0].getScreenCTM();yt=!(Z.f||Z.e),P.remove()}}return yt?(G.x=s.pageX,G.y=s.pageY):(G.x=s.clientX,G.y=s.clientY),G=G.matrixTransform(e.getScreenCTM().inverse()),[G.x,G.y]}var ve=e.getBoundingClientRect();return[s.clientX-ve.left-e.clientLeft,s.clientY-ve.top-e.clientTop]}t.touch=function(e,s,P){if(arguments.length<3&&(P=s,s=de().changedTouches),s){for(var G=0,V=s.length,Z;G<V;++G)if((Z=s[G]).identifier===P)return et(e,Z)}},t.behavior.drag=function(){var e=he(V,"drag","dragstart","dragend"),s=null,P=Z(re,t.mouse,f,"mousemove","mouseup"),G=Z(tt,t.touch,H,"touchmove","touchend");function V(){this.on("mousedown.drag",P).on("touchstart.drag",G)}function Z(ve,fe,Ae,Pe,Se){return function(){var Ye=this,Ve=t.event.target.correspondingElement||t.event.target,mt=Ye.parentNode,Tt=e.of(Ye,arguments),Qe=0,ot=ve(),gt=".drag"+(ot==null?"":"-"+ot),_t,bt=t.select(Ae(Ve)).on(Pe+gt,Bt).on(Se+gt,Xt),at=ut(Ve),Ct=fe(mt,ot);s?(_t=s.apply(Ye,arguments),_t=[_t.x-Ct[0],_t.y-Ct[1]]):_t=[0,0],Tt({type:"dragstart"});function Bt(){var Ut=fe(mt,ot),Qt,Jt;Ut&&(Qt=Ut[0]-Ct[0],Jt=Ut[1]-Ct[1],Qe|=Qt|Jt,Ct=Ut,Tt({type:"drag",x:Ut[0]+_t[0],y:Ut[1]+_t[1],dx:Qt,dy:Jt}))}function Xt(){fe(mt,ot)&&(bt.on(Pe+gt,null).on(Se+gt,null),at(Qe),Tt({type:"dragend"}))}}}return V.origin=function(ve){return arguments.length?(s=ve,V):s},t.rebind(V,e,"on")};function tt(){return t.event.changedTouches[0].identifier}t.touches=function(e,s){return arguments.length<2&&(s=de().touches),s?u(s).map(function(P){var G=et(e,P);return G.identifier=P.identifier,G}):[]};var ct=1e-6,le=ct*ct,ge=Math.PI,_e=2*ge,Te=_e-ct,He=ge/2,qe=ge/180,Ze=180/ge;function Ie(e){return e>0?1:e<0?-1:0}function Be(e,s,P){return(s[0]-e[0])*(P[1]-e[1])-(s[1]-e[1])*(P[0]-e[0])}function ze(e){return e>1?0:e<-1?ge:Math.acos(e)}function st(e){return e>1?He:e<-1?-He:Math.asin(e)}function vt(e){return((e=Math.exp(e))-1/e)/2}function xt(e){return((e=Math.exp(e))+1/e)/2}function Lt(e){return((e=Math.exp(2*e))-1)/(e+1)}function Wt(e){return(e=Math.sin(e/2))*e}var Vt=Math.SQRT2,Gt=2,hr=4;t.interpolateZoom=function(e,s){var P=e[0],G=e[1],V=e[2],Z=s[0],ve=s[1],fe=s[2],Ae=Z-P,Pe=ve-G,Se=Ae*Ae+Pe*Pe,Ye,Ve;if(Se<le)Ve=Math.log(fe/V)/Vt,Ye=function(_t){return[P+_t*Ae,G+_t*Pe,V*Math.exp(Vt*_t*Ve)]};else{var mt=Math.sqrt(Se),Tt=(fe*fe-V*V+hr*Se)/(2*V*Gt*mt),Qe=(fe*fe-V*V-hr*Se)/(2*fe*Gt*mt),ot=Math.log(Math.sqrt(Tt*Tt+1)-Tt),gt=Math.log(Math.sqrt(Qe*Qe+1)-Qe);Ve=(gt-ot)/Vt,Ye=function(_t){var bt=_t*Ve,at=xt(ot),Ct=V/(Gt*mt)*(at*Lt(Vt*bt+ot)-vt(ot));return[P+Ct*Ae,G+Ct*Pe,V*at/xt(Vt*bt+ot)]}}return Ye.duration=Ve*1e3,Ye},t.behavior.zoom=function(){var e={x:0,y:0,k:1},s,P,G,V=[960,500],Z=Kt,ve=250,fe=0,Ae="mousedown.zoom",Pe="mousemove.zoom",Se="mouseup.zoom",Ye,Ve="touchstart.zoom",mt,Tt=he(bt,"zoomstart","zoom","zoomend"),Qe,ot,gt,_t;or||(or="onwheel"in m?(jt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in m?(jt=function(){return t.event.wheelDelta},"mousewheel"):(jt=function(){return-t.event.detail},"MozMousePixelScroll"));function bt(qt){qt.on(Ae,dr).on(or+".zoom",tn).on("dblclick.zoom",Hr).on(Ve,Rr)}bt.event=function(qt){qt.each(function(){var br=Tt.of(this,arguments),Tr=e;na?t.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1},Jt(br)}).tween("zoom:zoom",function(){var Nr=V[0],Qr=V[1],on=P?P[0]:Nr/2,fn=P?P[1]:Qr/2,pn=t.interpolateZoom([(on-e.x)/e.k,(fn-e.y)/e.k,Nr/e.k],[(on-Tr.x)/Tr.k,(fn-Tr.y)/Tr.k,Nr/Tr.k]);return function(gn){var yn=pn(gn),_n=Nr/yn[2];this.__chart__=e={x:on-yn[0]*_n,y:fn-yn[1]*_n,k:_n},_r(br)}}).each("interrupt.zoom",function(){rr(br)}).each("end.zoom",function(){rr(br)}):(this.__chart__=e,Jt(br),_r(br),rr(br))})},bt.translate=function(qt){return arguments.length?(e={x:+qt[0],y:+qt[1],k:e.k},Qt(),bt):[e.x,e.y]},bt.scale=function(qt){return arguments.length?(e={x:e.x,y:e.y,k:null},Bt(+qt),Qt(),bt):e.k},bt.scaleExtent=function(qt){return arguments.length?(Z=qt==null?Kt:[+qt[0],+qt[1]],bt):Z},bt.center=function(qt){return arguments.length?(G=qt&&[+qt[0],+qt[1]],bt):G},bt.size=function(qt){return arguments.length?(V=qt&&[+qt[0],+qt[1]],bt):V},bt.duration=function(qt){return arguments.length?(ve=+qt,bt):ve},bt.x=function(qt){return arguments.length?(ot=qt,Qe=qt.copy(),e={x:0,y:0,k:1},bt):ot},bt.y=function(qt){return arguments.length?(_t=qt,gt=qt.copy(),e={x:0,y:0,k:1},bt):_t};function at(qt){return[(qt[0]-e.x)/e.k,(qt[1]-e.y)/e.k]}function Ct(qt){return[qt[0]*e.k+e.x,qt[1]*e.k+e.y]}function Bt(qt){e.k=Math.max(Z[0],Math.min(Z[1],qt))}function Xt(qt,br){br=Ct(br),e.x+=qt[0]-br[0],e.y+=qt[1]-br[1]}function Ut(qt,br,Tr,Nr){qt.__chart__={x:e.x,y:e.y,k:e.k},Bt(Math.pow(2,Nr)),Xt(P=br,Tr),qt=t.select(qt),ve>0&&(qt=qt.transition().duration(ve)),qt.call(bt.event)}function Qt(){ot&&ot.domain(Qe.range().map(function(qt){return(qt-e.x)/e.k}).map(Qe.invert)),_t&&_t.domain(gt.range().map(function(qt){return(qt-e.y)/e.k}).map(gt.invert))}function Jt(qt){fe++||qt({type:"zoomstart"})}function _r(qt){Qt(),qt({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function rr(qt){--fe||(qt({type:"zoomend"}),P=null)}function dr(){var qt=this,br=Tt.of(qt,arguments),Tr=0,Nr=t.select(f(qt)).on(Pe,fn).on(Se,pn),Qr=at(t.mouse(qt)),on=ut(qt);Ai.call(qt),Jt(br);function fn(){Tr=1,Xt(t.mouse(qt),Qr),_r(br)}function pn(){Nr.on(Pe,null).on(Se,null),on(Tr),rr(br)}}function Rr(){var qt=this,br=Tt.of(qt,arguments),Tr={},Nr=0,Qr,on=".zoom-"+t.event.changedTouches[0].identifier,fn="touchmove"+on,pn="touchend"+on,gn=[],yn=t.select(qt),_n=ut(qt);bn(),Jt(br),yn.on(Ae,null).on(Ve,bn);function vn(){var Nn=t.touches(qt);return Qr=e.k,Nn.forEach(function(cn){cn.identifier in Tr&&(Tr[cn.identifier]=at(cn))}),Nn}function bn(){var Nn=t.event.target;t.select(Nn).on(fn,aa).on(pn,Ch),gn.push(Nn);for(var cn=t.event.changedTouches,kn=0,Hn=cn.length;kn<Hn;++kn)Tr[cn[kn].identifier]=null;var Ln=vn(),ya=Date.now();if(Ln.length===1){if(ya-mt<500){var ia=Ln[0];Ut(qt,ia,Tr[ia.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),ee()}mt=ya}else if(Ln.length>1){var ia=Ln[0],Zn=Ln[1],ki=ia[0]-Zn[0],pu=ia[1]-Zn[1];Nr=ki*ki+pu*pu}}function aa(){var Nn=t.touches(qt),cn,kn,Hn,Ln;Ai.call(qt);for(var ya=0,ia=Nn.length;ya<ia;++ya,Ln=null)if(Hn=Nn[ya],Ln=Tr[Hn.identifier]){if(kn)break;cn=Hn,kn=Ln}if(Ln){var Zn=(Zn=Hn[0]-cn[0])*Zn+(Zn=Hn[1]-cn[1])*Zn,ki=Nr&&Math.sqrt(Zn/Nr);cn=[(cn[0]+Hn[0])/2,(cn[1]+Hn[1])/2],kn=[(kn[0]+Ln[0])/2,(kn[1]+Ln[1])/2],Bt(ki*Qr)}mt=null,Xt(cn,kn),_r(br)}function Ch(){if(t.event.touches.length){for(var Nn=t.event.changedTouches,cn=0,kn=Nn.length;cn<kn;++cn)delete Tr[Nn[cn].identifier];for(var Hn in Tr)return void vn()}t.selectAll(gn).on(on,null),yn.on(Ae,dr).on(Ve,Rr),_n(),rr(br)}}function tn(){var qt=Tt.of(this,arguments);Ye?clearTimeout(Ye):(Ai.call(this),s=at(P=G||t.mouse(this)),Jt(qt)),Ye=setTimeout(function(){Ye=null,rr(qt)},50),ee(),Bt(Math.pow(2,jt()*.002)*e.k),Xt(P,s),_r(qt)}function Hr(){var qt=t.mouse(this),br=Math.log(e.k)/Math.LN2;Ut(this,qt,at(qt),t.event.shiftKey?Math.ceil(br)-1:Math.floor(br)+1)}return t.rebind(bt,Tt,"on")};var Kt=[0,1/0],jt,or;t.color=sr;function sr(){}sr.prototype.toString=function(){return this.rgb()+""},t.hsl=er;function er(e,s,P){return this instanceof er?(this.h=+e,this.s=+s,void(this.l=+P)):arguments.length<2?e instanceof er?new er(e.h,e.s,e.l):dt(""+e,Pt,er):new er(e,s,P)}var ar=er.prototype=new sr;ar.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new er(this.h,this.s,this.l/e)},ar.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new er(this.h,this.s,e*this.l)},ar.rgb=function(){return Ot(this.h,this.s,this.l)};function Ot(e,s,P){var G,V;e=isNaN(e)?0:(e%=360)<0?e+360:e,s=isNaN(s)||s<0?0:s>1?1:s,P=P<0?0:P>1?1:P,V=P<=.5?P*(1+s):P+s-P*s,G=2*P-V;function Z(fe){return fe>360?fe-=360:fe<0&&(fe+=360),fe<60?G+(V-G)*fe/60:fe<180?V:fe<240?G+(V-G)*(240-fe)/60:G}function ve(fe){return Math.round(Z(fe)*255)}return new Ue(ve(e+120),ve(e),ve(e-120))}t.hcl=Yt;function Yt(e,s,P){return this instanceof Yt?(this.h=+e,this.c=+s,void(this.l=+P)):arguments.length<2?e instanceof Yt?new Yt(e.h,e.c,e.l):e instanceof It?j(e.l,e.a,e.b):j((e=Nt((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Yt(e,s,P)}var fr=Yt.prototype=new sr;fr.brighter=function(e){return new Yt(this.h,this.c,Math.min(100,this.l+cr*(arguments.length?e:1)))},fr.darker=function(e){return new Yt(this.h,this.c,Math.max(0,this.l-cr*(arguments.length?e:1)))},fr.rgb=function(){return xr(this.h,this.c,this.l).rgb()};function xr(e,s,P){return isNaN(e)&&(e=0),isNaN(s)&&(s=0),new It(P,Math.cos(e*=qe)*s,Math.sin(e)*s)}t.lab=It;function It(e,s,P){return this instanceof It?(this.l=+e,this.a=+s,void(this.b=+P)):arguments.length<2?e instanceof It?new It(e.l,e.a,e.b):e instanceof Yt?xr(e.h,e.c,e.l):Nt((e=Ue(e)).r,e.g,e.b):new It(e,s,P)}var cr=18,wr=.95047,qr=1,Fr=1.08883,Rt=It.prototype=new sr;Rt.brighter=function(e){return new It(Math.min(100,this.l+cr*(arguments.length?e:1)),this.a,this.b)},Rt.darker=function(e){return new It(Math.max(0,this.l-cr*(arguments.length?e:1)),this.a,this.b)},Rt.rgb=function(){return Q(this.l,this.a,this.b)};function Q(e,s,P){var G=(e+16)/116,V=G+s/500,Z=G-P/200;return V=Fe(V)*wr,G=Fe(G)*qr,Z=Fe(Z)*Fr,new Ue(Ge(3.2404542*V-1.5371385*G-.4985314*Z),Ge(-.969266*V+1.8760108*G+.041556*Z),Ge(.0556434*V-.2040259*G+1.0572252*Z))}function j(e,s,P){return e>0?new Yt(Math.atan2(P,s)*Ze,Math.sqrt(s*s+P*P),e):new Yt(NaN,NaN,e)}function Fe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Re(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Ge(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}t.rgb=Ue;function Ue(e,s,P){return this instanceof Ue?(this.r=~~e,this.g=~~s,void(this.b=~~P)):arguments.length<2?e instanceof Ue?new Ue(e.r,e.g,e.b):dt(""+e,Ue,Ot):new Ue(e,s,P)}function je(e){return new Ue(e>>16,e>>8&255,e&255)}function We(e){return je(e)+""}var Je=Ue.prototype=new sr;Je.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var s=this.r,P=this.g,G=this.b,V=30;return!s&&!P&&!G?new Ue(V,V,V):(s&&s<V&&(s=V),P&&P<V&&(P=V),G&&G<V&&(G=V),new Ue(Math.min(255,s/e),Math.min(255,P/e),Math.min(255,G/e)))},Je.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(e*this.r,e*this.g,e*this.b)},Je.hsl=function(){return Pt(this.r,this.g,this.b)},Je.toString=function(){return"#"+ht(this.r)+ht(this.g)+ht(this.b)};function ht(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function dt(e,s,P){var G=0,V=0,Z=0,ve,fe,Ae;if(ve=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()),ve)switch(fe=ve[2].split(","),ve[1]){case"hsl":return P(parseFloat(fe[0]),parseFloat(fe[1])/100,parseFloat(fe[2])/100);case"rgb":return s(be(fe[0]),be(fe[1]),be(fe[2]))}return(Ae=Ee.get(e))?s(Ae.r,Ae.g,Ae.b):(e!=null&&e.charAt(0)==="#"&&!isNaN(Ae=parseInt(e.slice(1),16))&&(e.length===4?(G=(Ae&3840)>>4,G=G>>4|G,V=Ae&240,V=V>>4|V,Z=Ae&15,Z=Z<<4|Z):e.length===7&&(G=(Ae&16711680)>>16,V=(Ae&65280)>>8,Z=Ae&255)),s(G,V,Z))}function Pt(e,s,P){var G=Math.min(e/=255,s/=255,P/=255),V=Math.max(e,s,P),Z=V-G,ve,fe,Ae=(V+G)/2;return Z?(fe=Ae<.5?Z/(V+G):Z/(2-V-G),e==V?ve=(s-P)/Z+(s<P?6:0):s==V?ve=(P-e)/Z+2:ve=(e-s)/Z+4,ve*=60):(ve=NaN,fe=Ae>0&&Ae<1?0:ve),new er(ve,fe,Ae)}function Nt(e,s,P){e=ae(e),s=ae(s),P=ae(P);var G=Re((.4124564*e+.3575761*s+.1804375*P)/wr),V=Re((.2126729*e+.7151522*s+.072175*P)/qr),Z=Re((.0193339*e+.119192*s+.9503041*P)/Fr);return It(116*V-16,500*(G-V),200*(V-Z))}function ae(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function be(e){var s=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(s*2.55):s}var Ee=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ee.forEach(function(e,s){Ee.set(e,je(s))});function De(e){return typeof e=="function"?e:function(){return e}}t.functor=De,t.xhr=it(H);function it(e){return function(s,P,G){return arguments.length===2&&typeof P=="function"&&(G=P,P=null),ft(s,P,e,G)}}function ft(e,s,P,G){var V={},Z=t.dispatch("beforesend","progress","load","error"),ve={},fe=new XMLHttpRequest,Ae=null;self.XDomainRequest&&!("withCredentials"in fe)&&/^(http(s)?:)?\/\//.test(e)&&(fe=new XDomainRequest),"onload"in fe?fe.onload=fe.onerror=Pe:fe.onreadystatechange=function(){fe.readyState>3&&Pe()};function Pe(){var Se=fe.status,Ye;if(!Se&&nt(fe)||Se>=200&&Se<300||Se===304){try{Ye=P.call(V,fe)}catch(Ve){Z.error.call(V,Ve);return}Z.load.call(V,Ye)}else Z.error.call(V,fe)}return fe.onprogress=function(Se){var Ye=t.event;t.event=Se;try{Z.progress.call(V,fe)}finally{t.event=Ye}},V.header=function(Se,Ye){return Se=(Se+"").toLowerCase(),arguments.length<2?ve[Se]:(Ye==null?delete ve[Se]:ve[Se]=Ye+"",V)},V.mimeType=function(Se){return arguments.length?(s=Se==null?null:Se+"",V):s},V.responseType=function(Se){return arguments.length?(Ae=Se,V):Ae},V.response=function(Se){return P=Se,V},["get","post"].forEach(function(Se){V[Se]=function(){return V.send.apply(V,[Se].concat(u(arguments)))}}),V.send=function(Se,Ye,Ve){if(arguments.length===2&&typeof Ye=="function"&&(Ve=Ye,Ye=null),fe.open(Se,e,!0),s!=null&&!("accept"in ve)&&(ve.accept=s+",*/*"),fe.setRequestHeader)for(var mt in ve)fe.setRequestHeader(mt,ve[mt]);return s!=null&&fe.overrideMimeType&&fe.overrideMimeType(s),Ae!=null&&(fe.responseType=Ae),Ve!=null&&V.on("error",Ve).on("load",function(Tt){Ve(null,Tt)}),Z.beforesend.call(V,fe),fe.send(Ye??null),V},V.abort=function(){return fe.abort(),V},t.rebind(V,Z,"on"),G==null?V:V.get(At(G))}function At(e){return e.length===1?function(s,P){e(s==null?P:null)}:e}function nt(e){var s=e.responseType;return s&&s!=="text"?e.response:e.responseText}t.dsv=function(e,s){var P=new RegExp('["'+e+`
]`),G=e.charCodeAt(0);function V(Pe,Se,Ye){arguments.length<3&&(Ye=Se,Se=null);var Ve=ft(Pe,s,Se==null?Z:ve(Se),Ye);return Ve.row=function(mt){return arguments.length?Ve.response((Se=mt)==null?Z:ve(mt)):Se},Ve}function Z(Pe){return V.parse(Pe.responseText)}function ve(Pe){return function(Se){return V.parse(Se.responseText,Pe)}}V.parse=function(Pe,Se){var Ye;return V.parseRows(Pe,function(Ve,mt){if(Ye)return Ye(Ve,mt-1);var Tt=function(Qe){for(var ot={},gt=Ve.length,_t=0;_t<gt;++_t)ot[Ve[_t]]=Qe[_t];return ot};Ye=Se?function(Qe,ot){return Se(Tt(Qe),ot)}:Tt})},V.parseRows=function(Pe,Se){var Ye={},Ve={},mt=[],Tt=Pe.length,Qe=0,ot=0,gt,_t;function bt(){if(Qe>=Tt)return Ve;if(_t)return _t=!1,Ye;var Ct=Qe;if(Pe.charCodeAt(Ct)===34){for(var Bt=Ct;Bt++<Tt;)if(Pe.charCodeAt(Bt)===34){if(Pe.charCodeAt(Bt+1)!==34)break;++Bt}Qe=Bt+2;var Xt=Pe.charCodeAt(Bt+1);return Xt===13?(_t=!0,Pe.charCodeAt(Bt+2)===10&&++Qe):Xt===10&&(_t=!0),Pe.slice(Ct+1,Bt).replace(/""/g,'"')}for(;Qe<Tt;){var Xt=Pe.charCodeAt(Qe++),Ut=1;if(Xt===10)_t=!0;else if(Xt===13)_t=!0,Pe.charCodeAt(Qe)===10&&(++Qe,++Ut);else if(Xt!==G)continue;return Pe.slice(Ct,Qe-Ut)}return Pe.slice(Ct)}for(;(gt=bt())!==Ve;){for(var at=[];gt!==Ye&&gt!==Ve;)at.push(gt),gt=bt();Se&&(at=Se(at,ot++))==null||mt.push(at)}return mt},V.format=function(Pe){if(Array.isArray(Pe[0]))return V.formatRows(Pe);var Se=new K,Ye=[];return Pe.forEach(function(Ve){for(var mt in Ve)Se.has(mt)||Ye.push(Se.add(mt))}),[Ye.map(Ae).join(e)].concat(Pe.map(function(Ve){return Ye.map(function(mt){return Ae(Ve[mt])}).join(e)})).join(`
`)},V.formatRows=function(Pe){return Pe.map(fe).join(`
`)};function fe(Pe){return Pe.map(Ae).join(e)}function Ae(Pe){return P.test(Pe)?'"'+Pe.replace(/\"/g,'""')+'"':Pe}return V},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("	","text/tab-separated-values");var St,Et,Ft,Ht,$t=this[ne(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};t.timer=function(){yr.apply(this,arguments)};function yr(e,s,P){var G=arguments.length;G<2&&(s=0),G<3&&(P=Date.now());var V=P+s,Z={c:e,t:V,n:null};return Et?Et.n=Z:St=Z,Et=Z,Ft||(Ht=clearTimeout(Ht),Ft=1,$t(mr)),Z}function mr(){var e=lr(),s=ur()-e;s>24?(isFinite(s)&&(clearTimeout(Ht),Ht=setTimeout(mr,s)),Ft=0):(Ft=1,$t(mr))}t.timer.flush=function(){lr(),ur()};function lr(){for(var e=Date.now(),s=St;s;)e>=s.t&&s.c(e-s.t)&&(s.c=null),s=s.n;return e}function ur(){for(var e,s=St,P=1/0;s;)s.c?(s.t<P&&(P=s.t),s=(e=s).n):s=e?e.n=s.n:St=s.n;return Et=e,P}t.round=function(e,s){return s?Math.round(e*(s=Math.pow(10,s)))/s:Math.round(e)},t.geom={};function zt(e){return e[0]}function Ar(e){return e[1]}t.geom.hull=function(e){var s=zt,P=Ar;if(arguments.length)return G(e);function G(V){if(V.length<3)return[];var Z=De(s),ve=De(P),fe,Ae=V.length,Pe=[],Se=[];for(fe=0;fe<Ae;fe++)Pe.push([+Z.call(this,V[fe],fe),+ve.call(this,V[fe],fe),fe]);for(Pe.sort(Mr),fe=0;fe<Ae;fe++)Se.push([Pe[fe][0],-Pe[fe][1]]);var Ye=gr(Pe),Ve=gr(Se),mt=Ve[0]===Ye[0],Tt=Ve[Ve.length-1]===Ye[Ye.length-1],Qe=[];for(fe=Ye.length-1;fe>=0;--fe)Qe.push(V[Pe[Ye[fe]][2]]);for(fe=+mt;fe<Ve.length-Tt;++fe)Qe.push(V[Pe[Ve[fe]][2]]);return Qe}return G.x=function(V){return arguments.length?(s=V,G):s},G.y=function(V){return arguments.length?(P=V,G):P},G};function gr(e){for(var s=e.length,P=[0,1],G=2,V=2;V<s;V++){for(;G>1&&Be(e[P[G-2]],e[P[G-1]],e[V])<=0;)--G;P[G++]=V}return P.slice(0,G)}function Mr(e,s){return e[0]-s[0]||e[1]-s[1]}t.geom.polygon=function(e){return R(e,ir),e};var ir=t.geom.polygon.prototype=[];ir.area=function(){for(var e=-1,s=this.length,P,G=this[s-1],V=0;++e<s;)P=G,G=this[e],V+=P[1]*G[0]-P[0]*G[1];return V*.5},ir.centroid=function(e){var s=-1,P=this.length,G=0,V=0,Z,ve=this[P-1],fe;for(arguments.length||(e=-1/(6*this.area()));++s<P;)Z=ve,ve=this[s],fe=Z[0]*ve[1]-ve[0]*Z[1],G+=(Z[0]+ve[0])*fe,V+=(Z[1]+ve[1])*fe;return[G*e,V*e]},ir.clip=function(e){for(var s,P=kr(e),G=-1,V=this.length-kr(this),Z,ve,fe=this[V-1],Ae,Pe,Se;++G<V;){for(s=e.slice(),e.length=0,Ae=this[G],Pe=s[(ve=s.length-P)-1],Z=-1;++Z<ve;)Se=s[Z],vr(Se,fe,Ae)?(vr(Pe,fe,Ae)||e.push(nr(Pe,Se,fe,Ae)),e.push(Se)):vr(Pe,fe,Ae)&&e.push(nr(Pe,Se,fe,Ae)),Pe=Se;P&&e.push(e[0]),fe=Ae}return e};function vr(e,s,P){return(P[0]-s[0])*(e[1]-s[1])<(P[1]-s[1])*(e[0]-s[0])}function nr(e,s,P,G){var V=e[0],Z=P[0],ve=s[0]-V,fe=G[0]-Z,Ae=e[1],Pe=P[1],Se=s[1]-Ae,Ye=G[1]-Pe,Ve=(fe*(Ae-Pe)-Ye*(V-Z))/(Ye*ve-fe*Se);return[V+Ve*ve,Ae+Ve*Se]}function kr(e){var s=e[0],P=e[e.length-1];return!(s[0]-P[0]||s[1]-P[1])}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(e,s,P,G,V){var Z=zt,ve=Ar,fe;if(fe=arguments.length)return Z=Pr,ve=Dr,fe===3&&(V=P,G=s,P=s=0),Ae(e);function Ae(Pe){var Se,Ye=De(Z),Ve=De(ve),mt,Tt,Qe,ot,gt,_t,bt,at;if(s!=null)gt=s,_t=P,bt=G,at=V;else if(bt=at=-(gt=_t=1/0),mt=[],Tt=[],ot=Pe.length,fe)for(Qe=0;Qe<ot;++Qe)Se=Pe[Qe],Se.x<gt&&(gt=Se.x),Se.y<_t&&(_t=Se.y),Se.x>bt&&(bt=Se.x),Se.y>at&&(at=Se.y),mt.push(Se.x),Tt.push(Se.y);else for(Qe=0;Qe<ot;++Qe){var Ct=+Ye(Se=Pe[Qe],Qe),Bt=+Ve(Se,Qe);Ct<gt&&(gt=Ct),Bt<_t&&(_t=Bt),Ct>bt&&(bt=Ct),Bt>at&&(at=Bt),mt.push(Ct),Tt.push(Bt)}var Xt=bt-gt,Ut=at-_t;Xt>Ut?at=_t+Xt:bt=gt+Ut;function Qt(rr,dr,Rr,tn,Hr,qt,br,Tr){if(!(isNaN(Rr)||isNaN(tn)))if(rr.leaf){var Nr=rr.x,Qr=rr.y;if(Nr!=null)if(a(Nr-Rr)+a(Qr-tn)<.01)Jt(rr,dr,Rr,tn,Hr,qt,br,Tr);else{var on=rr.point;rr.x=rr.y=rr.point=null,Jt(rr,on,Nr,Qr,Hr,qt,br,Tr),Jt(rr,dr,Rr,tn,Hr,qt,br,Tr)}else rr.x=Rr,rr.y=tn,rr.point=dr}else Jt(rr,dr,Rr,tn,Hr,qt,br,Tr)}function Jt(rr,dr,Rr,tn,Hr,qt,br,Tr){var Nr=(Hr+br)*.5,Qr=(qt+Tr)*.5,on=Rr>=Nr,fn=tn>=Qr,pn=fn<<1|on;rr.leaf=!1,rr=rr.nodes[pn]||(rr.nodes[pn]=Cr()),on?Hr=Nr:br=Nr,fn?qt=Qr:Tr=Qr,Qt(rr,dr,Rr,tn,Hr,qt,br,Tr)}var _r=Cr();if(_r.add=function(rr){Qt(_r,rr,+Ye(rr,++Qe),+Ve(rr,Qe),gt,_t,bt,at)},_r.visit=function(rr){tr(rr,_r,gt,_t,bt,at)},_r.find=function(rr){return pr(_r,rr[0],rr[1],gt,_t,bt,at)},Qe=-1,s==null){for(;++Qe<ot;)Qt(_r,Pe[Qe],mt[Qe],Tt[Qe],gt,_t,bt,at);--Qe}else Pe.forEach(_r.add);return mt=Tt=Pe=Se=null,_r}return Ae.x=function(Pe){return arguments.length?(Z=Pe,Ae):Z},Ae.y=function(Pe){return arguments.length?(ve=Pe,Ae):ve},Ae.extent=function(Pe){return arguments.length?(Pe==null?s=P=G=V=null:(s=+Pe[0][0],P=+Pe[0][1],G=+Pe[1][0],V=+Pe[1][1]),Ae):s==null?null:[[s,P],[G,V]]},Ae.size=function(Pe){return arguments.length?(Pe==null?s=P=G=V=null:(s=P=0,G=+Pe[0],V=+Pe[1]),Ae):s==null?null:[G-s,V-P]},Ae};function Pr(e){return e.x}function Dr(e){return e.y}function Cr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function tr(e,s,P,G,V,Z){if(!e(s,P,G,V,Z)){var ve=(P+V)*.5,fe=(G+Z)*.5,Ae=s.nodes;Ae[0]&&tr(e,Ae[0],P,G,ve,fe),Ae[1]&&tr(e,Ae[1],ve,G,V,fe),Ae[2]&&tr(e,Ae[2],P,fe,ve,Z),Ae[3]&&tr(e,Ae[3],ve,fe,V,Z)}}function pr(e,s,P,G,V,Z,ve){var fe=1/0,Ae;return function Pe(Se,Ye,Ve,mt,Tt){if(!(Ye>Z||Ve>ve||mt<G||Tt<V)){if(Qe=Se.point){var Qe,ot=s-Se.x,gt=P-Se.y,_t=ot*ot+gt*gt;if(_t<fe){var bt=Math.sqrt(fe=_t);G=s-bt,V=P-bt,Z=s+bt,ve=P+bt,Ae=Qe}}for(var at=Se.nodes,Ct=(Ye+mt)*.5,Bt=(Ve+Tt)*.5,Xt=s>=Ct,Ut=P>=Bt,Qt=Ut<<1|Xt,Jt=Qt+4;Qt<Jt;++Qt)if(Se=at[Qt&3])switch(Qt&3){case 0:Pe(Se,Ye,Ve,Ct,Bt);break;case 1:Pe(Se,Ct,Ve,mt,Bt);break;case 2:Pe(Se,Ye,Bt,Ct,Tt);break;case 3:Pe(Se,Ct,Bt,mt,Tt);break}}}(e,G,V,Z,ve),Ae}t.interpolateRgb=Ir;function Ir(e,s){e=t.rgb(e),s=t.rgb(s);var P=e.r,G=e.g,V=e.b,Z=s.r-P,ve=s.g-G,fe=s.b-V;return function(Ae){return"#"+ht(Math.round(P+Z*Ae))+ht(Math.round(G+ve*Ae))+ht(Math.round(V+fe*Ae))}}t.interpolateObject=Or;function Or(e,s){var P={},G={},V;for(V in e)V in s?P[V]=Xr(e[V],s[V]):G[V]=e[V];for(V in s)V in e||(G[V]=s[V]);return function(Z){for(V in P)G[V]=P[V](Z);return G}}t.interpolateNumber=zr;function zr(e,s){return e=+e,s=+s,function(P){return e*(1-P)+s*P}}t.interpolateString=Sr;function Sr(e,s){var P=Jr.lastIndex=Kr.lastIndex=0,G,V,Z,ve=-1,fe=[],Ae=[];for(e=e+"",s=s+"";(G=Jr.exec(e))&&(V=Kr.exec(s));)(Z=V.index)>P&&(Z=s.slice(P,Z),fe[ve]?fe[ve]+=Z:fe[++ve]=Z),(G=G[0])===(V=V[0])?fe[ve]?fe[ve]+=V:fe[++ve]=V:(fe[++ve]=null,Ae.push({i:ve,x:zr(G,V)})),P=Kr.lastIndex;return P<s.length&&(Z=s.slice(P),fe[ve]?fe[ve]+=Z:fe[++ve]=Z),fe.length<2?Ae[0]?(s=Ae[0].x,function(Pe){return s(Pe)+""}):function(){return s}:(s=Ae.length,function(Pe){for(var Se=0,Ye;Se<s;++Se)fe[(Ye=Ae[Se]).i]=Ye.x(Pe);return fe.join("")})}var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(Jr.source,"g");t.interpolate=Xr;function Xr(e,s){for(var P=t.interpolators.length,G;--P>=0&&!(G=t.interpolators[P](e,s)););return G}t.interpolators=[function(e,s){var P=typeof s;return(P==="string"?Ee.has(s.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(s)?Ir:Sr:s instanceof sr?Ir:Array.isArray(s)?en:P==="object"&&isNaN(s)?Or:zr)(e,s)}],t.interpolateArray=en;function en(e,s){var P=[],G=[],V=e.length,Z=s.length,ve=Math.min(e.length,s.length),fe;for(fe=0;fe<ve;++fe)P.push(Xr(e[fe],s[fe]));for(;fe<V;++fe)G[fe]=e[fe];for(;fe<Z;++fe)G[fe]=s[fe];return function(Ae){for(fe=0;fe<ve;++fe)G[fe]=P[fe](Ae);return G}}var rn=function(){return H},Vr=t.map({linear:rn,poly:Br,quad:function(){return Gr},cubic:function(){return Wr},sin:function(){return Tn},exp:function(){return Vn},circle:function(){return fi},elastic:Ca,back:ra,bounce:function(){return ci}}),nn=t.map({in:H,out:jr,"in-out":ln,"out-in":function(e){return ln(jr(e))}});t.ease=function(e){var s=e.indexOf("-"),P=s>=0?e.slice(0,s):e,G=s>=0?e.slice(s+1):"in";return P=Vr.get(P)||rn,G=nn.get(G)||H,sn(G(P.apply(null,v.call(arguments,1))))};function sn(e){return function(s){return s<=0?0:s>=1?1:e(s)}}function jr(e){return function(s){return 1-e(1-s)}}function ln(e){return function(s){return .5*(s<.5?e(2*s):2-e(2-2*s))}}function Gr(e){return e*e}function Wr(e){return e*e*e}function Lr(e){if(e<=0)return 0;if(e>=1)return 1;var s=e*e,P=s*e;return 4*(e<.5?P:3*(e-s)+P-.75)}function Br(e){return function(s){return Math.pow(s,e)}}function Tn(e){return 1-Math.cos(e*He)}function Vn(e){return Math.pow(2,10*(e-1))}function fi(e){return 1-Math.sqrt(1-e*e)}function Ca(e,s){var P;return arguments.length<2&&(s=.45),arguments.length?P=s/_e*Math.asin(1/e):(e=1,P=s/4),function(G){return 1+e*Math.pow(2,-10*G)*Math.sin((G-P)*_e/s)}}function ra(e){return e||(e=1.70158),function(s){return s*s*((e+1)*s-e)}}function ci(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}t.interpolateHcl=vi;function vi(e,s){e=t.hcl(e),s=t.hcl(s);var P=e.h,G=e.c,V=e.l,Z=s.h-P,ve=s.c-G,fe=s.l-V;return isNaN(ve)&&(ve=0,G=isNaN(G)?s.c:G),isNaN(Z)?(Z=0,P=isNaN(P)?s.h:P):Z>180?Z-=360:Z<-180&&(Z+=360),function(Ae){return xr(P+Z*Ae,G+ve*Ae,V+fe*Ae)+""}}t.interpolateHsl=hi;function hi(e,s){e=t.hsl(e),s=t.hsl(s);var P=e.h,G=e.s,V=e.l,Z=s.h-P,ve=s.s-G,fe=s.l-V;return isNaN(ve)&&(ve=0,G=isNaN(G)?s.s:G),isNaN(Z)?(Z=0,P=isNaN(P)?s.h:P):Z>180?Z-=360:Z<-180&&(Z+=360),function(Ae){return Ot(P+Z*Ae,G+ve*Ae,V+fe*Ae)+""}}t.interpolateLab=di;function di(e,s){e=t.lab(e),s=t.lab(s);var P=e.l,G=e.a,V=e.b,Z=s.l-P,ve=s.a-G,fe=s.b-V;return function(Ae){return Q(P+Z*Ae,G+ve*Ae,V+fe*Ae)+""}}t.interpolateRound=Da;function Da(e,s){return s-=e,function(P){return Math.round(e+s*P)}}t.transform=function(e){var s=m.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(P){if(P!=null){s.setAttribute("transform",P);var G=s.transform.baseVal.consolidate()}return new xs(G?G.matrix:hv)})(e)};function xs(e){var s=[e.a,e.b],P=[e.c,e.d],G=As(s),V=ws(s,P),Z=As(vv(P,s,-V))||0;s[0]*P[1]<P[0]*s[1]&&(s[0]*=-1,s[1]*=-1,G*=-1,V*=-1),this.rotate=(G?Math.atan2(s[1],s[0]):Math.atan2(-P[0],P[1]))*Ze,this.translate=[e.e,e.f],this.scale=[G,Z],this.skew=Z?Math.atan2(V,Z)*Ze:0}xs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function ws(e,s){return e[0]*s[0]+e[1]*s[1]}function As(e){var s=Math.sqrt(ws(e,e));return s&&(e[0]/=s,e[1]/=s),s}function vv(e,s,P){return e[0]+=P*s[0],e[1]+=P*s[1],e}var hv={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Ts;function pa(e){return e.length?e.pop()+",":""}function dv(e,s,P,G){if(e[0]!==s[0]||e[1]!==s[1]){var V=P.push("translate(",null,",",null,")");G.push({i:V-4,x:zr(e[0],s[0])},{i:V-2,x:zr(e[1],s[1])})}else(s[0]||s[1])&&P.push("translate("+s+")")}function pv(e,s,P,G){e!==s?(e-s>180?s+=360:s-e>180&&(e+=360),G.push({i:P.push(pa(P)+"rotate(",null,")")-2,x:zr(e,s)})):s&&P.push(pa(P)+"rotate("+s+")")}function yv(e,s,P,G){e!==s?G.push({i:P.push(pa(P)+"skewX(",null,")")-2,x:zr(e,s)}):s&&P.push(pa(P)+"skewX("+s+")")}function gv(e,s,P,G){if(e[0]!==s[0]||e[1]!==s[1]){var V=P.push(pa(P)+"scale(",null,",",null,")");G.push({i:V-4,x:zr(e[0],s[0])},{i:V-2,x:zr(e[1],s[1])})}else(s[0]!==1||s[1]!==1)&&P.push(pa(P)+"scale("+s+")")}function Ts(e,s){var P=[],G=[];return e=t.transform(e),s=t.transform(s),dv(e.translate,s.translate,P,G),pv(e.rotate,s.rotate,P,G),yv(e.skew,s.skew,P,G),gv(e.scale,s.scale,P,G),e=s=null,function(V){for(var Z=-1,ve=G.length,fe;++Z<ve;)P[(fe=G[Z]).i]=fe.x(V);return P.join("")}}function mv(e,s){return s=(s-=e=+e)||1/s,function(P){return(P-e)/s}}function _v(e,s){return s=(s-=e=+e)||1/s,function(P){return Math.max(0,Math.min(1,(P-e)/s))}}t.layout={},t.layout.bundle=function(){return function(e){for(var s=[],P=-1,G=e.length;++P<G;)s.push(bv(e[P]));return s}};function bv(e){for(var s=e.source,P=e.target,G=xv(s,P),V=[s];s!==G;)s=s.parent,V.push(s);for(var Z=V.length;P!==G;)V.splice(Z,0,P),P=P.parent;return V}function Ms(e){for(var s=[],P=e.parent;P!=null;)s.push(e),e=P,P=P.parent;return s.push(e),s}function xv(e,s){if(e===s)return e;for(var P=Ms(e),G=Ms(s),V=P.pop(),Z=G.pop(),ve=null;V===Z;)ve=V,V=P.pop(),Z=G.pop();return ve}t.layout.chord=function(){var e={},s,P,G,V,Z=0,ve,fe,Ae;function Pe(){var Ye={},Ve=[],mt=t.range(V),Tt=[],Qe,ot,gt,_t,bt;for(s=[],P=[],Qe=0,_t=-1;++_t<V;){for(ot=0,bt=-1;++bt<V;)ot+=G[_t][bt];Ve.push(ot),Tt.push(t.range(V)),Qe+=ot}for(ve&&mt.sort(function(_r,rr){return ve(Ve[_r],Ve[rr])}),fe&&Tt.forEach(function(_r,rr){_r.sort(function(dr,Rr){return fe(G[rr][dr],G[rr][Rr])})}),Qe=(_e-Z*V)/Qe,ot=0,_t=-1;++_t<V;){for(gt=ot,bt=-1;++bt<V;){var at=mt[_t],Ct=Tt[at][bt],Bt=G[at][Ct],Xt=ot,Ut=ot+=Bt*Qe;Ye[at+"-"+Ct]={index:at,subindex:Ct,startAngle:Xt,endAngle:Ut,value:Bt}}P[at]={index:at,startAngle:gt,endAngle:ot,value:Ve[at]},ot+=Z}for(_t=-1;++_t<V;)for(bt=_t-1;++bt<V;){var Qt=Ye[_t+"-"+bt],Jt=Ye[bt+"-"+_t];(Qt.value||Jt.value)&&s.push(Qt.value<Jt.value?{source:Jt,target:Qt}:{source:Qt,target:Jt})}Ae&&Se()}function Se(){s.sort(function(Ye,Ve){return Ae((Ye.source.value+Ye.target.value)/2,(Ve.source.value+Ve.target.value)/2)})}return e.matrix=function(Ye){return arguments.length?(V=(G=Ye)&&G.length,s=P=null,e):G},e.padding=function(Ye){return arguments.length?(Z=Ye,s=P=null,e):Z},e.sortGroups=function(Ye){return arguments.length?(ve=Ye,s=P=null,e):ve},e.sortSubgroups=function(Ye){return arguments.length?(fe=Ye,s=null,e):fe},e.sortChords=function(Ye){return arguments.length?(Ae=Ye,s&&Se(),e):Ae},e.chords=function(){return s||Pe(),s},e.groups=function(){return P||Pe(),P},e},t.layout.force=function(){var e={},s=t.dispatch("start","tick","end"),P,G=[1,1],V,Z,ve=.9,fe=kv,Ae=Lv,Pe=-30,Se=Sv,Ye=.1,Ve=.64,mt=[],Tt=[],Qe,ot,gt;function _t(at){return function(Ct,Bt,Xt,Ut){if(Ct.point!==at){var Qt=Ct.cx-at.x,Jt=Ct.cy-at.y,_r=Ut-Bt,rr=Qt*Qt+Jt*Jt;if(_r*_r/Ve<rr){if(rr<Se){var dr=Ct.charge/rr;at.px-=Qt*dr,at.py-=Jt*dr}return!0}if(Ct.point&&rr&&rr<Se){var dr=Ct.pointCharge/rr;at.px-=Qt*dr,at.py-=Jt*dr}}return!Ct.charge}}e.tick=function(){if((Z*=.99)<.005)return P=null,s.end({type:"end",alpha:Z=0}),!0;var at=mt.length,Ct=Tt.length,Bt,Xt,Ut,Qt,Jt,_r,rr,dr,Rr;for(Xt=0;Xt<Ct;++Xt)Ut=Tt[Xt],Qt=Ut.source,Jt=Ut.target,dr=Jt.x-Qt.x,Rr=Jt.y-Qt.y,(_r=dr*dr+Rr*Rr)&&(_r=Z*ot[Xt]*((_r=Math.sqrt(_r))-Qe[Xt])/_r,dr*=_r,Rr*=_r,Jt.x-=dr*(rr=Qt.weight+Jt.weight?Qt.weight/(Qt.weight+Jt.weight):.5),Jt.y-=Rr*rr,Qt.x+=dr*(rr=1-rr),Qt.y+=Rr*rr);if((rr=Z*Ye)&&(dr=G[0]/2,Rr=G[1]/2,Xt=-1,rr))for(;++Xt<at;)Ut=mt[Xt],Ut.x+=(dr-Ut.x)*rr,Ut.y+=(Rr-Ut.y)*rr;if(Pe)for(ks(Bt=t.geom.quadtree(mt),Z,gt),Xt=-1;++Xt<at;)(Ut=mt[Xt]).fixed||Bt.visit(_t(Ut));for(Xt=-1;++Xt<at;)Ut=mt[Xt],Ut.fixed?(Ut.x=Ut.px,Ut.y=Ut.py):(Ut.x-=(Ut.px-(Ut.px=Ut.x))*ve,Ut.y-=(Ut.py-(Ut.py=Ut.y))*ve);s.tick({type:"tick",alpha:Z})},e.nodes=function(at){return arguments.length?(mt=at,e):mt},e.links=function(at){return arguments.length?(Tt=at,e):Tt},e.size=function(at){return arguments.length?(G=at,e):G},e.linkDistance=function(at){return arguments.length?(fe=typeof at=="function"?at:+at,e):fe},e.distance=e.linkDistance,e.linkStrength=function(at){return arguments.length?(Ae=typeof at=="function"?at:+at,e):Ae},e.friction=function(at){return arguments.length?(ve=+at,e):ve},e.charge=function(at){return arguments.length?(Pe=typeof at=="function"?at:+at,e):Pe},e.chargeDistance=function(at){return arguments.length?(Se=at*at,e):Math.sqrt(Se)},e.gravity=function(at){return arguments.length?(Ye=+at,e):Ye},e.theta=function(at){return arguments.length?(Ve=at*at,e):Math.sqrt(Ve)},e.alpha=function(at){return arguments.length?(at=+at,Z?at>0?Z=at:(P.c=null,P.t=NaN,P=null,s.end({type:"end",alpha:Z=0})):at>0&&(s.start({type:"start",alpha:Z=at}),P=yr(e.tick)),e):Z},e.start=function(){var at,Ct=mt.length,Bt=Tt.length,Xt=G[0],Ut=G[1],Qt,Jt;for(at=0;at<Ct;++at)(Jt=mt[at]).index=at,Jt.weight=0;for(at=0;at<Bt;++at)Jt=Tt[at],typeof Jt.source=="number"&&(Jt.source=mt[Jt.source]),typeof Jt.target=="number"&&(Jt.target=mt[Jt.target]),++Jt.source.weight,++Jt.target.weight;for(at=0;at<Ct;++at)Jt=mt[at],isNaN(Jt.x)&&(Jt.x=_r("x",Xt)),isNaN(Jt.y)&&(Jt.y=_r("y",Ut)),isNaN(Jt.px)&&(Jt.px=Jt.x),isNaN(Jt.py)&&(Jt.py=Jt.y);if(Qe=[],typeof fe=="function")for(at=0;at<Bt;++at)Qe[at]=+fe.call(this,Tt[at],at);else for(at=0;at<Bt;++at)Qe[at]=fe;if(ot=[],typeof Ae=="function")for(at=0;at<Bt;++at)ot[at]=+Ae.call(this,Tt[at],at);else for(at=0;at<Bt;++at)ot[at]=Ae;if(gt=[],typeof Pe=="function")for(at=0;at<Ct;++at)gt[at]=+Pe.call(this,mt[at],at);else for(at=0;at<Ct;++at)gt[at]=Pe;function _r(rr,dr){if(!Qt){for(Qt=new Array(Ct),Hr=0;Hr<Ct;++Hr)Qt[Hr]=[];for(Hr=0;Hr<Bt;++Hr){var Rr=Tt[Hr];Qt[Rr.source.index].push(Rr.target),Qt[Rr.target.index].push(Rr.source)}}for(var tn=Qt[at],Hr=-1,qt=tn.length,br;++Hr<qt;)if(!isNaN(br=tn[Hr][rr]))return br;return Math.random()*dr}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(V||(V=t.behavior.drag().origin(H).on("dragstart.force",wv).on("drag.force",bt).on("dragend.force",Av)),!arguments.length)return V;this.on("mouseover.force",Tv).on("mouseout.force",Mv).call(V)};function bt(at){at.px=t.event.x,at.py=t.event.y,e.resume()}return t.rebind(e,s,"on")};function wv(e){e.fixed|=2}function Av(e){e.fixed&=-7}function Tv(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Mv(e){e.fixed&=-5}function ks(e,s,P){var G=0,V=0;if(e.charge=0,!e.leaf)for(var Z=e.nodes,ve=Z.length,fe=-1,Ae;++fe<ve;)Ae=Z[fe],Ae!=null&&(ks(Ae,s,P),e.charge+=Ae.charge,G+=Ae.charge*Ae.cx,V+=Ae.charge*Ae.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var Pe=s*P[e.point.index];e.charge+=e.pointCharge=Pe,G+=Pe*e.point.x,V+=Pe*e.point.y}e.cx=G/e.charge,e.cy=V/e.charge}var kv=20,Lv=1,Sv=1/0;t.layout.hierarchy=function(){var e=Cv,s=Pv,P=Ev;function G(V){var Z=[V],ve=[],fe;for(V.depth=0;(fe=Z.pop())!=null;)if(ve.push(fe),(Pe=s.call(G,fe,fe.depth))&&(Ae=Pe.length)){for(var Ae,Pe,Se;--Ae>=0;)Z.push(Se=Pe[Ae]),Se.parent=fe,Se.depth=fe.depth+1;P&&(fe.value=0),fe.children=Pe}else P&&(fe.value=+P.call(G,fe,fe.depth)||0),delete fe.children;return On(V,function(Ye){var Ve,mt;e&&(Ve=Ye.children)&&Ve.sort(e),P&&(mt=Ye.parent)&&(mt.value+=Ye.value)}),ve}return G.sort=function(V){return arguments.length?(e=V,G):e},G.children=function(V){return arguments.length?(s=V,G):s},G.value=function(V){return arguments.length?(P=V,G):P},G.revalue=function(V){return P&&(Na(V,function(Z){Z.children&&(Z.value=0)}),On(V,function(Z){var ve;Z.children||(Z.value=+P.call(G,Z,Z.depth)||0),(ve=Z.parent)&&(ve.value+=Z.value)})),V},G};function Ra(e,s){return t.rebind(e,s,"sort","children","value"),e.nodes=e,e.links=Dv,e}function Na(e,s){for(var P=[e];(e=P.pop())!=null;)if(s(e),(V=e.children)&&(G=V.length))for(var G,V;--G>=0;)P.push(V[G])}function On(e,s){for(var P=[e],G=[];(e=P.pop())!=null;)if(G.push(e),(ve=e.children)&&(Z=ve.length))for(var V=-1,Z,ve;++V<Z;)P.push(ve[V]);for(;(e=G.pop())!=null;)s(e)}function Pv(e){return e.children}function Ev(e){return e.value}function Cv(e,s){return s.value-e.value}function Dv(e){return t.merge(e.map(function(s){return(s.children||[]).map(function(P){return{source:s,target:P}})}))}t.layout.partition=function(){var e=t.layout.hierarchy(),s=[1,1];function P(Z,ve,fe,Ae){var Pe=Z.children;if(Z.x=ve,Z.y=Z.depth*Ae,Z.dx=fe,Z.dy=Ae,Pe&&(Ye=Pe.length)){var Se=-1,Ye,Ve,mt;for(fe=Z.value?fe/Z.value:0;++Se<Ye;)P(Ve=Pe[Se],ve,mt=Ve.value*fe,Ae),ve+=mt}}function G(Z){var ve=Z.children,fe=0;if(ve&&(Pe=ve.length))for(var Ae=-1,Pe;++Ae<Pe;)fe=Math.max(fe,G(ve[Ae]));return 1+fe}function V(Z,ve){var fe=e.call(this,Z,ve);return P(fe[0],0,s[0],s[1]/G(fe[0])),fe}return V.size=function(Z){return arguments.length?(s=Z,V):s},Ra(V,e)},t.layout.pie=function(){var e=Number,s=Ls,P=0,G=_e,V=0;function Z(ve){var fe=ve.length,Ae=ve.map(function(_t,bt){return+e.call(Z,_t,bt)}),Pe=+(typeof P=="function"?P.apply(this,arguments):P),Se=(typeof G=="function"?G.apply(this,arguments):G)-Pe,Ye=Math.min(Math.abs(Se)/fe,+(typeof V=="function"?V.apply(this,arguments):V)),Ve=Ye*(Se<0?-1:1),mt=t.sum(Ae),Tt=mt?(Se-fe*Ve)/mt:0,Qe=t.range(fe),ot=[],gt;return s!=null&&Qe.sort(s===Ls?function(_t,bt){return Ae[bt]-Ae[_t]}:function(_t,bt){return s(ve[_t],ve[bt])}),Qe.forEach(function(_t){ot[_t]={data:ve[_t],value:gt=Ae[_t],startAngle:Pe,endAngle:Pe+=gt*Tt+Ve,padAngle:Ye}}),ot}return Z.value=function(ve){return arguments.length?(e=ve,Z):e},Z.sort=function(ve){return arguments.length?(s=ve,Z):s},Z.startAngle=function(ve){return arguments.length?(P=ve,Z):P},Z.endAngle=function(ve){return arguments.length?(G=ve,Z):G},Z.padAngle=function(ve){return arguments.length?(V=ve,Z):V},Z};var Ls={};t.layout.stack=function(){var e=H,s=fo,P=co,G=Fv,V=Rv,Z=Nv;function ve(fe,Ae){if(!(Tt=fe.length))return fe;var Pe=fe.map(function(_t,bt){return e.call(ve,_t,bt)}),Se=Pe.map(function(_t){return _t.map(function(bt,at){return[V.call(ve,bt,at),Z.call(ve,bt,at)]})}),Ye=s.call(ve,Se,Ae);Pe=t.permute(Pe,Ye),Se=t.permute(Se,Ye);var Ve=P.call(ve,Se,Ae),mt=Pe[0].length,Tt,Qe,ot,gt;for(ot=0;ot<mt;++ot)for(G.call(ve,Pe[0][ot],gt=Ve[ot],Se[0][ot][1]),Qe=1;Qe<Tt;++Qe)G.call(ve,Pe[Qe][ot],gt+=Se[Qe-1][ot][1],Se[Qe][ot][1]);return fe}return ve.values=function(fe){return arguments.length?(e=fe,ve):e},ve.order=function(fe){return arguments.length?(s=typeof fe=="function"?fe:zv.get(fe)||fo,ve):s},ve.offset=function(fe){return arguments.length?(P=typeof fe=="function"?fe:Iv.get(fe)||co,ve):P},ve.x=function(fe){return arguments.length?(V=fe,ve):V},ve.y=function(fe){return arguments.length?(Z=fe,ve):Z},ve.out=function(fe){return arguments.length?(G=fe,ve):G},ve};function Rv(e){return e.x}function Nv(e){return e.y}function Fv(e,s,P){e.y0=s,e.y=P}var zv=t.map({"inside-out":function(e){var s=e.length,P,G,V=e.map(Ov),Z=e.map(Hv),ve=t.range(s).sort(function(Ye,Ve){return V[Ye]-V[Ve]}),fe=0,Ae=0,Pe=[],Se=[];for(P=0;P<s;++P)G=ve[P],fe<Ae?(fe+=Z[G],Pe.push(G)):(Ae+=Z[G],Se.push(G));return Se.reverse().concat(Pe)},reverse:function(e){return t.range(e.length).reverse()},default:fo}),Iv=t.map({silhouette:function(e){var s=e.length,P=e[0].length,G=[],V=0,Z,ve,fe,Ae=[];for(ve=0;ve<P;++ve){for(Z=0,fe=0;Z<s;Z++)fe+=e[Z][ve][1];fe>V&&(V=fe),G.push(fe)}for(ve=0;ve<P;++ve)Ae[ve]=(V-G[ve])/2;return Ae},wiggle:function(e){var s=e.length,P=e[0],G=P.length,V,Z,ve,fe,Ae,Pe,Se,Ye,Ve,mt=[];for(mt[0]=Ye=Ve=0,Z=1;Z<G;++Z){for(V=0,fe=0;V<s;++V)fe+=e[V][Z][1];for(V=0,Ae=0,Se=P[Z][0]-P[Z-1][0];V<s;++V){for(ve=0,Pe=(e[V][Z][1]-e[V][Z-1][1])/(2*Se);ve<V;++ve)Pe+=(e[ve][Z][1]-e[ve][Z-1][1])/Se;Ae+=Pe*e[V][Z][1]}mt[Z]=Ye-=fe?Ae/fe*Se:0,Ye<Ve&&(Ve=Ye)}for(Z=0;Z<G;++Z)mt[Z]-=Ve;return mt},expand:function(e){var s=e.length,P=e[0].length,G=1/s,V,Z,ve,fe=[];for(Z=0;Z<P;++Z){for(V=0,ve=0;V<s;V++)ve+=e[V][Z][1];if(ve)for(V=0;V<s;V++)e[V][Z][1]/=ve;else for(V=0;V<s;V++)e[V][Z][1]=G}for(Z=0;Z<P;++Z)fe[Z]=0;return fe},zero:co});function fo(e){return t.range(e.length)}function co(e){for(var s=-1,P=e[0].length,G=[];++s<P;)G[s]=0;return G}function Ov(e){for(var s=1,P=0,G=e[0][1],V,Z=e.length;s<Z;++s)(V=e[s][1])>G&&(P=s,G=V);return P}function Hv(e){return e.reduce(qv,0)}function qv(e,s){return e+s[1]}t.layout.histogram=function(){var e=!0,s=Number,P=Gv,G=Bv;function V(Z,Ve){for(var fe=[],Ae=Z.map(s,this),Pe=P.call(this,Ae,Ve),Se=G.call(this,Pe,Ae,Ve),Ye,Ve=-1,mt=Ae.length,Tt=Se.length-1,Qe=e?1:1/mt,ot;++Ve<Tt;)Ye=fe[Ve]=[],Ye.dx=Se[Ve+1]-(Ye.x=Se[Ve]),Ye.y=0;if(Tt>0)for(Ve=-1;++Ve<mt;)ot=Ae[Ve],ot>=Pe[0]&&ot<=Pe[1]&&(Ye=fe[t.bisect(Se,ot,1,Tt)-1],Ye.y+=Qe,Ye.push(Z[Ve]));return fe}return V.value=function(Z){return arguments.length?(s=Z,V):s},V.range=function(Z){return arguments.length?(P=De(Z),V):P},V.bins=function(Z){return arguments.length?(G=typeof Z=="number"?function(ve){return Ss(ve,Z)}:De(Z),V):G},V.frequency=function(Z){return arguments.length?(e=!!Z,V):e},V};function Bv(e,s){return Ss(e,Math.ceil(Math.log(s.length)/Math.LN2+1))}function Ss(e,s){for(var P=-1,G=+e[0],V=(e[1]-G)/s,Z=[];++P<=s;)Z[P]=V*P+G;return Z}function Gv(e){return[t.min(e),t.max(e)]}t.layout.pack=function(){var e=t.layout.hierarchy().sort(Uv),s=0,P=[1,1],G;function V(Z,ve){var fe=e.call(this,Z,ve),Ae=fe[0],Pe=P[0],Se=P[1],Ye=G==null?Math.sqrt:typeof G=="function"?G:function(){return G};if(Ae.x=Ae.y=0,On(Ae,function(mt){mt.r=+Ye(mt.value)}),On(Ae,Cs),s){var Ve=s*(G?1:Math.max(2*Ae.r/Pe,2*Ae.r/Se))/2;On(Ae,function(mt){mt.r+=Ve}),On(Ae,Cs),On(Ae,function(mt){mt.r-=Ve})}return Ds(Ae,Pe/2,Se/2,G?1:1/Math.max(2*Ae.r/Pe,2*Ae.r/Se)),fe}return V.size=function(Z){return arguments.length?(P=Z,V):P},V.radius=function(Z){return arguments.length?(G=Z==null||typeof Z=="function"?Z:+Z,V):G},V.padding=function(Z){return arguments.length?(s=+Z,V):s},Ra(V,e)};function Uv(e,s){return e.value-s.value}function vo(e,s){var P=e._pack_next;e._pack_next=s,s._pack_prev=e,s._pack_next=P,P._pack_prev=s}function Ps(e,s){e._pack_next=s,s._pack_prev=e}function Es(e,s){var P=s.x-e.x,G=s.y-e.y,V=e.r+s.r;return .999*V*V>P*P+G*G}function Cs(e){if(!(s=e.children)||!(Ve=s.length))return;var s,P=1/0,G=-1/0,V=1/0,Z=-1/0,ve,fe,Ae,Pe,Se,Ye,Ve;function mt(at){P=Math.min(at.x-at.r,P),G=Math.max(at.x+at.r,G),V=Math.min(at.y-at.r,V),Z=Math.max(at.y+at.r,Z)}if(s.forEach(jv),ve=s[0],ve.x=-ve.r,ve.y=0,mt(ve),Ve>1&&(fe=s[1],fe.x=fe.r,fe.y=0,mt(fe),Ve>2))for(Ae=s[2],Rs(ve,fe,Ae),mt(Ae),vo(ve,Ae),ve._pack_prev=Ae,vo(Ae,fe),fe=ve._pack_next,Pe=3;Pe<Ve;Pe++){Rs(ve,fe,Ae=s[Pe]);var Tt=0,Qe=1,ot=1;for(Se=fe._pack_next;Se!==fe;Se=Se._pack_next,Qe++)if(Es(Se,Ae)){Tt=1;break}if(Tt==1)for(Ye=ve._pack_prev;Ye!==Se._pack_prev&&!Es(Ye,Ae);Ye=Ye._pack_prev,ot++);Tt?(Qe<ot||Qe==ot&&fe.r<ve.r?Ps(ve,fe=Se):Ps(ve=Ye,fe),Pe--):(vo(ve,Ae),fe=Ae,mt(Ae))}var gt=(P+G)/2,_t=(V+Z)/2,bt=0;for(Pe=0;Pe<Ve;Pe++)Ae=s[Pe],Ae.x-=gt,Ae.y-=_t,bt=Math.max(bt,Ae.r+Math.sqrt(Ae.x*Ae.x+Ae.y*Ae.y));e.r=bt,s.forEach(Xv)}function jv(e){e._pack_next=e._pack_prev=e}function Xv(e){delete e._pack_next,delete e._pack_prev}function Ds(e,s,P,G){var V=e.children;if(e.x=s+=G*e.x,e.y=P+=G*e.y,e.r*=G,V)for(var Z=-1,ve=V.length;++Z<ve;)Ds(V[Z],s,P,G)}function Rs(e,s,P){var G=e.r+P.r,V=s.x-e.x,Z=s.y-e.y;if(G&&(V||Z)){var ve=s.r+P.r,fe=V*V+Z*Z;ve*=ve,G*=G;var Ae=.5+(G-ve)/(2*fe),Pe=Math.sqrt(Math.max(0,2*ve*(G+fe)-(G-=fe)*G-ve*ve))/(2*fe);P.x=e.x+Ae*V+Pe*Z,P.y=e.y+Ae*Z-Pe*V}else P.x=e.x+G,P.y=e.y}t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),s=Ns,P=[1,1],G=null;function V(Se,Ye){var Ve=e.call(this,Se,Ye),mt=Ve[0],Tt=Z(mt);if(On(Tt,ve),Tt.parent.m=-Tt.z,Na(Tt,fe),G)Na(mt,Pe);else{var Qe=mt,ot=mt,gt=mt;Na(mt,function(Ct){Ct.x<Qe.x&&(Qe=Ct),Ct.x>ot.x&&(ot=Ct),Ct.depth>gt.depth&&(gt=Ct)});var _t=s(Qe,ot)/2-Qe.x,bt=P[0]/(ot.x+s(ot,Qe)/2+_t),at=P[1]/(gt.depth||1);Na(mt,function(Ct){Ct.x=(Ct.x+_t)*bt,Ct.y=Ct.depth*at})}return Ve}function Z(Se){for(var Ye={A:null,children:[Se]},Ve=[Ye],mt;(mt=Ve.pop())!=null;)for(var Tt=mt.children,Qe,ot=0,gt=Tt.length;ot<gt;++ot)Ve.push((Tt[ot]=Qe={_:Tt[ot],parent:mt,children:(Qe=Tt[ot].children)&&Qe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ot}).a=Qe);return Ye.children[0]}function ve(Se){var Ye=Se.children,Ve=Se.parent.children,mt=Se.i?Ve[Se.i-1]:null;if(Ye.length){Yv(Se);var Tt=(Ye[0].z+Ye[Ye.length-1].z)/2;mt?(Se.z=mt.z+s(Se._,mt._),Se.m=Se.z-Tt):Se.z=Tt}else mt&&(Se.z=mt.z+s(Se._,mt._));Se.parent.A=Ae(Se,mt,Se.parent.A||Ve[0])}function fe(Se){Se._.x=Se.z+Se.parent.m,Se.m+=Se.parent.m}function Ae(Se,Ye,Ve){if(Ye){for(var mt=Se,Tt=Se,Qe=Ye,ot=mt.parent.children[0],gt=mt.m,_t=Tt.m,bt=Qe.m,at=ot.m,Ct;Qe=po(Qe),mt=ho(mt),Qe&&mt;)ot=ho(ot),Tt=po(Tt),Tt.a=Se,Ct=Qe.z+bt-mt.z-gt+s(Qe._,mt._),Ct>0&&(Vv(Zv(Qe,Se,Ve),Se,Ct),gt+=Ct,_t+=Ct),bt+=Qe.m,gt+=mt.m,at+=ot.m,_t+=Tt.m;Qe&&!po(Tt)&&(Tt.t=Qe,Tt.m+=bt-_t),mt&&!ho(ot)&&(ot.t=mt,ot.m+=gt-at,Ve=Se)}return Ve}function Pe(Se){Se.x*=P[0],Se.y=Se.depth*P[1]}return V.separation=function(Se){return arguments.length?(s=Se,V):s},V.size=function(Se){return arguments.length?(G=(P=Se)==null?Pe:null,V):G?null:P},V.nodeSize=function(Se){return arguments.length?(G=(P=Se)==null?null:Pe,V):G?P:null},Ra(V,e)};function Ns(e,s){return e.parent==s.parent?1:2}function ho(e){var s=e.children;return s.length?s[0]:e.t}function po(e){var s=e.children,P;return(P=s.length)?s[P-1]:e.t}function Vv(e,s,P){var G=P/(s.i-e.i);s.c-=G,s.s+=P,e.c+=G,s.z+=P,s.m+=P}function Yv(e){for(var s=0,P=0,G=e.children,V=G.length,Z;--V>=0;)Z=G[V],Z.z+=s,Z.m+=s,s+=Z.s+(P+=Z.c)}function Zv(e,s,P){return e.a.parent===s.parent?e.a:P}t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),s=Ns,P=[1,1],G=!1;function V(Z,ve){var fe=e.call(this,Z,ve),Ae=fe[0],Pe,Se=0;On(Ae,function(Qe){var ot=Qe.children;ot&&ot.length?(Qe.x=$v(ot),Qe.y=Wv(ot)):(Qe.x=Pe?Se+=s(Qe,Pe):0,Qe.y=0,Pe=Qe)});var Ye=Fs(Ae),Ve=zs(Ae),mt=Ye.x-s(Ye,Ve)/2,Tt=Ve.x+s(Ve,Ye)/2;return On(Ae,G?function(Qe){Qe.x=(Qe.x-Ae.x)*P[0],Qe.y=(Ae.y-Qe.y)*P[1]}:function(Qe){Qe.x=(Qe.x-mt)/(Tt-mt)*P[0],Qe.y=(1-(Ae.y?Qe.y/Ae.y:1))*P[1]}),fe}return V.separation=function(Z){return arguments.length?(s=Z,V):s},V.size=function(Z){return arguments.length?(G=(P=Z)==null,V):G?null:P},V.nodeSize=function(Z){return arguments.length?(G=(P=Z)!=null,V):G?P:null},Ra(V,e)};function Wv(e){return 1+t.max(e,function(s){return s.y})}function $v(e){return e.reduce(function(s,P){return s+P.x},0)/e.length}function Fs(e){var s=e.children;return s&&s.length?Fs(s[0]):e}function zs(e){var s=e.children,P;return s&&(P=s.length)?zs(s[P-1]):e}t.layout.treemap=function(){var e=t.layout.hierarchy(),s=Math.round,P=[1,1],G=null,V=yo,Z=!1,ve,fe="squarify",Ae=.5*(1+Math.sqrt(5));function Pe(Qe,ot){for(var gt=-1,_t=Qe.length,bt,at;++gt<_t;)at=(bt=Qe[gt]).value*(ot<0?0:ot),bt.area=isNaN(at)||at<=0?0:at}function Se(Qe){var ot=Qe.children;if(ot&&ot.length){var gt=V(Qe),_t=[],bt=ot.slice(),at,Ct=1/0,Bt,Xt=fe==="slice"?gt.dx:fe==="dice"?gt.dy:fe==="slice-dice"?Qe.depth&1?gt.dy:gt.dx:Math.min(gt.dx,gt.dy),Ut;for(Pe(bt,gt.dx*gt.dy/Qe.value),_t.area=0;(Ut=bt.length)>0;)_t.push(at=bt[Ut-1]),_t.area+=at.area,fe!=="squarify"||(Bt=Ve(_t,Xt))<=Ct?(bt.pop(),Ct=Bt):(_t.area-=_t.pop().area,mt(_t,Xt,gt,!1),Xt=Math.min(gt.dx,gt.dy),_t.length=_t.area=0,Ct=1/0);_t.length&&(mt(_t,Xt,gt,!0),_t.length=_t.area=0),ot.forEach(Se)}}function Ye(Qe){var ot=Qe.children;if(ot&&ot.length){var gt=V(Qe),_t=ot.slice(),bt,at=[];for(Pe(_t,gt.dx*gt.dy/Qe.value),at.area=0;bt=_t.pop();)at.push(bt),at.area+=bt.area,bt.z!=null&&(mt(at,bt.z?gt.dx:gt.dy,gt,!_t.length),at.length=at.area=0);ot.forEach(Ye)}}function Ve(Qe,ot){for(var gt=Qe.area,_t,bt=0,at=1/0,Ct=-1,Bt=Qe.length;++Ct<Bt;)(_t=Qe[Ct].area)&&(_t<at&&(at=_t),_t>bt&&(bt=_t));return gt*=gt,ot*=ot,gt?Math.max(ot*bt*Ae/gt,gt/(ot*at*Ae)):1/0}function mt(Qe,ot,gt,_t){var bt=-1,at=Qe.length,Ct=gt.x,Bt=gt.y,Xt=ot?s(Qe.area/ot):0,Ut;if(ot==gt.dx){for((_t||Xt>gt.dy)&&(Xt=gt.dy);++bt<at;)Ut=Qe[bt],Ut.x=Ct,Ut.y=Bt,Ut.dy=Xt,Ct+=Ut.dx=Math.min(gt.x+gt.dx-Ct,Xt?s(Ut.area/Xt):0);Ut.z=!0,Ut.dx+=gt.x+gt.dx-Ct,gt.y+=Xt,gt.dy-=Xt}else{for((_t||Xt>gt.dx)&&(Xt=gt.dx);++bt<at;)Ut=Qe[bt],Ut.x=Ct,Ut.y=Bt,Ut.dx=Xt,Bt+=Ut.dy=Math.min(gt.y+gt.dy-Bt,Xt?s(Ut.area/Xt):0);Ut.z=!1,Ut.dy+=gt.y+gt.dy-Bt,gt.x+=Xt,gt.dx-=Xt}}function Tt(Qe){var ot=ve||e(Qe),gt=ot[0];return gt.x=gt.y=0,gt.value?(gt.dx=P[0],gt.dy=P[1]):gt.dx=gt.dy=0,ve&&e.revalue(gt),Pe([gt],gt.dx*gt.dy/gt.value),(ve?Ye:Se)(gt),Z&&(ve=ot),ot}return Tt.size=function(Qe){return arguments.length?(P=Qe,Tt):P},Tt.padding=function(Qe){if(!arguments.length)return G;function ot(bt){var at=Qe.call(Tt,bt,bt.depth);return at==null?yo(bt):Is(bt,typeof at=="number"?[at,at,at,at]:at)}function gt(bt){return Is(bt,Qe)}var _t;return V=(G=Qe)==null?yo:(_t=typeof Qe)=="function"?ot:(_t==="number"&&(Qe=[Qe,Qe,Qe,Qe]),gt),Tt},Tt.round=function(Qe){return arguments.length?(s=Qe?Math.round:Number,Tt):s!=Number},Tt.sticky=function(Qe){return arguments.length?(Z=Qe,ve=null,Tt):Z},Tt.ratio=function(Qe){return arguments.length?(Ae=Qe,Tt):Ae},Tt.mode=function(Qe){return arguments.length?(fe=Qe+"",Tt):fe},Ra(Tt,e)};function yo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Is(e,s){var P=e.x+s[3],G=e.y+s[0],V=e.dx-s[1]-s[3],Z=e.dy-s[0]-s[2];return V<0&&(P+=V/2,V=0),Z<0&&(G+=Z/2,Z=0),{x:P,y:G,dx:V,dy:Z}}t.random={normal:function(e,s){var P=arguments.length;return P<2&&(s=1),P<1&&(e=0),function(){var G,V,Z;do G=Math.random()*2-1,V=Math.random()*2-1,Z=G*G+V*V;while(!Z||Z>1);return e+s*G*Math.sqrt(-2*Math.log(Z)/Z)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var s=t.random.irwinHall(e);return function(){return s()/e}},irwinHall:function(e){return function(){for(var s=0,P=0;P<e;P++)s+=Math.random();return s}}},t.scale={};function pi(e){var s=e[0],P=e[e.length-1];return s<P?[s,P]:[P,s]}function yi(e){return e.rangeExtent?e.rangeExtent():pi(e.range())}function Qv(e,s,P,G){var V=P(e[0],e[1]),Z=G(s[0],s[1]);return function(ve){return Z(V(ve))}}function go(e,s){var P=0,G=e.length-1,V=e[P],Z=e[G],ve;return Z<V&&(ve=P,P=G,G=ve,ve=V,V=Z,Z=ve),e[P]=s.floor(V),e[G]=s.ceil(Z),e}function Os(e){return e?{floor:function(s){return Math.floor(s/e)*e},ceil:function(s){return Math.ceil(s/e)*e}}:Jv}var Jv={floor:H,ceil:H};function Kv(e,s,P,G){var V=[],Z=[],ve=0,fe=Math.min(e.length,s.length)-1;for(e[fe]<e[0]&&(e=e.slice().reverse(),s=s.slice().reverse());++ve<=fe;)V.push(P(e[ve-1],e[ve])),Z.push(G(s[ve-1],s[ve]));return function(Ae){var Pe=t.bisect(e,Ae,1,fe)-1;return Z[Pe](V[Pe](Ae))}}t.scale.linear=function(){return Hs([0,1],[0,1],Xr,!1)};function Hs(e,s,P,G){var V,Z;function ve(){var Ae=Math.min(e.length,s.length)>2?Kv:Qv,Pe=G?_v:mv;return V=Ae(e,s,Pe,P),Z=Ae(s,e,Pe,Xr),fe}function fe(Ae){return V(Ae)}return fe.invert=function(Ae){return Z(Ae)},fe.domain=function(Ae){return arguments.length?(e=Ae.map(Number),ve()):e},fe.range=function(Ae){return arguments.length?(s=Ae,ve()):s},fe.rangeRound=function(Ae){return fe.range(Ae).interpolate(Da)},fe.clamp=function(Ae){return arguments.length?(G=Ae,ve()):G},fe.interpolate=function(Ae){return arguments.length?(P=Ae,ve()):P},fe.ticks=function(Ae){return _o(e,Ae)},fe.tickFormat=function(Ae,Pe){return d3_scale_linearTickFormat(e,Ae,Pe)},fe.nice=function(Ae){return Bs(e,Ae),ve()},fe.copy=function(){return Hs(e,s,P,G)},ve()}function qs(e,s){return t.rebind(e,s,"range","rangeRound","interpolate","clamp")}function Bs(e,s){return go(e,Os(mo(e,s)[2])),go(e,Os(mo(e,s)[2])),e}function mo(e,s){s==null&&(s=10);var P=pi(e),G=P[1]-P[0],V=Math.pow(10,Math.floor(Math.log(G/s)/Math.LN10)),Z=s/G*V;return Z<=.15?V*=10:Z<=.35?V*=5:Z<=.75&&(V*=2),P[0]=Math.ceil(P[0]/V)*V,P[1]=Math.floor(P[1]/V)*V+V*.5,P[2]=V,P}function _o(e,s){return t.range.apply(t,mo(e,s))}var eh={s:1,g:1,p:1,r:1,e:1};function Gs(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Nh(e,s){var P=Gs(s[2]);return e in eh?Math.abs(P-Gs(Math.max(a(s[0]),a(s[1]))))+ +(e!=="e"):P-(e==="%")*2}t.scale.log=function(){return Us(t.scale.linear().domain([0,1]),10,!0,[1,10])};function Us(e,s,P,G){function V(fe){return(P?Math.log(fe<0?0:fe):-Math.log(fe>0?0:-fe))/Math.log(s)}function Z(fe){return P?Math.pow(s,fe):-Math.pow(s,-fe)}function ve(fe){return e(V(fe))}return ve.invert=function(fe){return Z(e.invert(fe))},ve.domain=function(fe){return arguments.length?(P=fe[0]>=0,e.domain((G=fe.map(Number)).map(V)),ve):G},ve.base=function(fe){return arguments.length?(s=+fe,e.domain(G.map(V)),ve):s},ve.nice=function(){var fe=go(G.map(V),P?Math:th);return e.domain(fe),G=fe.map(Z),ve},ve.ticks=function(){var fe=pi(G),Ae=[],Pe=fe[0],Se=fe[1],Ye=Math.floor(V(Pe)),Ve=Math.ceil(V(Se)),mt=s%1?2:s;if(isFinite(Ve-Ye)){if(P){for(;Ye<Ve;Ye++)for(var Tt=1;Tt<mt;Tt++)Ae.push(Z(Ye)*Tt);Ae.push(Z(Ye))}else for(Ae.push(Z(Ye));Ye++<Ve;)for(var Tt=mt-1;Tt>0;Tt--)Ae.push(Z(Ye)*Tt);for(Ye=0;Ae[Ye]<Pe;Ye++);for(Ve=Ae.length;Ae[Ve-1]>Se;Ve--);Ae=Ae.slice(Ye,Ve)}return Ae},ve.copy=function(){return Us(e.copy(),s,P,G)},qs(ve,e)}var th={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};t.scale.pow=function(){return js(t.scale.linear(),1,[0,1])};function js(e,s,P){var G=gi(s),V=gi(1/s);function Z(ve){return e(G(ve))}return Z.invert=function(ve){return V(e.invert(ve))},Z.domain=function(ve){return arguments.length?(e.domain((P=ve.map(Number)).map(G)),Z):P},Z.ticks=function(ve){return _o(P,ve)},Z.tickFormat=function(ve,fe){return d3_scale_linearTickFormat(P,ve,fe)},Z.nice=function(ve){return Z.domain(Bs(P,ve))},Z.exponent=function(ve){return arguments.length?(G=gi(s=ve),V=gi(1/s),e.domain(P.map(G)),Z):s},Z.copy=function(){return js(e.copy(),s,P)},qs(Z,e)}function gi(e){return function(s){return s<0?-Math.pow(-s,e):Math.pow(s,e)}}t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return Xs([],{t:"range",a:[[]]})};function Xs(e,s){var P,G,V;function Z(fe){return G[((P.get(fe)||(s.t==="range"?P.set(fe,e.push(fe)):NaN))-1)%G.length]}function ve(fe,Ae){return t.range(e.length).map(function(Pe){return fe+Ae*Pe})}return Z.domain=function(fe){if(!arguments.length)return e;e=[],P=new C;for(var Ae=-1,Pe=fe.length,Se;++Ae<Pe;)P.has(Se=fe[Ae])||P.set(Se,e.push(Se));return Z[s.t].apply(Z,s.a)},Z.range=function(fe){return arguments.length?(G=fe,V=0,s={t:"range",a:arguments},Z):G},Z.rangePoints=function(fe,Ae){arguments.length<2&&(Ae=0);var Pe=fe[0],Se=fe[1],Ye=e.length<2?(Pe=(Pe+Se)/2,0):(Se-Pe)/(e.length-1+Ae);return G=ve(Pe+Ye*Ae/2,Ye),V=0,s={t:"rangePoints",a:arguments},Z},Z.rangeRoundPoints=function(fe,Ae){arguments.length<2&&(Ae=0);var Pe=fe[0],Se=fe[1],Ye=e.length<2?(Pe=Se=Math.round((Pe+Se)/2),0):(Se-Pe)/(e.length-1+Ae)|0;return G=ve(Pe+Math.round(Ye*Ae/2+(Se-Pe-(e.length-1+Ae)*Ye)/2),Ye),V=0,s={t:"rangeRoundPoints",a:arguments},Z},Z.rangeBands=function(fe,Ae,Pe){arguments.length<2&&(Ae=0),arguments.length<3&&(Pe=Ae);var Se=fe[1]<fe[0],Ye=fe[Se-0],Ve=fe[1-Se],mt=(Ve-Ye)/(e.length-Ae+2*Pe);return G=ve(Ye+mt*Pe,mt),Se&&G.reverse(),V=mt*(1-Ae),s={t:"rangeBands",a:arguments},Z},Z.rangeRoundBands=function(fe,Ae,Pe){arguments.length<2&&(Ae=0),arguments.length<3&&(Pe=Ae);var Se=fe[1]<fe[0],Ye=fe[Se-0],Ve=fe[1-Se],mt=Math.floor((Ve-Ye)/(e.length-Ae+2*Pe));return G=ve(Ye+Math.round((Ve-Ye-(e.length-Ae)*mt)/2),mt),Se&&G.reverse(),V=Math.round(mt*(1-Ae)),s={t:"rangeRoundBands",a:arguments},Z},Z.rangeBand=function(){return V},Z.rangeExtent=function(){return pi(s.a[0])},Z.copy=function(){return Xs(e,s)},Z.domain(e)}t.scale.category10=function(){return t.scale.ordinal().range(rh)},t.scale.category20=function(){return t.scale.ordinal().range(nh)},t.scale.category20b=function(){return t.scale.ordinal().range(ah)},t.scale.category20c=function(){return t.scale.ordinal().range(ih)};var rh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(We),nh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(We),ah=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(We),ih=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(We);t.scale.quantile=function(){return Vs([],[])};function Vs(e,s){var P;function G(){var Z=0,ve=s.length;for(P=[];++Z<ve;)P[Z-1]=t.quantile(e,Z/ve);return V}function V(Z){if(!isNaN(Z=+Z))return s[t.bisect(P,Z)]}return V.domain=function(Z){return arguments.length?(e=Z.map(S).filter(F).sort(E),G()):e},V.range=function(Z){return arguments.length?(s=Z,G()):s},V.quantiles=function(){return P},V.invertExtent=function(Z){return Z=s.indexOf(Z),Z<0?[NaN,NaN]:[Z>0?P[Z-1]:e[0],Z<P.length?P[Z]:e[e.length-1]]},V.copy=function(){return Vs(e,s)},G()}t.scale.quantize=function(){return Ys(0,1,[0,1])};function Ys(e,s,P){var G,V;function Z(fe){return P[Math.max(0,Math.min(V,Math.floor(G*(fe-e))))]}function ve(){return G=P.length/(s-e),V=P.length-1,Z}return Z.domain=function(fe){return arguments.length?(e=+fe[0],s=+fe[fe.length-1],ve()):[e,s]},Z.range=function(fe){return arguments.length?(P=fe,ve()):P},Z.invertExtent=function(fe){return fe=P.indexOf(fe),fe=fe<0?NaN:fe/G+e,[fe,fe+1/G]},Z.copy=function(){return Ys(e,s,P)},ve()}t.scale.threshold=function(){return Zs([.5],[0,1])};function Zs(e,s){function P(G){if(G<=G)return s[t.bisect(e,G)]}return P.domain=function(G){return arguments.length?(e=G,P):e},P.range=function(G){return arguments.length?(s=G,P):s},P.invertExtent=function(G){return G=s.indexOf(G),[e[G-1],e[G]]},P.copy=function(){return Zs(e,s)},P}t.scale.identity=function(){return Ws([0,1])};function Ws(e){function s(P){return+P}return s.invert=s,s.domain=s.range=function(P){return arguments.length?(e=P.map(s),s):e},s.ticks=function(P){return _o(e,P)},s.tickFormat=function(P,G){return d3_scale_linearTickFormat(e,P,G)},s.copy=function(){return Ws(e)},s}t.svg={};function oh(){return 0}t.svg.arc=function(){var e=lh,s=sh,P=oh,G=mi,V=$s,Z=Qs,ve=uh;function fe(){var Pe=Math.max(0,+e.apply(this,arguments)),Se=Math.max(0,+s.apply(this,arguments)),Ye=V.apply(this,arguments)-He,Ve=Z.apply(this,arguments)-He,mt=Math.abs(Ve-Ye),Tt=Ye>Ve?0:1;if(Se<Pe&&(Qe=Se,Se=Pe,Pe=Qe),mt>=Te)return Ae(Se,Tt)+(Pe?Ae(Pe,1-Tt):"")+"Z";var Qe,ot,gt,_t,bt=0,at=0,Ct,Bt,Xt,Ut,Qt,Jt,_r,rr,dr=[];if((_t=(+ve.apply(this,arguments)||0)/2)&&(gt=G===mi?Math.sqrt(Pe*Pe+Se*Se):+G.apply(this,arguments),Tt||(at*=-1),Se&&(at=st(gt/Se*Math.sin(_t))),Pe&&(bt=st(gt/Pe*Math.sin(_t)))),Se){Ct=Se*Math.cos(Ye+at),Bt=Se*Math.sin(Ye+at),Xt=Se*Math.cos(Ve-at),Ut=Se*Math.sin(Ve-at);var Rr=Math.abs(Ve-Ye-2*at)<=ge?0:1;if(at&&_i(Ct,Bt,Xt,Ut)===Tt^Rr){var tn=(Ye+Ve)/2;Ct=Se*Math.cos(tn),Bt=Se*Math.sin(tn),Xt=Ut=null}}else Ct=Bt=0;if(Pe){Qt=Pe*Math.cos(Ve-bt),Jt=Pe*Math.sin(Ve-bt),_r=Pe*Math.cos(Ye+bt),rr=Pe*Math.sin(Ye+bt);var Hr=Math.abs(Ye-Ve+2*bt)<=ge?0:1;if(bt&&_i(Qt,Jt,_r,rr)===1-Tt^Hr){var qt=(Ye+Ve)/2;Qt=Pe*Math.cos(qt),Jt=Pe*Math.sin(qt),_r=rr=null}}else Qt=Jt=0;if(mt>ct&&(Qe=Math.min(Math.abs(Se-Pe)/2,+P.apply(this,arguments)))>.001){ot=Pe<Se^Tt?0:1;var br=Qe,Tr=Qe;if(mt<ge){var Nr=_r==null?[Qt,Jt]:Xt==null?[Ct,Bt]:nr([Ct,Bt],[_r,rr],[Xt,Ut],[Qt,Jt]),Qr=Ct-Nr[0],on=Bt-Nr[1],fn=Xt-Nr[0],pn=Ut-Nr[1],gn=1/Math.sin(Math.acos((Qr*fn+on*pn)/(Math.sqrt(Qr*Qr+on*on)*Math.sqrt(fn*fn+pn*pn)))/2),yn=Math.sqrt(Nr[0]*Nr[0]+Nr[1]*Nr[1]);Tr=Math.min(Qe,(Pe-yn)/(gn-1)),br=Math.min(Qe,(Se-yn)/(gn+1))}if(Xt!=null){var _n=bi(_r==null?[Qt,Jt]:[_r,rr],[Ct,Bt],Se,br,Tt),vn=bi([Xt,Ut],[Qt,Jt],Se,br,Tt);Qe===br?dr.push("M",_n[0],"A",br,",",br," 0 0,",ot," ",_n[1],"A",Se,",",Se," 0 ",1-Tt^_i(_n[1][0],_n[1][1],vn[1][0],vn[1][1]),",",Tt," ",vn[1],"A",br,",",br," 0 0,",ot," ",vn[0]):dr.push("M",_n[0],"A",br,",",br," 0 1,",ot," ",vn[0])}else dr.push("M",Ct,",",Bt);if(_r!=null){var bn=bi([Ct,Bt],[_r,rr],Pe,-Tr,Tt),aa=bi([Qt,Jt],Xt==null?[Ct,Bt]:[Xt,Ut],Pe,-Tr,Tt);Qe===Tr?dr.push("L",aa[0],"A",Tr,",",Tr," 0 0,",ot," ",aa[1],"A",Pe,",",Pe," 0 ",Tt^_i(aa[1][0],aa[1][1],bn[1][0],bn[1][1]),",",1-Tt," ",bn[1],"A",Tr,",",Tr," 0 0,",ot," ",bn[0]):dr.push("L",aa[0],"A",Tr,",",Tr," 0 0,",ot," ",bn[0])}else dr.push("L",Qt,",",Jt)}else dr.push("M",Ct,",",Bt),Xt!=null&&dr.push("A",Se,",",Se," 0 ",Rr,",",Tt," ",Xt,",",Ut),dr.push("L",Qt,",",Jt),_r!=null&&dr.push("A",Pe,",",Pe," 0 ",Hr,",",1-Tt," ",_r,",",rr);return dr.push("Z"),dr.join("")}function Ae(Pe,Se){return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,"+Se+" 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,"+Se+" 0,"+Pe}return fe.innerRadius=function(Pe){return arguments.length?(e=De(Pe),fe):e},fe.outerRadius=function(Pe){return arguments.length?(s=De(Pe),fe):s},fe.cornerRadius=function(Pe){return arguments.length?(P=De(Pe),fe):P},fe.padRadius=function(Pe){return arguments.length?(G=Pe==mi?mi:De(Pe),fe):G},fe.startAngle=function(Pe){return arguments.length?(V=De(Pe),fe):V},fe.endAngle=function(Pe){return arguments.length?(Z=De(Pe),fe):Z},fe.padAngle=function(Pe){return arguments.length?(ve=De(Pe),fe):ve},fe.centroid=function(){var Pe=(+e.apply(this,arguments)+ +s.apply(this,arguments))/2,Se=(+V.apply(this,arguments)+ +Z.apply(this,arguments))/2-He;return[Math.cos(Se)*Pe,Math.sin(Se)*Pe]},fe};var mi="auto";function lh(e){return e.innerRadius}function sh(e){return e.outerRadius}function $s(e){return e.startAngle}function Qs(e){return e.endAngle}function uh(e){return e&&e.padAngle}function _i(e,s,P,G){return(e-P)*s-(s-G)*e>0?0:1}function bi(e,s,P,G,V){var Z=e[0]-s[0],ve=e[1]-s[1],fe=(V?G:-G)/Math.sqrt(Z*Z+ve*ve),Ae=fe*ve,Pe=-fe*Z,Se=e[0]+Ae,Ye=e[1]+Pe,Ve=s[0]+Ae,mt=s[1]+Pe,Tt=(Se+Ve)/2,Qe=(Ye+mt)/2,ot=Ve-Se,gt=mt-Ye,_t=ot*ot+gt*gt,bt=P-G,at=Se*mt-Ve*Ye,Ct=(gt<0?-1:1)*Math.sqrt(Math.max(0,bt*bt*_t-at*at)),Bt=(at*gt-ot*Ct)/_t,Xt=(-at*ot-gt*Ct)/_t,Ut=(at*gt+ot*Ct)/_t,Qt=(-at*ot+gt*Ct)/_t,Jt=Bt-Tt,_r=Xt-Qe,rr=Ut-Tt,dr=Qt-Qe;return Jt*Jt+_r*_r>rr*rr+dr*dr&&(Bt=Ut,Xt=Qt),[[Bt-Ae,Xt-Pe],[Bt*P/bt,Xt*P/bt]]}function Js(){return!0}function Ks(e){var s=zt,P=Ar,G=Js,V=Rn,Z=V.key,ve=.7;function fe(Ae){var Pe=[],Se=[],Ye=-1,Ve=Ae.length,mt,Tt=De(s),Qe=De(P);function ot(){Pe.push("M",V(e(Se),ve))}for(;++Ye<Ve;)G.call(this,mt=Ae[Ye],Ye)?Se.push([+Tt.call(this,mt,Ye),+Qe.call(this,mt,Ye)]):Se.length&&(ot(),Se=[]);return Se.length&&ot(),Pe.length?Pe.join(""):null}return fe.x=function(Ae){return arguments.length?(s=Ae,fe):s},fe.y=function(Ae){return arguments.length?(P=Ae,fe):P},fe.defined=function(Ae){return arguments.length?(G=Ae,fe):G},fe.interpolate=function(Ae){return arguments.length?(typeof Ae=="function"?Z=V=Ae:Z=(V=bo.get(Ae)||Rn).key,fe):Z},fe.tension=function(Ae){return arguments.length?(ve=Ae,fe):ve},fe}t.svg.line=function(){return Ks(H)};var bo=t.map({linear:Rn,"linear-closed":eu,step:fh,"step-before":xo,"step-after":wo,basis:tu,"basis-open":dh,"basis-closed":ph,bundle:yh,cardinal:hh,"cardinal-open":ch,"cardinal-closed":vh,monotone:_h});bo.forEach(function(e,s){s.key=e,s.closed=/-closed$/.test(e)});function Rn(e){return e.length>1?e.join("L"):e+"Z"}function eu(e){return e.join("L")+"Z"}function fh(e){for(var s=0,P=e.length,G=e[0],V=[G[0],",",G[1]];++s<P;)V.push("H",(G[0]+(G=e[s])[0])/2,"V",G[1]);return P>1&&V.push("H",G[0]),V.join("")}function xo(e){for(var s=0,P=e.length,G=e[0],V=[G[0],",",G[1]];++s<P;)V.push("V",(G=e[s])[1],"H",G[0]);return V.join("")}function wo(e){for(var s=0,P=e.length,G=e[0],V=[G[0],",",G[1]];++s<P;)V.push("H",(G=e[s])[0],"V",G[1]);return V.join("")}function ch(e,s){return e.length<4?Rn(e):e[1]+xi(e.slice(1,-1),Ao(e,s))}function vh(e,s){return e.length<3?eu(e):e[0]+xi((e.push(e[0]),e),Ao([e[e.length-2]].concat(e,[e[1]]),s))}function hh(e,s){return e.length<3?Rn(e):e[0]+xi(e,Ao(e,s))}function xi(e,s){if(s.length<1||e.length!=s.length&&e.length!=s.length+2)return Rn(e);var P=e.length!=s.length,G="",V=e[0],Z=e[1],ve=s[0],fe=ve,Ae=1;if(P&&(G+="Q"+(Z[0]-ve[0]*2/3)+","+(Z[1]-ve[1]*2/3)+","+Z[0]+","+Z[1],V=e[1],Ae=2),s.length>1){fe=s[1],Z=e[Ae],Ae++,G+="C"+(V[0]+ve[0])+","+(V[1]+ve[1])+","+(Z[0]-fe[0])+","+(Z[1]-fe[1])+","+Z[0]+","+Z[1];for(var Pe=2;Pe<s.length;Pe++,Ae++)Z=e[Ae],fe=s[Pe],G+="S"+(Z[0]-fe[0])+","+(Z[1]-fe[1])+","+Z[0]+","+Z[1]}if(P){var Se=e[Ae];G+="Q"+(Z[0]+fe[0]*2/3)+","+(Z[1]+fe[1]*2/3)+","+Se[0]+","+Se[1]}return G}function Ao(e,s){for(var P=[],G=(1-s)/2,V,Z=e[0],ve=e[1],fe=1,Ae=e.length;++fe<Ae;)V=Z,Z=ve,ve=e[fe],P.push([G*(ve[0]-V[0]),G*(ve[1]-V[1])]);return P}function tu(e){if(e.length<3)return Rn(e);var s=1,P=e.length,G=e[0],V=G[0],Z=G[1],ve=[V,V,V,(G=e[1])[0]],fe=[Z,Z,Z,G[1]],Ae=[V,",",Z,"L",Mn(Yn,ve),",",Mn(Yn,fe)];for(e.push(e[P-1]);++s<=P;)G=e[s],ve.shift(),ve.push(G[0]),fe.shift(),fe.push(G[1]),To(Ae,ve,fe);return e.pop(),Ae.push("L",G),Ae.join("")}function dh(e){if(e.length<4)return Rn(e);for(var s=[],P=-1,G=e.length,V,Z=[0],ve=[0];++P<3;)V=e[P],Z.push(V[0]),ve.push(V[1]);for(s.push(Mn(Yn,Z)+","+Mn(Yn,ve)),--P;++P<G;)V=e[P],Z.shift(),Z.push(V[0]),ve.shift(),ve.push(V[1]),To(s,Z,ve);return s.join("")}function ph(e){for(var s,P=-1,G=e.length,V=G+4,Z,ve=[],fe=[];++P<4;)Z=e[P%G],ve.push(Z[0]),fe.push(Z[1]);for(s=[Mn(Yn,ve),",",Mn(Yn,fe)],--P;++P<V;)Z=e[P%G],ve.shift(),ve.push(Z[0]),fe.shift(),fe.push(Z[1]),To(s,ve,fe);return s.join("")}function yh(e,s){var P=e.length-1;if(P)for(var G=e[0][0],V=e[0][1],Z=e[P][0]-G,ve=e[P][1]-V,fe=-1,Ae,Pe;++fe<=P;)Ae=e[fe],Pe=fe/P,Ae[0]=s*Ae[0]+(1-s)*(G+Pe*Z),Ae[1]=s*Ae[1]+(1-s)*(V+Pe*ve);return tu(e)}function Mn(e,s){return e[0]*s[0]+e[1]*s[1]+e[2]*s[2]+e[3]*s[3]}var ru=[0,2/3,1/3,0],nu=[0,1/3,2/3,0],Yn=[0,1/6,2/3,1/6];function To(e,s,P){e.push("C",Mn(ru,s),",",Mn(ru,P),",",Mn(nu,s),",",Mn(nu,P),",",Mn(Yn,s),",",Mn(Yn,P))}function Mo(e,s){return(s[1]-e[1])/(s[0]-e[0])}function gh(e){for(var s=0,P=e.length-1,G=[],V=e[0],Z=e[1],ve=G[0]=Mo(V,Z);++s<P;)G[s]=(ve+(ve=Mo(V=Z,Z=e[s+1])))/2;return G[s]=ve,G}function mh(e){for(var s=[],P,G,V,Z,ve=gh(e),fe=-1,Ae=e.length-1;++fe<Ae;)P=Mo(e[fe],e[fe+1]),a(P)<ct?ve[fe]=ve[fe+1]=0:(G=ve[fe]/P,V=ve[fe+1]/P,Z=G*G+V*V,Z>9&&(Z=P*3/Math.sqrt(Z),ve[fe]=Z*G,ve[fe+1]=Z*V));for(fe=-1;++fe<=Ae;)Z=(e[Math.min(Ae,fe+1)][0]-e[Math.max(0,fe-1)][0])/(6*(1+ve[fe]*ve[fe])),s.push([Z||0,ve[fe]*Z||0]);return s}function _h(e){return e.length<3?Rn(e):e[0]+xi(e,mh(e))}t.svg.line.radial=function(){var e=Ks(au);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e};function au(e){for(var s,P=-1,G=e.length,V,Z;++P<G;)s=e[P],V=s[0],Z=s[1]-He,s[0]=V*Math.cos(Z),s[1]=V*Math.sin(Z);return e}function iu(e){var s=zt,P=zt,G=0,V=Ar,Z=Js,ve=Rn,fe=ve.key,Ae=ve,Pe="L",Se=.7;function Ye(Ve){var mt=[],Tt=[],Qe=[],ot=-1,gt=Ve.length,_t,bt=De(s),at=De(G),Ct=s===P?function(){return Xt}:De(P),Bt=G===V?function(){return Ut}:De(V),Xt,Ut;function Qt(){mt.push("M",ve(e(Qe),Se),Pe,Ae(e(Tt.reverse()),Se),"Z")}for(;++ot<gt;)Z.call(this,_t=Ve[ot],ot)?(Tt.push([Xt=+bt.call(this,_t,ot),Ut=+at.call(this,_t,ot)]),Qe.push([+Ct.call(this,_t,ot),+Bt.call(this,_t,ot)])):Tt.length&&(Qt(),Tt=[],Qe=[]);return Tt.length&&Qt(),mt.length?mt.join(""):null}return Ye.x=function(Ve){return arguments.length?(s=P=Ve,Ye):P},Ye.x0=function(Ve){return arguments.length?(s=Ve,Ye):s},Ye.x1=function(Ve){return arguments.length?(P=Ve,Ye):P},Ye.y=function(Ve){return arguments.length?(G=V=Ve,Ye):V},Ye.y0=function(Ve){return arguments.length?(G=Ve,Ye):G},Ye.y1=function(Ve){return arguments.length?(V=Ve,Ye):V},Ye.defined=function(Ve){return arguments.length?(Z=Ve,Ye):Z},Ye.interpolate=function(Ve){return arguments.length?(typeof Ve=="function"?fe=ve=Ve:fe=(ve=bo.get(Ve)||Rn).key,Ae=ve.reverse||ve,Pe=ve.closed?"M":"L",Ye):fe},Ye.tension=function(Ve){return arguments.length?(Se=Ve,Ye):Se},Ye}xo.reverse=wo,wo.reverse=xo,t.svg.area=function(){return iu(H)},t.svg.area.radial=function(){var e=iu(au);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e};function ou(e){return e.source}function lu(e){return e.target}t.svg.chord=function(){var e=ou,s=lu,P=bh,G=$s,V=Qs;function Z(Se,Ye){var Ve=ve(this,e,Se,Ye),mt=ve(this,s,Se,Ye);return"M"+Ve.p0+Ae(Ve.r,Ve.p1,Ve.a1-Ve.a0)+(fe(Ve,mt)?Pe(Ve.r,Ve.p1,Ve.r,Ve.p0):Pe(Ve.r,Ve.p1,mt.r,mt.p0)+Ae(mt.r,mt.p1,mt.a1-mt.a0)+Pe(mt.r,mt.p1,Ve.r,Ve.p0))+"Z"}function ve(Se,Ye,Ve,mt){var Tt=Ye.call(Se,Ve,mt),Qe=P.call(Se,Tt,mt),ot=G.call(Se,Tt,mt)-He,gt=V.call(Se,Tt,mt)-He;return{r:Qe,a0:ot,a1:gt,p0:[Qe*Math.cos(ot),Qe*Math.sin(ot)],p1:[Qe*Math.cos(gt),Qe*Math.sin(gt)]}}function fe(Se,Ye){return Se.a0==Ye.a0&&Se.a1==Ye.a1}function Ae(Se,Ye,Ve){return"A"+Se+","+Se+" 0 "+ +(Ve>ge)+",1 "+Ye}function Pe(Se,Ye,Ve,mt){return"Q 0,0 "+mt}return Z.radius=function(Se){return arguments.length?(P=De(Se),Z):P},Z.source=function(Se){return arguments.length?(e=De(Se),Z):e},Z.target=function(Se){return arguments.length?(s=De(Se),Z):s},Z.startAngle=function(Se){return arguments.length?(G=De(Se),Z):G},Z.endAngle=function(Se){return arguments.length?(V=De(Se),Z):V},Z};function bh(e){return e.radius}t.svg.diagonal=function(){var e=ou,s=lu,P=su;function G(V,Z){var ve=e.call(this,V,Z),fe=s.call(this,V,Z),Ae=(ve.y+fe.y)/2,Pe=[ve,{x:ve.x,y:Ae},{x:fe.x,y:Ae},fe];return Pe=Pe.map(P),"M"+Pe[0]+"C"+Pe[1]+" "+Pe[2]+" "+Pe[3]}return G.source=function(V){return arguments.length?(e=De(V),G):e},G.target=function(V){return arguments.length?(s=De(V),G):s},G.projection=function(V){return arguments.length?(P=V,G):P},G};function su(e){return[e.x,e.y]}t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),s=su,P=e.projection;return e.projection=function(G){return arguments.length?P(xh(s=G)):s},e};function xh(e){return function(){var s=e.apply(this,arguments),P=s[0],G=s[1]-He;return[P*Math.cos(G),P*Math.sin(G)]}}t.svg.symbol=function(){var e=Ah,s=wh;function P(G,V){return(fu.get(e.call(this,G,V))||uu)(s.call(this,G,V))}return P.type=function(G){return arguments.length?(e=De(G),P):e},P.size=function(G){return arguments.length?(s=De(G),P):s},P};function wh(){return 64}function Ah(){return"circle"}function uu(e){var s=Math.sqrt(e/ge);return"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z"}var fu=t.map({circle:uu,cross:function(e){var s=Math.sqrt(e/5)/2;return"M"+-3*s+","+-s+"H"+-s+"V"+-3*s+"H"+s+"V"+-s+"H"+3*s+"V"+s+"H"+s+"V"+3*s+"H"+-s+"V"+s+"H"+-3*s+"Z"},diamond:function(e){var s=Math.sqrt(e/(2*cu)),P=s*cu;return"M0,"+-s+"L"+P+",0 0,"+s+" "+-P+",0Z"},square:function(e){var s=Math.sqrt(e)/2;return"M"+-s+","+-s+"L"+s+","+-s+" "+s+","+s+" "+-s+","+s+"Z"},"triangle-down":function(e){var s=Math.sqrt(e/wi),P=s*wi/2;return"M0,"+P+"L"+s+","+-P+" "+-s+","+-P+"Z"},"triangle-up":function(e){var s=Math.sqrt(e/wi),P=s*wi/2;return"M0,"+-P+"L"+s+","+P+" "+-s+","+P+"Z"}});t.svg.symbolTypes=fu.keys();var wi=Math.sqrt(3),cu=Math.tan(30*qe);y.transition=function(e){for(var s=na||++hu,P=Lo(e),G=[],V,Z,ve=Ti||{time:Date.now(),ease:Lr,delay:0,duration:250},fe=-1,Ae=this.length;++fe<Ae;){G.push(V=[]);for(var Pe=this[fe],Se=-1,Ye=Pe.length;++Se<Ye;)(Z=Pe[Se])&&Mi(Z,Se,P,s,ve),V.push(Z)}return Fa(G,P,s)},y.interrupt=function(e){return this.each(e==null?Ai:vu(Lo(e)))};var Ai=vu(Lo());function vu(e){return function(){var s,P,G;(s=this[e])&&(G=s[P=s.active])&&(G.timer.c=null,G.timer.t=NaN,--s.count?delete s[P]:delete this[e],s.active+=.5,G.event&&G.event.interrupt.call(this,this.__data__,G.index))}}function Fa(e,s,P){return R(e,an),e.namespace=s,e.id=P,e}var an=[],hu=0,na,Ti;an.call=y.call,an.empty=y.empty,an.node=y.node,an.size=y.size,t.transition=function(e,s){return e&&e.transition?na?e.transition(s):e:t.selection().transition(e)},t.transition.prototype=an,an.select=function(e){var s=this.id,P=this.namespace,G=[],V,Z,ve;e=n(e);for(var fe=-1,Ae=this.length;++fe<Ae;){G.push(V=[]);for(var Pe=this[fe],Se=-1,Ye=Pe.length;++Se<Ye;)(ve=Pe[Se])&&(Z=e.call(ve,ve.__data__,Se,fe))?("__data__"in ve&&(Z.__data__=ve.__data__),Mi(Z,Se,P,s,ve[P][s]),V.push(Z)):V.push(null)}return Fa(G,P,s)},an.selectAll=function(e){var s=this.id,P=this.namespace,G=[],V,Z,ve,fe,Ae;e=q(e);for(var Pe=-1,Se=this.length;++Pe<Se;)for(var Ye=this[Pe],Ve=-1,mt=Ye.length;++Ve<mt;)if(ve=Ye[Ve]){Ae=ve[P][s],Z=e.call(ve,ve.__data__,Ve,Pe),G.push(V=[]);for(var Tt=-1,Qe=Z.length;++Tt<Qe;)(fe=Z[Tt])&&Mi(fe,Tt,P,s,Ae),V.push(fe)}return Fa(G,P,s)},an.filter=function(e){var s=[],P,G,V;typeof e!="function"&&(e=pe(e));for(var Z=0,ve=this.length;Z<ve;Z++){s.push(P=[]);for(var G=this[Z],fe=0,Ae=G.length;fe<Ae;fe++)(V=G[fe])&&e.call(V,V.__data__,fe,Z)&&P.push(V)}return Fa(s,this.namespace,this.id)},an.tween=function(e,s){var P=this.id,G=this.namespace;return arguments.length<2?this.node()[G][P].tween.get(e):Oe(this,s==null?function(V){V[G][P].tween.remove(e)}:function(V){V[G][P].tween.set(e,s)})};function ko(e,s,P,G){var V=e.id,Z=e.namespace;return Oe(e,typeof P=="function"?function(ve,fe,Ae){ve[Z][V].tween.set(s,G(P.call(ve,ve.__data__,fe,Ae)))}:(P=G(P),function(ve){ve[Z][V].tween.set(s,P)}))}an.attr=function(e,s){if(arguments.length<2){for(s in e)this.attr(s,e[s]);return this}var P=e=="transform"?Ts:Xr,G=t.ns.qualify(e);function V(){this.removeAttribute(G)}function Z(){this.removeAttributeNS(G.space,G.local)}function ve(Ae){return Ae==null?V:(Ae+="",function(){var Pe=this.getAttribute(G),Se;return Pe!==Ae&&(Se=P(Pe,Ae),function(Ye){this.setAttribute(G,Se(Ye))})})}function fe(Ae){return Ae==null?Z:(Ae+="",function(){var Pe=this.getAttributeNS(G.space,G.local),Se;return Pe!==Ae&&(Se=P(Pe,Ae),function(Ye){this.setAttributeNS(G.space,G.local,Se(Ye))})})}return ko(this,"attr."+e,s,G.local?fe:ve)},an.attrTween=function(e,s){var P=t.ns.qualify(e);function G(Z,ve){var fe=s.call(this,Z,ve,this.getAttribute(P));return fe&&function(Ae){this.setAttribute(P,fe(Ae))}}function V(Z,ve){var fe=s.call(this,Z,ve,this.getAttributeNS(P.space,P.local));return fe&&function(Ae){this.setAttributeNS(P.space,P.local,fe(Ae))}}return this.tween("attr."+e,P.local?V:G)},an.style=function(e,s,P){var G=arguments.length;if(G<3){if(typeof e!="string"){G<2&&(s="");for(P in e)this.style(P,e[P],s);return this}P=""}function V(){this.style.removeProperty(e)}function Z(ve){return ve==null?V:(ve+="",function(){var fe=f(this).getComputedStyle(this,null).getPropertyValue(e),Ae;return fe!==ve&&(Ae=Xr(fe,ve),function(Pe){this.style.setProperty(e,Ae(Pe),P)})})}return ko(this,"style."+e,s,Z)},an.styleTween=function(e,s,P){arguments.length<3&&(P="");function G(V,Z){var ve=s.call(this,V,Z,f(this).getComputedStyle(this,null).getPropertyValue(e));return ve&&function(fe){this.style.setProperty(e,ve(fe),P)}}return this.tween("style."+e,G)},an.text=function(e){return ko(this,"text",e,Th)};function Th(e){return e==null&&(e=""),function(){this.textContent=e}}an.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var s;this[e].count<2&&(s=this.parentNode)&&s.removeChild(this)})},an.ease=function(e){var s=this.id,P=this.namespace;return arguments.length<1?this.node()[P][s].ease:(typeof e!="function"&&(e=t.ease.apply(t,arguments)),Oe(this,function(G){G[P][s].ease=e}))},an.delay=function(e){var s=this.id,P=this.namespace;return arguments.length<1?this.node()[P][s].delay:Oe(this,typeof e=="function"?function(G,V,Z){G[P][s].delay=+e.call(G,G.__data__,V,Z)}:(e=+e,function(G){G[P][s].delay=e}))},an.duration=function(e){var s=this.id,P=this.namespace;return arguments.length<1?this.node()[P][s].duration:Oe(this,typeof e=="function"?function(G,V,Z){G[P][s].duration=Math.max(1,e.call(G,G.__data__,V,Z))}:(e=Math.max(1,e),function(G){G[P][s].duration=e}))},an.each=function(e,s){var P=this.id,G=this.namespace;if(arguments.length<2){var V=Ti,Z=na;try{na=P,Oe(this,function(ve,fe,Ae){Ti=ve[G][P],e.call(ve,ve.__data__,fe,Ae)})}finally{Ti=V,na=Z}}else Oe(this,function(ve){var fe=ve[G][P];(fe.event||(fe.event=t.dispatch("start","end","interrupt"))).on(e,s)});return this},an.transition=function(){for(var e=this.id,s=++hu,P=this.namespace,G=[],V,Z,ve,fe,Ae=0,Pe=this.length;Ae<Pe;Ae++){G.push(V=[]);for(var Z=this[Ae],Se=0,Ye=Z.length;Se<Ye;Se++)(ve=Z[Se])&&(fe=ve[P][e],Mi(ve,Se,P,s,{time:fe.time,ease:fe.ease,delay:fe.delay+fe.duration,duration:fe.duration})),V.push(ve)}return Fa(G,P,s)};function Lo(e){return e==null?"__transition__":"__transition_"+e+"__"}function Mi(e,s,P,G,V){var Z=e[P]||(e[P]={active:0,count:0}),ve=Z[G],fe,Ae,Pe,Se,Ye;function Ve(Qe){var ot=ve.delay;if(Ae.t=ot+fe,ot<=Qe)return mt(Qe-ot);Ae.c=mt}function mt(Qe){var ot=Z.active,gt=Z[ot];gt&&(gt.timer.c=null,gt.timer.t=NaN,--Z.count,delete Z[ot],gt.event&&gt.event.interrupt.call(e,e.__data__,gt.index));for(var _t in Z)if(+_t<G){var bt=Z[_t];bt.timer.c=null,bt.timer.t=NaN,--Z.count,delete Z[_t]}Ae.c=Tt,yr(function(){return Ae.c&&Tt(Qe||1)&&(Ae.c=null,Ae.t=NaN),1},0,fe),Z.active=G,ve.event&&ve.event.start.call(e,e.__data__,s),Ye=[],ve.tween.forEach(function(at,Ct){(Ct=Ct.call(e,e.__data__,s))&&Ye.push(Ct)}),Se=ve.ease,Pe=ve.duration}function Tt(Qe){for(var ot=Qe/Pe,gt=Se(ot),_t=Ye.length;_t>0;)Ye[--_t].call(e,gt);if(ot>=1)return ve.event&&ve.event.end.call(e,e.__data__,s),--Z.count?delete Z[G]:delete e[P],1}ve||(fe=V.time,Ae=yr(Ve,0,fe),ve=Z[G]={tween:new C,time:fe,timer:Ae,delay:V.delay,duration:V.duration,ease:V.ease,index:s},V=null,++Z.count)}t.svg.axis=function(){var e=t.scale.linear(),s=du,P=6,G=6,V=3,Z=[10],ve=null,fe;function Ae(Pe){Pe.each(function(){var Se=t.select(this),Ye=this.__chart__||e,Ve=this.__chart__=e.copy(),mt=ve??(Ve.ticks?Ve.ticks.apply(Ve,Z):Ve.domain()),Tt=fe??(Ve.tickFormat?Ve.tickFormat.apply(Ve,Z):H),Qe=Se.selectAll(".tick").data(mt,Ve),ot=Qe.enter().insert("g",".domain").attr("class","tick").style("opacity",ct),gt=t.transition(Qe.exit()).style("opacity",ct).remove(),_t=t.transition(Qe.order()).style("opacity",1),bt=Math.max(P,0)+V,at,Ct=yi(Ve),Bt=Se.selectAll(".domain").data([0]),Xt=(Bt.enter().append("path").attr("class","domain"),t.transition(Bt));ot.append("line"),ot.append("text");var Ut=ot.select("line"),Qt=_t.select("line"),Jt=Qe.select("text").text(Tt),_r=ot.select("text"),rr=_t.select("text"),dr=s==="top"||s==="left"?-1:1,Rr,tn,Hr,qt;if(s==="bottom"||s==="top"?(at=kh,Rr="x",Hr="y",tn="x2",qt="y2",Jt.attr("dy",dr<0?"0em":".71em").style("text-anchor","middle"),Xt.attr("d","M"+Ct[0]+","+dr*G+"V0H"+Ct[1]+"V"+dr*G)):(at=Lh,Rr="y",Hr="x",tn="y2",qt="x2",Jt.attr("dy",".32em").style("text-anchor",dr<0?"end":"start"),Xt.attr("d","M"+dr*G+","+Ct[0]+"H0V"+Ct[1]+"H"+dr*G)),Ut.attr(qt,dr*P),_r.attr(Hr,dr*bt),Qt.attr(tn,0).attr(qt,dr*P),rr.attr(Rr,0).attr(Hr,dr*bt),Ve.rangeBand){var br=Ve,Tr=br.rangeBand()/2;Ye=Ve=function(Nr){return br(Nr)+Tr}}else Ye.rangeBand?Ye=Ve:gt.call(at,Ve,Ye);ot.call(at,Ye,Ve),_t.call(at,Ve,Ve)})}return Ae.scale=function(Pe){return arguments.length?(e=Pe,Ae):e},Ae.orient=function(Pe){return arguments.length?(s=Pe in Mh?Pe+"":du,Ae):s},Ae.ticks=function(){return arguments.length?(Z=u(arguments),Ae):Z},Ae.tickValues=function(Pe){return arguments.length?(ve=Pe,Ae):ve},Ae.tickFormat=function(Pe){return arguments.length?(fe=Pe,Ae):fe},Ae.tickSize=function(Pe){var Se=arguments.length;return Se?(P=+Pe,G=+arguments[Se-1],Ae):P},Ae.innerTickSize=function(Pe){return arguments.length?(P=+Pe,Ae):P},Ae.outerTickSize=function(Pe){return arguments.length?(G=+Pe,Ae):G},Ae.tickPadding=function(Pe){return arguments.length?(V=+Pe,Ae):V},Ae.tickSubdivide=function(){return arguments.length&&Ae},Ae};var du="bottom",Mh={top:1,right:1,bottom:1,left:1};function kh(e,s,P){e.attr("transform",function(G){var V=s(G);return"translate("+(isFinite(V)?V:P(G))+",0)"})}function Lh(e,s,P){e.attr("transform",function(G){var V=s(G);return"translate(0,"+(isFinite(V)?V:P(G))+")"})}t.svg.brush=function(){var e=he(Se,"brushstart","brush","brushend"),s=null,P=null,G=[0,0],V=[0,0],Z,ve,fe=!0,Ae=!0,Pe=So[0];function Se(Qe){Qe.each(function(){var ot=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Tt).on("touchstart.brush",Tt),gt=ot.selectAll(".background").data([0]);gt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ot.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var _t=ot.selectAll(".resize").data(Pe,H);_t.exit().remove(),_t.enter().append("g").attr("class",function(Bt){return"resize "+Bt}).style("cursor",function(Bt){return Sh[Bt]}).append("rect").attr("x",function(Bt){return/[ew]$/.test(Bt)?-3:null}).attr("y",function(Bt){return/^[ns]/.test(Bt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),_t.style("display",Se.empty()?"none":null);var bt=t.transition(ot),at=t.transition(gt),Ct;s&&(Ct=yi(s),at.attr("x",Ct[0]).attr("width",Ct[1]-Ct[0]),Ve(bt)),P&&(Ct=yi(P),at.attr("y",Ct[0]).attr("height",Ct[1]-Ct[0]),mt(bt)),Ye(bt)})}Se.event=function(Qe){Qe.each(function(){var ot=e.of(this,arguments),gt={x:G,y:V,i:Z,j:ve},_t=this.__chart__||gt;this.__chart__=gt,na?t.select(this).transition().each("start.brush",function(){Z=_t.i,ve=_t.j,G=_t.x,V=_t.y,ot({type:"brushstart"})}).tween("brush:brush",function(){var bt=en(G,gt.x),at=en(V,gt.y);return Z=ve=null,function(Ct){G=gt.x=bt(Ct),V=gt.y=at(Ct),ot({type:"brush",mode:"resize"})}}).each("end.brush",function(){Z=gt.i,ve=gt.j,ot({type:"brush",mode:"resize"}),ot({type:"brushend"})}):(ot({type:"brushstart"}),ot({type:"brush",mode:"resize"}),ot({type:"brushend"}))})};function Ye(Qe){Qe.selectAll(".resize").attr("transform",function(ot){return"translate("+G[+/e$/.test(ot)]+","+V[+/^s/.test(ot)]+")"})}function Ve(Qe){Qe.select(".extent").attr("x",G[0]),Qe.selectAll(".extent,.n>rect,.s>rect").attr("width",G[1]-G[0])}function mt(Qe){Qe.select(".extent").attr("y",V[0]),Qe.selectAll(".extent,.e>rect,.w>rect").attr("height",V[1]-V[0])}function Tt(){var Qe=this,ot=t.select(t.event.target),gt=e.of(Qe,arguments),_t=t.select(Qe),bt=ot.datum(),at=!/^(n|s)$/.test(bt)&&s,Ct=!/^(e|w)$/.test(bt)&&P,Bt=ot.classed("extent"),Xt=ut(Qe),Ut,Qt=t.mouse(Qe),Jt,_r=t.select(f(Qe)).on("keydown.brush",Rr).on("keyup.brush",tn);if(t.event.changedTouches?_r.on("touchmove.brush",Hr).on("touchend.brush",br):_r.on("mousemove.brush",Hr).on("mouseup.brush",br),_t.interrupt().selectAll("*").interrupt(),Bt)Qt[0]=G[0]-Qt[0],Qt[1]=V[0]-Qt[1];else if(bt){var rr=+/w$/.test(bt),dr=+/^n/.test(bt);Jt=[G[1-rr]-Qt[0],V[1-dr]-Qt[1]],Qt[0]=G[rr],Qt[1]=V[dr]}else t.event.altKey&&(Ut=Qt.slice());_t.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",ot.style("cursor")),gt({type:"brushstart"}),Hr();function Rr(){t.event.keyCode==32&&(Bt||(Ut=null,Qt[0]-=G[1],Qt[1]-=V[1],Bt=2),ee())}function tn(){t.event.keyCode==32&&Bt==2&&(Qt[0]+=G[1],Qt[1]+=V[1],Bt=0,ee())}function Hr(){var Tr=t.mouse(Qe),Nr=!1;Jt&&(Tr[0]+=Jt[0],Tr[1]+=Jt[1]),Bt||(t.event.altKey?(Ut||(Ut=[(G[0]+G[1])/2,(V[0]+V[1])/2]),Qt[0]=G[+(Tr[0]<Ut[0])],Qt[1]=V[+(Tr[1]<Ut[1])]):Ut=null),at&&qt(Tr,s,0)&&(Ve(_t),Nr=!0),Ct&&qt(Tr,P,1)&&(mt(_t),Nr=!0),Nr&&(Ye(_t),gt({type:"brush",mode:Bt?"move":"resize"}))}function qt(Tr,Nr,Qr){var on=yi(Nr),fn=on[0],pn=on[1],gn=Qt[Qr],yn=Qr?V:G,_n=yn[1]-yn[0],vn,bn;if(Bt&&(fn-=gn,pn-=_n+gn),vn=(Qr?Ae:fe)?Math.max(fn,Math.min(pn,Tr[Qr])):Tr[Qr],Bt?bn=(vn+=gn)+_n:(Ut&&(gn=Math.max(fn,Math.min(pn,2*Ut[Qr]-vn))),gn<vn?(bn=vn,vn=gn):bn=gn),yn[0]!=vn||yn[1]!=bn)return Qr?ve=null:Z=null,yn[0]=vn,yn[1]=bn,!0}function br(){Hr(),_t.style("pointer-events","all").selectAll(".resize").style("display",Se.empty()?"none":null),t.select("body").style("cursor",null),_r.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Xt(),gt({type:"brushend"})}}return Se.x=function(Qe){return arguments.length?(s=Qe,Pe=So[!s<<1|!P],Se):s},Se.y=function(Qe){return arguments.length?(P=Qe,Pe=So[!s<<1|!P],Se):P},Se.clamp=function(Qe){return arguments.length?(s&&P?(fe=!!Qe[0],Ae=!!Qe[1]):s?fe=!!Qe:P&&(Ae=!!Qe),Se):s&&P?[fe,Ae]:s?fe:P?Ae:null},Se.extent=function(Qe){var ot,gt,_t,bt,at;return arguments.length?(s&&(ot=Qe[0],gt=Qe[1],P&&(ot=ot[0],gt=gt[0]),Z=[ot,gt],s.invert&&(ot=s(ot),gt=s(gt)),gt<ot&&(at=ot,ot=gt,gt=at),(ot!=G[0]||gt!=G[1])&&(G=[ot,gt])),P&&(_t=Qe[0],bt=Qe[1],s&&(_t=_t[1],bt=bt[1]),ve=[_t,bt],P.invert&&(_t=P(_t),bt=P(bt)),bt<_t&&(at=_t,_t=bt,bt=at),(_t!=V[0]||bt!=V[1])&&(V=[_t,bt])),Se):(s&&(Z?(ot=Z[0],gt=Z[1]):(ot=G[0],gt=G[1],s.invert&&(ot=s.invert(ot),gt=s.invert(gt)),gt<ot&&(at=ot,ot=gt,gt=at))),P&&(ve?(_t=ve[0],bt=ve[1]):(_t=V[0],bt=V[1],P.invert&&(_t=P.invert(_t),bt=P.invert(bt)),bt<_t&&(at=_t,_t=bt,bt=at))),s&&P?[[ot,_t],[gt,bt]]:s?[ot,gt]:P&&[_t,bt])},Se.clear=function(){return Se.empty()||(G=[0,0],V=[0,0],Z=ve=null),Se},Se.empty=function(){return!!s&&G[0]==G[1]||!!P&&V[0]==V[1]},t.rebind(Se,e,"on")};var Sh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},So=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];t.text=it(function(e){return e.responseText}),t.json=function(e,s){return ft(e,"application/json",Ph,s)};function Ph(e){return JSON.parse(e.responseText)}t.html=function(e,s){return ft(e,"text/html",Eh,s)};function Eh(e){var s=m.createRange();return s.selectNode(m.body),s.createContextualFragment(e.responseText)}t.xml=it(function(e){return e.responseXML}),typeof N=="object"&&N.exports?N.exports=t:this.d3=t}).apply(self)}}),Eo=Ke({"node_modules/d3-format/dist/d3-format.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=typeof globalThis<"u"?globalThis:t||self,v(t.d3=t.d3||{}))})(M,function(t){"use strict";function v(L){return Math.abs(L=Math.round(L))>=1e21?L.toLocaleString("en").replace(/,/g,""):L.toString(10)}function u(L,O){if((D=(L=O?L.toExponential(O-1):L.toExponential()).indexOf("e"))<0)return null;var D,d=L.slice(0,D);return[d.length>1?d[0]+d.slice(2):d,+L.slice(D+1)]}function m(L){return L=u(Math.abs(L)),L?L[1]:NaN}function g(L,O){return function(D,d){for(var U=D.length,B=[],X=0,K=L[0],H=0;U>0&&K>0&&(H+K+1>d&&(K=Math.max(1,d-H)),B.push(D.substring(U-=K,U+K)),!((H+=K+1)>d));)K=L[X=(X+1)%L.length];return B.reverse().join(O)}}function f(L){return function(O){return O.replace(/[0-9]/g,function(D){return L[+D]})}}var w=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function c(L){if(!(O=w.exec(L)))throw new Error("invalid format: "+L);var O;return new r({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}c.prototype=r.prototype;function r(L){this.fill=L.fill===void 0?" ":L.fill+"",this.align=L.align===void 0?">":L.align+"",this.sign=L.sign===void 0?"-":L.sign+"",this.symbol=L.symbol===void 0?"":L.symbol+"",this.zero=!!L.zero,this.width=L.width===void 0?void 0:+L.width,this.comma=!!L.comma,this.precision=L.precision===void 0?void 0:+L.precision,this.trim=!!L.trim,this.type=L.type===void 0?"":L.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A(L){e:for(var O=L.length,D=1,d=-1,U;D<O;++D)switch(L[D]){case".":d=U=D;break;case"0":d===0&&(d=D),U=D;break;default:if(!+L[D])break e;d>0&&(d=0);break}return d>0?L.slice(0,d)+L.slice(U+1):L}var p;function E(L,O){var D=u(L,O);if(!D)return L+"";var d=D[0],U=D[1],B=U-(p=Math.max(-8,Math.min(8,Math.floor(U/3)))*3)+1,X=d.length;return B===X?d:B>X?d+new Array(B-X+1).join("0"):B>0?d.slice(0,B)+"."+d.slice(B):"0."+new Array(1-B).join("0")+u(L,Math.max(0,O+B-1))[0]}function S(L,O){var D=u(L,O);if(!D)return L+"";var d=D[0],U=D[1];return U<0?"0."+new Array(-U).join("0")+d:d.length>U+1?d.slice(0,U+1)+"."+d.slice(U+1):d+new Array(U-d.length+2).join("0")}var F={"%":function(L,O){return(L*100).toFixed(O)},b:function(L){return Math.round(L).toString(2)},c:function(L){return L+""},d:v,e:function(L,O){return L.toExponential(O)},f:function(L,O){return L.toFixed(O)},g:function(L,O){return L.toPrecision(O)},o:function(L){return Math.round(L).toString(8)},p:function(L,O){return S(L*100,O)},r:S,s:E,X:function(L){return Math.round(L).toString(16).toUpperCase()},x:function(L){return Math.round(L).toString(16)}};function x(L){return L}var b=Array.prototype.map,h=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function a(L){var O=L.grouping===void 0||L.thousands===void 0?x:g(b.call(L.grouping,Number),L.thousands+""),D=L.currency===void 0?"":L.currency[0]+"",d=L.currency===void 0?"":L.currency[1]+"",U=L.decimal===void 0?".":L.decimal+"",B=L.numerals===void 0?x:f(b.call(L.numerals,String)),X=L.percent===void 0?"%":L.percent+"",K=L.minus===void 0?"-":L.minus+"",H=L.nan===void 0?"NaN":L.nan+"";function te(ie){ie=c(ie);var re=ie.fill,oe=ie.align,W=ie.sign,ee=ie.symbol,de=ie.zero,he=ie.width,I=ie.comma,R=ie.precision,_=ie.trim,i=ie.type;i==="n"?(I=!0,i="g"):F[i]||(R===void 0&&(R=12),_=!0,i="g"),(de||re==="0"&&oe==="=")&&(de=!0,re="0",oe="=");var l=ee==="$"?D:ee==="#"&&/[boxX]/.test(i)?"0"+i.toLowerCase():"",k=ee==="$"?d:/[%p]/.test(i)?X:"",y=F[i],n=/[defgprs%]/.test(i);R=R===void 0?6:/[gprs]/.test(i)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function q(J){var se=l,ye=k,we,ke,ue;if(i==="c")ye=y(J)+ye,J="";else{J=+J;var Me=J<0||1/J<0;if(J=isNaN(J)?H:y(Math.abs(J),R),_&&(J=A(J)),Me&&+J==0&&W!=="+"&&(Me=!1),se=(Me?W==="("?W:K:W==="-"||W==="("?"":W)+se,ye=(i==="s"?h[8+p/3]:"")+ye+(Me&&W==="("?")":""),n){for(we=-1,ke=J.length;++we<ke;)if(ue=J.charCodeAt(we),48>ue||ue>57){ye=(ue===46?U+J.slice(we+1):J.slice(we))+ye,J=J.slice(0,we);break}}}I&&!de&&(J=O(J,1/0));var Ne=se.length+J.length+ye.length,Ce=Ne<he?new Array(he-Ne+1).join(re):"";switch(I&&de&&(J=O(Ce+J,Ce.length?he-ye.length:1/0),Ce=""),oe){case"<":J=se+J+ye+Ce;break;case"=":J=se+Ce+J+ye;break;case"^":J=Ce.slice(0,Ne=Ce.length>>1)+se+J+ye+Ce.slice(Ne);break;default:J=Ce+se+J+ye;break}return B(J)}return q.toString=function(){return ie+""},q}function ne(ie,re){var oe=te((ie=c(ie),ie.type="f",ie)),W=Math.max(-8,Math.min(8,Math.floor(m(re)/3)))*3,ee=Math.pow(10,-W),de=h[8+W/3];return function(he){return oe(ee*he)+de}}return{format:te,formatPrefix:ne}}var o;T({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function T(L){return o=a(L),t.format=o.format,t.formatPrefix=o.formatPrefix,o}function C(L){return Math.max(0,-m(Math.abs(L)))}function z(L,O){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(m(O)/3)))*3-m(Math.abs(L)))}function Y(L,O){return L=Math.abs(L),O=Math.abs(O)-L,Math.max(0,m(O)-m(L))+1}t.FormatSpecifier=r,t.formatDefaultLocale=T,t.formatLocale=a,t.formatSpecifier=c,t.precisionFixed=C,t.precisionPrefix=z,t.precisionRound=Y,Object.defineProperty(t,"__esModule",{value:!0})})}}),wu=Ke({"node_modules/is-string-blank/index.js"(M,N){"use strict";N.exports=function(t){for(var v=t.length,u,m=0;m<v;m++)if(u=t.charCodeAt(m),(u<9||u>13)&&u!==32&&u!==133&&u!==160&&u!==5760&&u!==6158&&(u<8192||u>8205)&&u!==8232&&u!==8233&&u!==8239&&u!==8287&&u!==8288&&u!==12288&&u!==65279)return!1;return!0}}}),Zr=Ke({"node_modules/fast-isnumeric/index.js"(M,N){"use strict";var t=wu();N.exports=function(v){var u=typeof v;if(u==="string"){var m=v;if(v=+v,v===0&&t(m))return!1}else if(u!=="number")return!1;return v-v<1}}}),hn=Ke({"src/constants/numerical.js"(M,N){"use strict";N.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}}}),Co=Ke({"node_modules/base64-arraybuffer/dist/base64-arraybuffer.umd.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=typeof globalThis<"u"?globalThis:t||self,v(t["base64-arraybuffer"]={}))})(M,function(t){"use strict";for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<v.length;m++)u[v.charCodeAt(m)]=m;var g=function(w){var c=new Uint8Array(w),r,A=c.length,p="";for(r=0;r<A;r+=3)p+=v[c[r]>>2],p+=v[(c[r]&3)<<4|c[r+1]>>4],p+=v[(c[r+1]&15)<<2|c[r+2]>>6],p+=v[c[r+2]&63];return A%3===2?p=p.substring(0,p.length-1)+"=":A%3===1&&(p=p.substring(0,p.length-2)+"=="),p},f=function(w){var c=w.length*.75,r=w.length,A,p=0,E,S,F,x;w[w.length-1]==="="&&(c--,w[w.length-2]==="="&&c--);var b=new ArrayBuffer(c),h=new Uint8Array(b);for(A=0;A<r;A+=4)E=u[w.charCodeAt(A)],S=u[w.charCodeAt(A+1)],F=u[w.charCodeAt(A+2)],x=u[w.charCodeAt(A+3)],h[p++]=E<<2|S>>4,h[p++]=(S&15)<<4|F>>2,h[p++]=(F&3)<<6|x&63;return b};t.decode=f,t.encode=g,Object.defineProperty(t,"__esModule",{value:!0})})}}),Wn=Ke({"src/lib/is_plain_object.js"(M,N){"use strict";N.exports=function(v){return window&&window.process&&window.process.versions?Object.prototype.toString.call(v)==="[object Object]":Object.prototype.toString.call(v)==="[object Object]"&&Object.getPrototypeOf(v).hasOwnProperty("hasOwnProperty")}}}),qn=Ke({"src/lib/array.js"(M){"use strict";var N=Co().decode,t=Wn(),v=Array.isArray,u=ArrayBuffer,m=DataView;function g(E){return u.isView(E)&&!(E instanceof m)}M.isTypedArray=g;function f(E){return v(E)||g(E)}M.isArrayOrTypedArray=f;function w(E){return!f(E[0])}M.isArray1D=w,M.ensureArray=function(E,S){return v(E)||(E=[]),E.length=S,E};var c={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};c.uint8c=c.u1c,c.uint8=c.u1,c.int8=c.i1,c.uint16=c.u2,c.int16=c.i2,c.uint32=c.u4,c.int32=c.i4,c.float32=c.f4,c.float64=c.f8;function r(E){return E.constructor===ArrayBuffer}M.isArrayBuffer=r,M.decodeTypedArraySpec=function(E){var S=[],F=A(E),x=F.dtype,b=c[x];if(!b)throw new Error('Error in dtype: "'+x+'"');var h=b.BYTES_PER_ELEMENT,a=F.bdata;r(a)||(a=N(a));var o=F.shape===void 0?[a.byteLength/h]:(""+F.shape).split(",");o.reverse();var T=o.length,C,z,Y=+o[0],L=h*Y,O=0;if(T===1)S=new b(a);else if(T===2)for(C=+o[1],z=0;z<C;z++)S[z]=new b(a,O,Y),O+=L;else if(T===3){C=+o[1];for(var D=+o[2],d=0;d<D;d++)for(S[d]=[],z=0;z<C;z++)S[d][z]=new b(a,O,Y),O+=L}else throw new Error("ndim: "+T+'is not supported with the shape:"'+F.shape+'"');return S.bdata=F.bdata,S.dtype=F.dtype,S.shape=o.reverse().join(","),E._inputArray=S,S},M.isTypedArraySpec=function(E){return t(E)&&E.hasOwnProperty("dtype")&&typeof E.dtype=="string"&&E.hasOwnProperty("bdata")&&(typeof E.bdata=="string"||r(E.bdata))&&(E.shape===void 0||E.hasOwnProperty("shape")&&(typeof E.shape=="string"||typeof E.shape=="number"))};function A(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}M.concat=function(){var E=[],S=!0,F=0,x,b,h,a,o,T,C,z;for(h=0;h<arguments.length;h++)a=arguments[h],T=a.length,T&&(b?E.push(a):(b=a,o=T),v(a)?x=!1:(S=!1,F?x!==a.constructor&&(x=!1):x=a.constructor),F+=T);if(!F)return[];if(!E.length)return b;if(S)return b.concat.apply(b,E);if(x){for(C=new x(F),C.set(b),h=0;h<E.length;h++)a=E[h],C.set(a,o),o+=a.length;return C}for(C=new Array(F),z=0;z<b.length;z++)C[z]=b[z];for(h=0;h<E.length;h++){for(a=E[h],z=0;z<a.length;z++)C[o+z]=a[z];o+=z}return C},M.maxRowLength=function(E){return p(E,Math.max,0)},M.minRowLength=function(E){return p(E,Math.min,1/0)};function p(E,S,F){if(f(E))if(f(E[0])){for(var x=F,b=0;b<E.length;b++)x=S(x,E[b].length);return x}else return E.length;return 0}}}),Si=Ke({"src/lib/nested_property.js"(M,N){"use strict";var t=Zr(),v=qn().isArrayOrTypedArray;N.exports=function(E,S){if(t(S))S=String(S);else if(typeof S!="string"||S.substr(S.length-4)==="[-1]")throw"bad property string";var F=S.split("."),x,b,h,a;for(a=0;a<F.length;a++)if(String(F[a]).slice(0,2)==="__")throw"bad property string";for(a=0;a<F.length;){if(x=String(F[a]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),x){if(x[1])F[a]=x[1];else if(a===0)F.splice(0,1);else throw"bad property string";for(b=x[2].substr(1,x[2].length-2).split("]["),h=0;h<b.length;h++)a++,F.splice(a,0,Number(b[h]))}a++}return typeof E!="object"?A(E,S,F):{set:f(E,F,S),get:u(E,F),astr:S,parts:F,obj:E}};function u(p,E){return function(S){var F=p,x,b,h,a,o;for(a=0;a<E.length-1;a++){if(x=E[a],x===-1){for(b=!0,h=[],o=0;o<F.length;o++)h[o]=u(F[o],E.slice(a+1))(S),h[o]!==h[0]&&(b=!1);return b?h[0]:h}if(typeof x=="number"&&!v(F)||(F=F[x],typeof F!="object"||F===null))return}if(!(typeof F!="object"||F===null)&&(h=F[E[a]],!(!S&&h===null)))return h}}var m=/(^|\.)args\[/;function g(p,E){return p===void 0||p===null&&!E.match(m)}function f(p,E,S){return function(F){var x=p,b="",h=[[p,b]],a=g(F,S),o,T;for(T=0;T<E.length-1;T++){if(o=E[T],typeof o=="number"&&!v(x))throw"array index but container is not an array";if(o===-1){if(a=!c(x,E.slice(T+1),F,S),a)break;return}if(!r(x,o,E[T+1],a))break;if(x=x[o],typeof x!="object"||x===null)throw"container is not an object";b=w(b,o),h.push([x,b])}if(a){if(T===E.length-1&&(delete x[E[T]],Array.isArray(x)&&+E[T]===x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[E[T]]=F}}function w(p,E){var S=E;return t(E)?S="["+E+"]":p&&(S="."+E),p+S}function c(p,E,S,F){var x=v(S),b=!0,h=S,a=F.replace("-1",0),o=x?!1:g(S,a),T=E[0],C;for(C=0;C<p.length;C++)a=F.replace("-1",C),x&&(h=S[C%S.length],o=g(h,a)),o&&(b=!1),r(p,C,T,o)&&f(p[C],E,F.replace("-1",C))(h);return b}function r(p,E,S,F){if(p[E]===void 0){if(F)return!1;typeof S=="number"?p[E]=[]:p[E]={}}return!0}function A(p,E,S){return{set:function(){throw"bad container"},get:function(){},astr:E,parts:S,obj:p}}}}),Au=Ke({"src/lib/keyed_container.js"(M,N){"use strict";var t=Si(),v=/^\w*$/,u=0,m=1,g=2,f=3,w=4;N.exports=function(r,A,p,E){p=p||"name",E=E||"value";var S,F,x,b={};A&&A.length?(x=t(r,A),F=x.get()):F=r,A=A||"";var h={};if(F)for(S=0;S<F.length;S++)h[F[S][p]]=S;var a=v.test(E),o={set:function(T,C){var z=C===null?w:u;if(!F){if(!x||z===w)return;F=[],x.set(F)}var Y=h[T];if(Y===void 0){if(z===w)return;z=z|f,Y=F.length,h[T]=Y}else C!==(a?F[Y][E]:t(F[Y],E).get())&&(z=z|g);var L=F[Y]=F[Y]||{};return L[p]=T,a?L[E]=C:t(L,E).set(C),C!==null&&(z=z&~w),b[Y]=b[Y]|z,o},get:function(T){if(F){var C=h[T];if(C!==void 0)return a?F[C][E]:t(F[C],E).get()}},rename:function(T,C){var z=h[T];return z===void 0||(b[z]=b[z]|m,h[C]=z,delete h[T],F[z][p]=C),o},remove:function(T){var C=h[T];if(C===void 0)return o;var z=F[C];if(Object.keys(z).length>2)return b[C]=b[C]|g,o.set(T,null);if(a){for(S=C;S<F.length;S++)b[S]=b[S]|f;for(S=C;S<F.length;S++)h[F[S][p]]--;F.splice(C,1),delete h[T]}else t(z,E).set(null),b[C]=b[C]|g|w;return o},constructUpdate:function(){for(var T,C,z={},Y=Object.keys(b),L=0;L<Y.length;L++)C=Y[L],T=A+"["+C+"]",F[C]?(b[C]&m&&(z[T+"."+p]=F[C][p]),b[C]&g&&(a?z[T+"."+E]=b[C]&w?null:F[C][E]:z[T+"."+E]=b[C]&w?null:t(F[C],E).get())):z[T]=null;return z}};return o}}}),Tu=Ke({"src/lib/relative_attr.js"(M,N){"use strict";var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,v=/^[^\.\[\]]+$/;N.exports=function(u,m){for(;m;){var g=u.match(t);if(g)u=g[1];else if(u.match(v))u="";else throw new Error("bad relativeAttr call:"+[u,m]);if(m.charAt(0)==="^")m=m.slice(1);else break}return u&&m.charAt(0)!=="["?u+"."+m:u+m}}}),Mu=Ke({"src/lib/to_log_range.js"(M,N){"use strict";var t=Zr();N.exports=function(u,m){if(u>0)return Math.log(u)/Math.LN10;var g=Math.log(Math.min(m[0],m[1]))/Math.LN10;return t(g)||(g=Math.log(Math.max(m[0],m[1]))/Math.LN10-6),g}}}),ku=Ke({"src/lib/relink_private.js"(M,N){"use strict";var t=qn().isArrayOrTypedArray,v=Wn();N.exports=function u(m,g){for(var f in g){var w=g[f],c=m[f];if(c!==w)if(f.charAt(0)==="_"||typeof w=="function"){if(f in m)continue;m[f]=w}else if(t(w)&&t(c)&&v(w[0])){if(f==="customdata"||f==="ids")continue;for(var r=Math.min(w.length,c.length),A=0;A<r;A++)c[A]!==w[A]&&v(w[A])&&v(c[A])&&u(c[A],w[A])}else v(w)&&v(c)&&(u(c,w),Object.keys(c).length||delete m[f])}}}}),Pi=Ke({"src/lib/mod.js"(M,N){"use strict";function t(u,m){var g=u%m;return g<0?g+m:g}function v(u,m){return Math.abs(u)>m/2?u-Math.round(u/m)*m:u}N.exports={mod:t,modHalf:v}}}),Un=Ke({"node_modules/tinycolor2/cjs/tinycolor.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?N.exports=v():(t=typeof globalThis<"u"?globalThis:t||self,t.tinycolor=v())})(M,function(){"use strict";function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(R)}var v=/^\s+/,u=/\s+$/;function m(R,_){if(R=R||"",_=_||{},R instanceof m)return R;if(!(this instanceof m))return new m(R,_);var i=g(R);this._originalInput=R,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=_.format||i.format,this._gradientType=_.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}m.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var _=this.toRgb();return(_.r*299+_.g*587+_.b*114)/1e3},getLuminance:function(){var _=this.toRgb(),i,l,k,y,n,q;return i=_.r/255,l=_.g/255,k=_.b/255,i<=.03928?y=i/12.92:y=Math.pow((i+.055)/1.055,2.4),l<=.03928?n=l/12.92:n=Math.pow((l+.055)/1.055,2.4),k<=.03928?q=k/12.92:q=Math.pow((k+.055)/1.055,2.4),.2126*y+.7152*n+.0722*q},setAlpha:function(_){return this._a=B(_),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var _=r(this._r,this._g,this._b);return{h:_.h*360,s:_.s,v:_.v,a:this._a}},toHsvString:function(){var _=r(this._r,this._g,this._b),i=Math.round(_.h*360),l=Math.round(_.s*100),k=Math.round(_.v*100);return this._a==1?"hsv("+i+", "+l+"%, "+k+"%)":"hsva("+i+", "+l+"%, "+k+"%, "+this._roundA+")"},toHsl:function(){var _=w(this._r,this._g,this._b);return{h:_.h*360,s:_.s,l:_.l,a:this._a}},toHslString:function(){var _=w(this._r,this._g,this._b),i=Math.round(_.h*360),l=Math.round(_.s*100),k=Math.round(_.l*100);return this._a==1?"hsl("+i+", "+l+"%, "+k+"%)":"hsla("+i+", "+l+"%, "+k+"%, "+this._roundA+")"},toHex:function(_){return p(this._r,this._g,this._b,_)},toHexString:function(_){return"#"+this.toHex(_)},toHex8:function(_){return E(this._r,this._g,this._b,this._a,_)},toHex8String:function(_){return"#"+this.toHex8(_)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(X(this._r,255)*100)+"%",g:Math.round(X(this._g,255)*100)+"%",b:Math.round(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(X(this._r,255)*100)+"%, "+Math.round(X(this._g,255)*100)+"%, "+Math.round(X(this._b,255)*100)+"%)":"rgba("+Math.round(X(this._r,255)*100)+"%, "+Math.round(X(this._g,255)*100)+"%, "+Math.round(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:d[p(this._r,this._g,this._b,!0)]||!1},toFilter:function(_){var i="#"+S(this._r,this._g,this._b,this._a),l=i,k=this._gradientType?"GradientType = 1, ":"";if(_){var y=m(_);l="#"+S(y._r,y._g,y._b,y._a)}return"progid:DXImageTransform.Microsoft.gradient("+k+"startColorstr="+i+",endColorstr="+l+")"},toString:function(_){var i=!!_;_=_||this._format;var l=!1,k=this._a<1&&this._a>=0,y=!i&&k&&(_==="hex"||_==="hex6"||_==="hex3"||_==="hex4"||_==="hex8"||_==="name");return y?_==="name"&&this._a===0?this.toName():this.toRgbString():(_==="rgb"&&(l=this.toRgbString()),_==="prgb"&&(l=this.toPercentageRgbString()),(_==="hex"||_==="hex6")&&(l=this.toHexString()),_==="hex3"&&(l=this.toHexString(!0)),_==="hex4"&&(l=this.toHex8String(!0)),_==="hex8"&&(l=this.toHex8String()),_==="name"&&(l=this.toName()),_==="hsl"&&(l=this.toHslString()),_==="hsv"&&(l=this.toHsvString()),l||this.toHexString())},clone:function(){return m(this.toString())},_applyModification:function(_,i){var l=_.apply(null,[this].concat([].slice.call(i)));return this._r=l._r,this._g=l._g,this._b=l._b,this.setAlpha(l._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(a,arguments)},darken:function(){return this._applyModification(o,arguments)},desaturate:function(){return this._applyModification(F,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(_,i){return _.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(Y,arguments)},triad:function(){return this._applyCombination(z,[3])},tetrad:function(){return this._applyCombination(z,[4])}},m.fromRatio=function(R,_){if(t(R)=="object"){var i={};for(var l in R)R.hasOwnProperty(l)&&(l==="a"?i[l]=R[l]:i[l]=re(R[l]));R=i}return m(R,_)};function g(R){var _={r:0,g:0,b:0},i=1,l=null,k=null,y=null,n=!1,q=!1;return typeof R=="string"&&(R=he(R)),t(R)=="object"&&(de(R.r)&&de(R.g)&&de(R.b)?(_=f(R.r,R.g,R.b),n=!0,q=String(R.r).substr(-1)==="%"?"prgb":"rgb"):de(R.h)&&de(R.s)&&de(R.v)?(l=re(R.s),k=re(R.v),_=A(R.h,l,k),n=!0,q="hsv"):de(R.h)&&de(R.s)&&de(R.l)&&(l=re(R.s),y=re(R.l),_=c(R.h,l,y),n=!0,q="hsl"),R.hasOwnProperty("a")&&(i=R.a)),i=B(i),{ok:n,format:R.format||q,r:Math.min(255,Math.max(_.r,0)),g:Math.min(255,Math.max(_.g,0)),b:Math.min(255,Math.max(_.b,0)),a:i}}function f(R,_,i){return{r:X(R,255)*255,g:X(_,255)*255,b:X(i,255)*255}}function w(R,_,i){R=X(R,255),_=X(_,255),i=X(i,255);var l=Math.max(R,_,i),k=Math.min(R,_,i),y,n,q=(l+k)/2;if(l==k)y=n=0;else{var J=l-k;switch(n=q>.5?J/(2-l-k):J/(l+k),l){case R:y=(_-i)/J+(_<i?6:0);break;case _:y=(i-R)/J+2;break;case i:y=(R-_)/J+4;break}y/=6}return{h:y,s:n,l:q}}function c(R,_,i){var l,k,y;R=X(R,360),_=X(_,100),i=X(i,100);function n(se,ye,we){return we<0&&(we+=1),we>1&&(we-=1),we<1/6?se+(ye-se)*6*we:we<1/2?ye:we<2/3?se+(ye-se)*(2/3-we)*6:se}if(_===0)l=k=y=i;else{var q=i<.5?i*(1+_):i+_-i*_,J=2*i-q;l=n(J,q,R+1/3),k=n(J,q,R),y=n(J,q,R-1/3)}return{r:l*255,g:k*255,b:y*255}}function r(R,_,i){R=X(R,255),_=X(_,255),i=X(i,255);var l=Math.max(R,_,i),k=Math.min(R,_,i),y,n,q=l,J=l-k;if(n=l===0?0:J/l,l==k)y=0;else{switch(l){case R:y=(_-i)/J+(_<i?6:0);break;case _:y=(i-R)/J+2;break;case i:y=(R-_)/J+4;break}y/=6}return{h:y,s:n,v:q}}function A(R,_,i){R=X(R,360)*6,_=X(_,100),i=X(i,100);var l=Math.floor(R),k=R-l,y=i*(1-_),n=i*(1-k*_),q=i*(1-(1-k)*_),J=l%6,se=[i,n,y,y,q,i][J],ye=[q,i,i,n,y,y][J],we=[y,y,q,i,i,n][J];return{r:se*255,g:ye*255,b:we*255}}function p(R,_,i,l){var k=[ie(Math.round(R).toString(16)),ie(Math.round(_).toString(16)),ie(Math.round(i).toString(16))];return l&&k[0].charAt(0)==k[0].charAt(1)&&k[1].charAt(0)==k[1].charAt(1)&&k[2].charAt(0)==k[2].charAt(1)?k[0].charAt(0)+k[1].charAt(0)+k[2].charAt(0):k.join("")}function E(R,_,i,l,k){var y=[ie(Math.round(R).toString(16)),ie(Math.round(_).toString(16)),ie(Math.round(i).toString(16)),ie(oe(l))];return k&&y[0].charAt(0)==y[0].charAt(1)&&y[1].charAt(0)==y[1].charAt(1)&&y[2].charAt(0)==y[2].charAt(1)&&y[3].charAt(0)==y[3].charAt(1)?y[0].charAt(0)+y[1].charAt(0)+y[2].charAt(0)+y[3].charAt(0):y.join("")}function S(R,_,i,l){var k=[ie(oe(l)),ie(Math.round(R).toString(16)),ie(Math.round(_).toString(16)),ie(Math.round(i).toString(16))];return k.join("")}m.equals=function(R,_){return!R||!_?!1:m(R).toRgbString()==m(_).toRgbString()},m.random=function(){return m.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function F(R,_){_=_===0?0:_||10;var i=m(R).toHsl();return i.s-=_/100,i.s=K(i.s),m(i)}function x(R,_){_=_===0?0:_||10;var i=m(R).toHsl();return i.s+=_/100,i.s=K(i.s),m(i)}function b(R){return m(R).desaturate(100)}function h(R,_){_=_===0?0:_||10;var i=m(R).toHsl();return i.l+=_/100,i.l=K(i.l),m(i)}function a(R,_){_=_===0?0:_||10;var i=m(R).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(_/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(_/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(_/100)))),m(i)}function o(R,_){_=_===0?0:_||10;var i=m(R).toHsl();return i.l-=_/100,i.l=K(i.l),m(i)}function T(R,_){var i=m(R).toHsl(),l=(i.h+_)%360;return i.h=l<0?360+l:l,m(i)}function C(R){var _=m(R).toHsl();return _.h=(_.h+180)%360,m(_)}function z(R,_){if(isNaN(_)||_<=0)throw new Error("Argument to polyad must be a positive number");for(var i=m(R).toHsl(),l=[m(R)],k=360/_,y=1;y<_;y++)l.push(m({h:(i.h+y*k)%360,s:i.s,l:i.l}));return l}function Y(R){var _=m(R).toHsl(),i=_.h;return[m(R),m({h:(i+72)%360,s:_.s,l:_.l}),m({h:(i+216)%360,s:_.s,l:_.l})]}function L(R,_,i){_=_||6,i=i||30;var l=m(R).toHsl(),k=360/i,y=[m(R)];for(l.h=(l.h-(k*_>>1)+720)%360;--_;)l.h=(l.h+k)%360,y.push(m(l));return y}function O(R,_){_=_||6;for(var i=m(R).toHsv(),l=i.h,k=i.s,y=i.v,n=[],q=1/_;_--;)n.push(m({h:l,s:k,v:y})),y=(y+q)%1;return n}m.mix=function(R,_,i){i=i===0?0:i||50;var l=m(R).toRgb(),k=m(_).toRgb(),y=i/100,n={r:(k.r-l.r)*y+l.r,g:(k.g-l.g)*y+l.g,b:(k.b-l.b)*y+l.b,a:(k.a-l.a)*y+l.a};return m(n)},m.readability=function(R,_){var i=m(R),l=m(_);return(Math.max(i.getLuminance(),l.getLuminance())+.05)/(Math.min(i.getLuminance(),l.getLuminance())+.05)},m.isReadable=function(R,_,i){var l=m.readability(R,_),k,y;switch(y=!1,k=I(i),k.level+k.size){case"AAsmall":case"AAAlarge":y=l>=4.5;break;case"AAlarge":y=l>=3;break;case"AAAsmall":y=l>=7;break}return y},m.mostReadable=function(R,_,i){var l=null,k=0,y,n,q,J;i=i||{},n=i.includeFallbackColors,q=i.level,J=i.size;for(var se=0;se<_.length;se++)y=m.readability(R,_[se]),y>k&&(k=y,l=m(_[se]));return m.isReadable(R,l,{level:q,size:J})||!n?l:(i.includeFallbackColors=!1,m.mostReadable(R,["#fff","#000"],i))};var D=m.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},d=m.hexNames=U(D);function U(R){var _={};for(var i in R)R.hasOwnProperty(i)&&(_[R[i]]=i);return _}function B(R){return R=parseFloat(R),(isNaN(R)||R<0||R>1)&&(R=1),R}function X(R,_){te(R)&&(R="100%");var i=ne(R);return R=Math.min(_,Math.max(0,parseFloat(R))),i&&(R=parseInt(R*_,10)/100),Math.abs(R-_)<1e-6?1:R%_/parseFloat(_)}function K(R){return Math.min(1,Math.max(0,R))}function H(R){return parseInt(R,16)}function te(R){return typeof R=="string"&&R.indexOf(".")!=-1&&parseFloat(R)===1}function ne(R){return typeof R=="string"&&R.indexOf("%")!=-1}function ie(R){return R.length==1?"0"+R:""+R}function re(R){return R<=1&&(R=R*100+"%"),R}function oe(R){return Math.round(parseFloat(R)*255).toString(16)}function W(R){return H(R)/255}var ee=function(){var R="[-\\+]?\\d+%?",_="[-\\+]?\\d*\\.\\d+%?",i="(?:"+_+")|(?:"+R+")",l="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",k="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+l),rgba:new RegExp("rgba"+k),hsl:new RegExp("hsl"+l),hsla:new RegExp("hsla"+k),hsv:new RegExp("hsv"+l),hsva:new RegExp("hsva"+k),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function de(R){return!!ee.CSS_UNIT.exec(R)}function he(R){R=R.replace(v,"").replace(u,"").toLowerCase();var _=!1;if(D[R])R=D[R],_=!0;else if(R=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=ee.rgb.exec(R))?{r:i[1],g:i[2],b:i[3]}:(i=ee.rgba.exec(R))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=ee.hsl.exec(R))?{h:i[1],s:i[2],l:i[3]}:(i=ee.hsla.exec(R))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=ee.hsv.exec(R))?{h:i[1],s:i[2],v:i[3]}:(i=ee.hsva.exec(R))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=ee.hex8.exec(R))?{r:H(i[1]),g:H(i[2]),b:H(i[3]),a:W(i[4]),format:_?"name":"hex8"}:(i=ee.hex6.exec(R))?{r:H(i[1]),g:H(i[2]),b:H(i[3]),format:_?"name":"hex"}:(i=ee.hex4.exec(R))?{r:H(i[1]+""+i[1]),g:H(i[2]+""+i[2]),b:H(i[3]+""+i[3]),a:W(i[4]+""+i[4]),format:_?"name":"hex8"}:(i=ee.hex3.exec(R))?{r:H(i[1]+""+i[1]),g:H(i[2]+""+i[2]),b:H(i[3]+""+i[3]),format:_?"name":"hex"}:!1}function I(R){var _,i;return R=R||{level:"AA",size:"small"},_=(R.level||"AA").toUpperCase(),i=(R.size||"small").toLowerCase(),_!=="AA"&&_!=="AAA"&&(_="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:_,size:i}}return m})}}),wn=Ke({"src/lib/extend.js"(M){"use strict";var N=Wn(),t=Array.isArray;function v(m,g){var f,w;for(f=0;f<m.length;f++){if(w=m[f],w!==null&&typeof w=="object")return!1;w!==void 0&&(g[f]=w)}return!0}M.extendFlat=function(){return u(arguments,!1,!1,!1)},M.extendDeep=function(){return u(arguments,!0,!1,!1)},M.extendDeepAll=function(){return u(arguments,!0,!0,!1)},M.extendDeepNoArrays=function(){return u(arguments,!0,!1,!0)};function u(m,g,f,w){var c=m[0],r=m.length,A,p,E,S,F,x,b;if(r===2&&t(c)&&t(m[1])&&c.length===0){if(b=v(m[1],c),b)return c;c.splice(0,c.length)}for(var h=1;h<r;h++){A=m[h];for(p in A)E=c[p],S=A[p],w&&t(S)?c[p]=S:g&&S&&(N(S)||(F=t(S)))?(F?(F=!1,x=E&&t(E)?E:[]):x=E&&N(E)?E:{},c[p]=u([x,S],g,f,w)):(typeof S<"u"||f)&&(c[p]=S)}return c}}}),Sn=Ke({"src/plots/font_attributes.js"(M,N){"use strict";N.exports=function(t){var v=t.variantValues,u=t.editType,m=t.colorEditType;m===void 0&&(m=u);var g={editType:u,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};t.noNumericWeightValues&&(g.valType="enumerated",g.values=g.extras,g.extras=void 0,g.min=void 0,g.max=void 0);var f={family:{valType:"string",noBlank:!0,strict:!0,editType:u},size:{valType:"number",min:1,editType:u},color:{valType:"color",editType:m},weight:g,style:{editType:u,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:t.noFontVariant?void 0:{editType:u,valType:"enumerated",values:v||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:t.noFontTextcase?void 0:{editType:u,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:t.noFontLineposition?void 0:{editType:u,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:t.noFontShadow?void 0:{editType:u,valType:"string",dflt:t.autoShadowDflt?"auto":"none"},editType:u};return t.autoSize&&(f.size.dflt="auto"),t.autoColor&&(f.color.dflt="auto"),t.arrayOk&&(f.family.arrayOk=!0,f.weight.arrayOk=!0,f.style.arrayOk=!0,t.noFontVariant||(f.variant.arrayOk=!0),t.noFontTextcase||(f.textcase.arrayOk=!0),t.noFontLineposition||(f.lineposition.arrayOk=!0),t.noFontShadow||(f.shadow.arrayOk=!0),f.size.arrayOk=!0,f.color.arrayOk=!0),f}}}),Ia=Ke({"src/components/fx/constants.js"(M,N){"use strict";N.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}}),la=Ke({"src/components/fx/layout_attributes.js"(M,N){"use strict";var t=Ia(),v=Sn(),u=v({editType:"none"});u.family.dflt=t.HOVERFONT,u.size.dflt=t.HOVERFONTSIZE,N.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:u,grouptitlefont:v({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}}),Oa=Ke({"src/components/fx/attributes.js"(M,N){"use strict";var t=Sn(),v=la().hoverlabel,u=wn().extendFlat;N.exports={hoverlabel:{bgcolor:u({},v.bgcolor,{arrayOk:!0}),bordercolor:u({},v.bordercolor,{arrayOk:!0}),font:t({arrayOk:!0,editType:"none"}),align:u({},v.align,{arrayOk:!0}),namelength:u({},v.namelength,{arrayOk:!0}),editType:"none"}}}}),Fn=Ke({"src/plots/attributes.js"(M,N){"use strict";var t=Sn(),v=Oa();N.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:t({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:v.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}}),sa=Ke({"src/components/color/attributes.js"(M){"use strict";M.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],M.defaultLine="#444",M.lightLine="#eee",M.background="#fff",M.borderLine="#BEC8D9",M.lightFraction=100*10/11}}),$r=Ke({"src/components/color/index.js"(M,N){"use strict";var t=Un(),v=Zr(),u=qn().isTypedArray,m=N.exports={},g=sa();m.defaults=g.defaults;var f=m.defaultLine=g.defaultLine;m.lightLine=g.lightLine;var w=m.background=g.background;m.tinyRGB=function(r){var A=r.toRgb();return"rgb("+Math.round(A.r)+", "+Math.round(A.g)+", "+Math.round(A.b)+")"},m.rgb=function(r){return m.tinyRGB(t(r))},m.opacity=function(r){return r?t(r).getAlpha():0},m.addOpacity=function(r,A){var p=t(r).toRgb();return"rgba("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+", "+A+")"},m.combine=function(r,A){var p=t(r).toRgb();if(p.a===1)return t(r).toRgbString();var E=t(A||w).toRgb(),S=E.a===1?E:{r:255*(1-E.a)+E.r*E.a,g:255*(1-E.a)+E.g*E.a,b:255*(1-E.a)+E.b*E.a},F={r:S.r*(1-p.a)+p.r*p.a,g:S.g*(1-p.a)+p.g*p.a,b:S.b*(1-p.a)+p.b*p.a};return t(F).toRgbString()},m.interpolate=function(r,A,p){var E=t(r).toRgb(),S=t(A).toRgb(),F={r:p*E.r+(1-p)*S.r,g:p*E.g+(1-p)*S.g,b:p*E.b+(1-p)*S.b};return t(F).toRgbString()},m.contrast=function(r,A,p){var E=t(r);E.getAlpha()!==1&&(E=t(m.combine(r,w)));var S=E.isDark()?A?E.lighten(A):w:p?E.darken(p):f;return S.toString()},m.stroke=function(r,A){var p=t(A);r.style({stroke:m.tinyRGB(p),"stroke-opacity":p.getAlpha()})},m.fill=function(r,A){var p=t(A);r.style({fill:m.tinyRGB(p),"fill-opacity":p.getAlpha()})},m.clean=function(r){if(!(!r||typeof r!="object")){var A=Object.keys(r),p,E,S,F;for(p=0;p<A.length;p++)if(S=A[p],F=r[S],S.substr(S.length-5)==="color")if(Array.isArray(F))for(E=0;E<F.length;E++)F[E]=c(F[E]);else r[S]=c(F);else if(S.substr(S.length-10)==="colorscale"&&Array.isArray(F))for(E=0;E<F.length;E++)Array.isArray(F[E])&&(F[E][1]=c(F[E][1]));else if(Array.isArray(F)){var x=F[0];if(!Array.isArray(x)&&x&&typeof x=="object")for(E=0;E<F.length;E++)m.clean(F[E])}else F&&typeof F=="object"&&!u(F)&&m.clean(F)}};function c(r){if(v(r)||typeof r!="string")return r;var A=r.trim();if(A.substr(0,3)!=="rgb")return r;var p=A.match(/^rgba?\s*\(([^()]*)\)$/);if(!p)return r;var E=p[1].trim().split(/\s*[\s,]\s*/),S=A.charAt(3)==="a"&&E.length===4;if(!S&&E.length!==3)return r;for(var F=0;F<E.length;F++){if(!E[F].length||(E[F]=Number(E[F]),!(E[F]>=0)))return r;if(F===3)E[F]>1&&(E[F]=1);else if(E[F]>=1)return r}var x=Math.round(E[0]*255)+", "+Math.round(E[1]*255)+", "+Math.round(E[2]*255);return S?"rgba("+x+", "+E[3]+")":"rgb("+x+")"}}}),Ei=Ke({"src/constants/interactions.js"(M,N){"use strict";N.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}}),Ci=Ke({"src/lib/regex.js"(M){"use strict";M.counter=function(N,t,v,u){var m=(t||"")+(v?"":"$"),g=u===!1?"":"^";return N==="xy"?new RegExp(g+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+m):new RegExp(g+N+"([2-9]|[1-9][0-9]+)?"+m)}}}),Lu=Ke({"src/lib/coerce.js"(M){"use strict";var N=Zr(),t=Un(),v=wn().extendFlat,u=Fn(),m=$r(),g=Ei().DESELECTDIM,f=Si(),w=Ci().counter,c=Pi().modHalf,r=qn().isArrayOrTypedArray,A=qn().isTypedArraySpec,p=qn().decodeTypedArraySpec;M.valObjectMeta={data_array:{coerceFunction:function(S,F,x){F.set(r(S)?S:A(S)?p(S):x)}},enumerated:{coerceFunction:function(S,F,x,b){b.coerceNumber&&(S=+S),b.values.indexOf(S)===-1?F.set(x):F.set(S)},validateFunction:function(S,F){F.coerceNumber&&(S=+S);for(var x=F.values,b=0;b<x.length;b++){var h=String(x[b]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var a=new RegExp(h.substr(1,h.length-2));if(a.test(S))return!0}else if(S===x[b])return!0}return!1}},boolean:{coerceFunction:function(S,F,x){S===!0||S===!1?F.set(S):F.set(x)}},number:{coerceFunction:function(S,F,x,b){A(S)&&(S=p(S)),!N(S)||b.min!==void 0&&S<b.min||b.max!==void 0&&S>b.max?F.set(x):F.set(+S)}},integer:{coerceFunction:function(S,F,x,b){if((b.extras||[]).indexOf(S)!==-1){F.set(S);return}A(S)&&(S=p(S)),S%1||!N(S)||b.min!==void 0&&S<b.min||b.max!==void 0&&S>b.max?F.set(x):F.set(+S)}},string:{coerceFunction:function(S,F,x,b){if(typeof S!="string"){var h=typeof S=="number";b.strict===!0||!h?F.set(x):F.set(String(S))}else b.noBlank&&!S?F.set(x):F.set(S)}},color:{coerceFunction:function(S,F,x){A(S)&&(S=p(S)),t(S).isValid()?F.set(S):F.set(x)}},colorlist:{coerceFunction:function(S,F,x){function b(h){return t(h).isValid()}!Array.isArray(S)||!S.length?F.set(x):S.every(b)?F.set(S):F.set(x)}},colorscale:{coerceFunction:function(S,F,x){F.set(colorscales.get(S,x))}},angle:{coerceFunction:function(S,F,x){A(S)&&(S=p(S)),S==="auto"?F.set("auto"):N(S)?F.set(c(+S,360)):F.set(x)}},subplotid:{coerceFunction:function(S,F,x,b){var h=b.regex||w(x);if(typeof S=="string"&&h.test(S)){F.set(S);return}F.set(x)},validateFunction:function(S,F){var x=F.dflt;return S===x?!0:typeof S!="string"?!1:!!w(x).test(S)}},flaglist:{coerceFunction:function(S,F,x,b){if((b.extras||[]).indexOf(S)!==-1){F.set(S);return}if(typeof S!="string"){F.set(x);return}for(var h=S.split("+"),a=0;a<h.length;){var o=h[a];b.flags.indexOf(o)===-1||h.indexOf(o)<a?h.splice(a,1):a++}h.length?F.set(h.join("+")):F.set(x)}},any:{coerceFunction:function(S,F,x){S===void 0?F.set(x):F.set(A(S)?p(S):S)}},info_array:{coerceFunction:function(S,F,x,b){function h(K,H,te){var ne,ie={set:function(re){ne=re}};return te===void 0&&(te=H.dflt),M.valObjectMeta[H.valType].coerceFunction(K,ie,te,H),ne}if(A(S)&&(S=p(S)),!r(S)){F.set(x);return}var a=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(S)&&r(S[0]),o=b.items,T=[],C=Array.isArray(o),z=C&&a&&r(o[0]),Y=a&&C&&!z,L=C&&!Y?o.length:S.length,O,D,d,U,B,X;if(x=Array.isArray(x)?x:[],a)for(O=0;O<L;O++)for(T[O]=[],d=r(S[O])?S[O]:[],Y?B=o.length:C?B=o[O].length:B=d.length,D=0;D<B;D++)Y?U=o[D]:C?U=o[O][D]:U=o,X=h(d[D],U,(x[O]||[])[D]),X!==void 0&&(T[O][D]=X);else for(O=0;O<L;O++)X=h(S[O],C?o[O]:o,x[O]),X!==void 0&&(T[O]=X);F.set(T)},validateFunction:function(S,F){if(!r(S))return!1;var x=F.items,b=Array.isArray(x),h=F.dimensions===2;if(!F.freeLength&&S.length!==x.length)return!1;for(var a=0;a<S.length;a++)if(h){if(!r(S[a])||!F.freeLength&&S[a].length!==x[a].length)return!1;for(var o=0;o<S[a].length;o++)if(!E(S[a][o],b?x[a][o]:x))return!1}else if(!E(S[a],b?x[a]:x))return!1;return!0}}},M.coerce=function(S,F,x,b,h){var a=f(x,b).get(),o=f(S,b),T=f(F,b),C=o.get(),z=F._template;if(C===void 0&&z&&(C=f(z,b).get(),z=0),h===void 0&&(h=a.dflt),a.arrayOk){if(r(C))return T.set(C),C;if(A(C))return C=p(C),T.set(C),C}var Y=M.valObjectMeta[a.valType].coerceFunction;Y(C,T,h,a);var L=T.get();return z&&L===h&&!E(C,a)&&(C=f(z,b).get(),Y(C,T,h,a),L=T.get()),L},M.coerce2=function(S,F,x,b,h){var a=f(S,b),o=M.coerce(S,F,x,b,h),T=a.get();return T!=null?o:!1},M.coerceFont=function(S,F,x,b){b||(b={}),x=v({},x),x=v(x,b.overrideDflt||{});var h={family:S(F+".family",x.family),size:S(F+".size",x.size),color:S(F+".color",x.color),weight:S(F+".weight",x.weight),style:S(F+".style",x.style)};if(b.noFontVariant||(h.variant=S(F+".variant",x.variant)),b.noFontLineposition||(h.lineposition=S(F+".lineposition",x.lineposition)),b.noFontTextcase||(h.textcase=S(F+".textcase",x.textcase)),!b.noFontShadow){var a=x.shadow;a==="none"&&b.autoShadowDflt&&(a="auto"),h.shadow=S(F+".shadow",a)}return h},M.coercePattern=function(S,F,x,b){var h=S(F+".shape");if(h){S(F+".solidity"),S(F+".size");var a=S(F+".fillmode"),o=a==="overlay";if(!b){var T=S(F+".bgcolor",o?x:void 0);S(F+".fgcolor",o?m.contrast(T):x)}S(F+".fgopacity",o?.5:1)}},M.coerceHoverinfo=function(S,F,x){var b=F._module.attributes,h=b.hoverinfo?b:u,a=h.hoverinfo,o;if(x._dataLength===1){var T=a.dflt==="all"?a.flags.slice():a.dflt.split("+");T.splice(T.indexOf("name"),1),o=T.join("+")}return M.coerce(S,F,h,"hoverinfo",o)},M.coerceSelectionMarkerOpacity=function(S,F){if(S.marker){var x=S.marker.opacity;if(x!==void 0){var b,h;!r(x)&&!S.selected&&!S.unselected&&(b=x,h=g*x),F("selected.marker.opacity",b),F("unselected.marker.opacity",h)}}};function E(S,F){var x=M.valObjectMeta[F.valType];if(F.arrayOk&&r(S))return!0;if(x.validateFunction)return x.validateFunction(S,F);var b={},h=b,a={set:function(o){h=o}};return x.coerceFunction(S,a,b,F),h!==b}M.validate=E}}),ua=Ke({"src/plot_api/plot_config.js"(M,N){"use strict";var t={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},v={};function u(m,g){for(var f in m){var w=m[f];w.valType?g[f]=w.dflt:(g[f]||(g[f]={}),u(w,g[f]))}}u(t,v),N.exports={configAttributes:t,dfltConfig:v}}}),ga=Ke({"src/lib/loggers.js"(M,N){"use strict";var t=ua().dfltConfig,v=function(){},u=N.exports={};u.log=function(){var m;if(t.logging>1){var g=["LOG:"];for(m=0;m<arguments.length;m++)g.push(arguments[m]);console.trace.apply(console,g)}if(t.notifyOnLogging>1){var f=[];for(m=0;m<arguments.length;m++)f.push(arguments[m]);v(f.join("<br>"),"long")}},u.warn=function(){var m;if(t.logging>0){var g=["WARN:"];for(m=0;m<arguments.length;m++)g.push(arguments[m]);console.trace.apply(console,g)}if(t.notifyOnLogging>0){var f=[];for(m=0;m<arguments.length;m++)f.push(arguments[m]);v(f.join("<br>"),"stick")}},u.error=function(){var m;if(t.logging>0){var g=["ERROR:"];for(m=0;m<arguments.length;m++)g.push(arguments[m]);console.error.apply(console,g)}if(t.notifyOnLogging>0){var f=[];for(m=0;m<arguments.length;m++)f.push(arguments[m]);v(f.join("<br>"),"stick")}}}}),Di=Ke({"src/lib/noop.js"(M,N){"use strict";N.exports=function(){}}}),Do=Ke({"src/lib/push_unique.js"(M,N){"use strict";N.exports=function(v,u){if(u instanceof RegExp){for(var m=u.toString(),g=0;g<v.length;g++)if(v[g]instanceof RegExp&&v[g].toString()===m)return v;v.push(u)}else(u||u===0)&&v.indexOf(u)===-1&&v.push(u);return v}}}),Ro=Ke({"node_modules/gl-mat4/index.js"(M,N){N.exports={invert:Su(),multiply:Pu()}}}),Su=Ke({"node_modules/gl-mat4/invert.js"(M,N){N.exports=t;function t(v,u){var m=u[0],g=u[1],f=u[2],w=u[3],c=u[4],r=u[5],A=u[6],p=u[7],E=u[8],S=u[9],F=u[10],x=u[11],b=u[12],h=u[13],a=u[14],o=u[15],T=m*r-g*c,C=m*A-f*c,z=m*p-w*c,Y=g*A-f*r,L=g*p-w*r,O=f*p-w*A,D=E*h-S*b,d=E*a-F*b,U=E*o-x*b,B=S*a-F*h,X=S*o-x*h,K=F*o-x*a,H=T*K-C*X+z*B+Y*U-L*d+O*D;return H?(H=1/H,v[0]=(r*K-A*X+p*B)*H,v[1]=(f*X-g*K-w*B)*H,v[2]=(h*O-a*L+o*Y)*H,v[3]=(F*L-S*O-x*Y)*H,v[4]=(A*U-c*K-p*d)*H,v[5]=(m*K-f*U+w*d)*H,v[6]=(a*z-b*O-o*C)*H,v[7]=(E*O-F*z+x*C)*H,v[8]=(c*X-r*U+p*D)*H,v[9]=(g*U-m*X-w*D)*H,v[10]=(b*L-h*z+o*T)*H,v[11]=(S*z-E*L-x*T)*H,v[12]=(r*d-c*B-A*D)*H,v[13]=(m*B-g*d+f*D)*H,v[14]=(h*C-b*Y-a*T)*H,v[15]=(E*Y-S*C+F*T)*H,v):null}}}),Pu=Ke({"node_modules/gl-mat4/multiply.js"(M,N){N.exports=t;function t(v,u,m){var g=u[0],f=u[1],w=u[2],c=u[3],r=u[4],A=u[5],p=u[6],E=u[7],S=u[8],F=u[9],x=u[10],b=u[11],h=u[12],a=u[13],o=u[14],T=u[15],C=m[0],z=m[1],Y=m[2],L=m[3];return v[0]=C*g+z*r+Y*S+L*h,v[1]=C*f+z*A+Y*F+L*a,v[2]=C*w+z*p+Y*x+L*o,v[3]=C*c+z*E+Y*b+L*T,C=m[4],z=m[5],Y=m[6],L=m[7],v[4]=C*g+z*r+Y*S+L*h,v[5]=C*f+z*A+Y*F+L*a,v[6]=C*w+z*p+Y*x+L*o,v[7]=C*c+z*E+Y*b+L*T,C=m[8],z=m[9],Y=m[10],L=m[11],v[8]=C*g+z*r+Y*S+L*h,v[9]=C*f+z*A+Y*F+L*a,v[10]=C*w+z*p+Y*x+L*o,v[11]=C*c+z*E+Y*b+L*T,C=m[12],z=m[13],Y=m[14],L=m[15],v[12]=C*g+z*r+Y*S+L*h,v[13]=C*f+z*A+Y*F+L*a,v[14]=C*w+z*p+Y*x+L*o,v[15]=C*c+z*E+Y*b+L*T,v}}}),Ri=Ke({"src/lib/matrix.js"(M){"use strict";var N=Ro();M.init2dArray=function(t,v){for(var u=new Array(t),m=0;m<t;m++)u[m]=new Array(v);return u},M.transposeRagged=function(t){var v=0,u=t.length,m,g;for(m=0;m<u;m++)v=Math.max(v,t[m].length);var f=new Array(v);for(m=0;m<v;m++)for(f[m]=new Array(u),g=0;g<u;g++)f[m][g]=t[g][m];return f},M.dot=function(t,v){if(!(t.length&&v.length)||t.length!==v.length)return null;var u=t.length,m,g;if(t[0].length)for(m=new Array(u),g=0;g<u;g++)m[g]=M.dot(t[g],v);else if(v[0].length){var f=M.transposeRagged(v);for(m=new Array(f.length),g=0;g<f.length;g++)m[g]=M.dot(t,f[g])}else for(m=0,g=0;g<u;g++)m+=t[g]*v[g];return m},M.translationMatrix=function(t,v){return[[1,0,t],[0,1,v],[0,0,1]]},M.rotationMatrix=function(t){var v=t*Math.PI/180;return[[Math.cos(v),-Math.sin(v),0],[Math.sin(v),Math.cos(v),0],[0,0,1]]},M.rotationXYMatrix=function(t,v,u){return M.dot(M.dot(M.translationMatrix(v,u),M.rotationMatrix(t)),M.translationMatrix(-v,-u))},M.apply3DTransform=function(t){return function(){var v=arguments,u=arguments.length===1?v[0]:[v[0],v[1],v[2]||0];return M.dot(t,[u[0],u[1],u[2],1]).slice(0,3)}},M.apply2DTransform=function(t){return function(){var v=arguments;v.length===3&&(v=v[0]);var u=arguments.length===1?v[0]:[v[0],v[1]];return M.dot(t,[u[0],u[1],1]).slice(0,2)}},M.apply2DTransform2=function(t){var v=M.apply2DTransform(t);return function(u){return v(u.slice(0,2)).concat(v(u.slice(2,4)))}},M.convertCssMatrix=function(t){if(t){var v=t.length;if(v===16)return t;if(v===6)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},M.inverseTransformMatrix=function(t){var v=[];return N.invert(v,t),[[v[0],v[1],v[2],v[3]],[v[4],v[5],v[6],v[7]],[v[8],v[9],v[10],v[11]],[v[12],v[13],v[14],v[15]]]}}}),Ha=Ke({"src/lib/dom.js"(M,N){"use strict";var t=Yr(),v=ga(),u=Ri(),m=Ro();function g(h){var a;if(typeof h=="string"){if(a=document.getElementById(h),a===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return a}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function f(h){var a=t.select(h);return a.node()instanceof HTMLElement&&a.size()&&a.classed("js-plotly-plot")}function w(h){var a=h&&h.parentNode;a&&a.removeChild(h)}function c(h,a){r("global",h,a)}function r(h,a,o){var T="plotly.js-style-"+h,C=document.getElementById(T);if(!(C&&C.matches(".no-inline-styles"))){C||(C=document.createElement("style"),C.setAttribute("id",T),C.appendChild(document.createTextNode("")),document.head.appendChild(C));var z=C.sheet;z?z.insertRule?z.insertRule(a+"{"+o+"}",0):z.addRule?z.addRule(a,o,0):v.warn("addStyleRule failed"):v.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function A(h){var a="plotly.js-style-"+h,o=document.getElementById(a);o&&w(o)}function p(h,a,o,T,C,z){var Y=T.split(":"),L=C.split(":"),O="data-btn-style-event-added";z||(z=document),z.querySelectorAll(h).forEach(function(D){D.getAttribute(O)||(D.addEventListener("mouseenter",function(){var d=this.querySelector(o);d&&(d.style[Y[0]]=Y[1])}),D.addEventListener("mouseleave",function(){var d=this.querySelector(o);d&&(a&&this.matches(a)?d.style[Y[0]]=Y[1]:d.style[L[0]]=L[1])}),D.setAttribute(O,!0))})}function E(h){var a=F(h),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return a.forEach(function(T){var C=S(T);if(C){var z=u.convertCssMatrix(C);o=m.multiply(o,o,z)}}),o}function S(h){var a=window.getComputedStyle(h,null),o=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("-moz-transform")||a.getPropertyValue("-ms-transform")||a.getPropertyValue("-o-transform")||a.getPropertyValue("transform");return o==="none"?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(T){return+T})}function F(h){for(var a=[];x(h);)a.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return a}function x(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function b(h,a){return h&&a&&h.top===a.top&&h.left===a.left&&h.right===a.right&&h.bottom===a.bottom}N.exports={getGraphDiv:g,isPlotDiv:f,removeElement:w,addStyleRule:c,addRelatedStyleRule:r,deleteRelatedStyleRule:A,setStyleOnHover:p,getFullTransformMatrix:E,getElementTransformMatrix:S,getElementAndAncestors:F,equalDomRects:b}}}),Ni=Ke({"src/plots/animation_attributes.js"(M,N){"use strict";N.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}}),ma=Ke({"src/plot_api/edit_types.js"(M,N){"use strict";var t=wn().extendFlat,v=Wn(),u={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},m={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},g=u.flags.slice().concat(["fullReplot"]),f=m.flags.slice().concat("layoutReplot");N.exports={traces:u,layout:m,traceFlags:function(){return w(g)},layoutFlags:function(){return w(f)},update:function(A,p){var E=p.editType;if(E&&E!=="none")for(var S=E.split("+"),F=0;F<S.length;F++)A[S[F]]=!0},overrideAll:c};function w(A){for(var p={},E=0;E<A.length;E++)p[A[E]]=!1;return p}function c(A,p,E){var S=t({},A);for(var F in S){var x=S[F];v(x)&&(S[F]=r(x,p,E,F))}return E==="from-root"&&(S.editType=p),S}function r(A,p,E,S){if(A.valType){var F=t({},A);if(F.editType=p,Array.isArray(A.items)){F.items=new Array(A.items.length);for(var x=0;x<A.items.length;x++)F.items[x]=r(A.items[x],p,"from-root")}return F}else return c(A,p,S.charAt(0)==="_"?"nested":"from-root")}}}),_a=Ke({"src/components/drawing/attributes.js"(M){"use strict";M.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},M.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}}),No=Ke({"src/constants/docs.js"(M,N){"use strict";N.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}}),ba=Ke({"src/plots/template_attributes.js"(M){"use strict";var N=No(),t=N.FORMAT_LINK,v=N.DATE_FORMAT_LINK;function u(m){var g=m.description?" "+m.description:"",f=m.keys||[];if(f.length>0){for(var w=[],c=0;c<f.length;c++)w[c]="`"+f[c]+"`";g=g+"Finally, the template string has access to ",f.length===1?g=g+"variable "+w[0]:g=g+"variables "+w.slice(0,-1).join(", ")+" and "+w.slice(-1)+"."}return g}M.hovertemplateAttrs=function(m,g){m=m||{},g=g||{};var f=u(g),w={valType:"string",dflt:"",editType:m.editType||"none"};return m.arrayOk!==!1&&(w.arrayOk=!0),w},M.texttemplateAttrs=function(m,g){m=m||{},g=g||{};var f=u(g),w={valType:"string",dflt:"",editType:m.editType||"calc"};return m.arrayOk!==!1&&(w.arrayOk=!0),w},M.shapeTexttemplateAttrs=function(m,g){m=m||{},g=g||{};var f=m.newshape?"new ":"",w=u(g),c={valType:"string",dflt:"",editType:m.editType||"arraydraw"};return c}}}),Fi=Ke({"src/components/shapes/label_texttemplate.js"(M,N){"use strict";function t(o,T){return T?T.d2l(o):o}function v(o,T){return T?T.l2d(o):o}function u(o){return o.x0}function m(o){return o.x1}function g(o){return o.y0}function f(o){return o.y1}function w(o){return o.x0shift||0}function c(o){return o.x1shift||0}function r(o){return o.y0shift||0}function A(o){return o.y1shift||0}function p(o,T){return t(o.x1,T)+c(o)-t(o.x0,T)-w(o)}function E(o,T,C){return t(o.y1,C)+A(o)-t(o.y0,C)-r(o)}function S(o,T){return Math.abs(p(o,T))}function F(o,T,C){return Math.abs(E(o,T,C))}function x(o,T,C){return o.type!=="line"?void 0:Math.sqrt(Math.pow(p(o,T),2)+Math.pow(E(o,T,C),2))}function b(o,T){return v((t(o.x1,T)+c(o)+t(o.x0,T)+w(o))/2,T)}function h(o,T,C){return v((t(o.y1,C)+A(o)+t(o.y0,C)+r(o))/2,C)}function a(o,T,C){return o.type!=="line"?void 0:E(o,T,C)/p(o,T)}N.exports={x0:u,x1:m,y0:g,y1:f,slope:a,dx:p,dy:E,width:S,height:F,length:x,xcenter:b,ycenter:h}}}),Eu=Ke({"src/components/shapes/draw_newshape/attributes.js"(M,N){"use strict";var t=ma().overrideAll,v=Fn(),u=Sn(),m=_a().dash,g=wn().extendFlat,f=ba().shapeTexttemplateAttrs,w=Fi();N.exports=t({newshape:{visible:g({},v.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:g({},v.legend,{}),legendgroup:g({},v.legendgroup,{}),legendgrouptitle:{text:g({},v.legendgrouptitle.text,{}),font:u({})},legendrank:g({},v.legendrank,{}),legendwidth:g({},v.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:g({},m,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:g({},v.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(w)}),font:u({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}}),Cu=Ke({"src/plots/pad_attributes.js"(M,N){"use strict";N.exports=function(t){var v=t.editType;return{t:{valType:"number",dflt:0,editType:v},r:{valType:"number",dflt:0,editType:v},b:{valType:"number",dflt:0,editType:v},l:{valType:"number",dflt:0,editType:v},editType:v}}}}),xa=Ke({"src/plots/layout_attributes.js"(M,N){"use strict";var t=Sn(),v=Ni(),u=sa(),m=Eu(),g=Cu(),f=wn().extendFlat,w=t({editType:"calc"});w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=u.defaultLine,N.exports={font:w,title:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:f(g({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:u.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:u.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:u.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:m.newshape,activeshape:m.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:f({},v.transition,{editType:"none"})}}}),Er=Ke({"src/registry.js"(M){"use strict";var N=ga(),t=Di(),v=Do(),u=Wn(),m=Ha().addStyleRule,g=wn(),f=Fn(),w=xa(),c=g.extendFlat,r=g.extendDeepAll;M.modules={},M.allCategories={},M.allTypes=[],M.subplotsRegistry={},M.componentsRegistry={},M.layoutArrayContainers=[],M.layoutArrayRegexes=[],M.traceLayoutAttributes={},M.localeRegistry={},M.apiMethodRegistry={},M.collectableSubplotTypes=null,M.register=function(T){if(M.collectableSubplotTypes=null,T)T&&!Array.isArray(T)&&(T=[T]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<T.length;C++){var z=T[C];if(!z)throw new Error("Invalid module was attempted to be registered!");switch(z.moduleType){case"trace":A(z);break;case"transform":S(z);break;case"component":E(z);break;case"locale":F(z);break;case"apiMethod":var Y=z.name;M.apiMethodRegistry[Y]=z.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},M.getModule=function(o){var T=M.modules[a(o)];return T?T._module:!1},M.traceIs=function(o,T){if(o=a(o),o==="various")return!1;var C=M.modules[o];return C||(o&&N.log("Unrecognized trace type "+o+"."),C=M.modules[f.type.dflt]),!!C.categories[T]},M.getComponentMethod=function(o,T){var C=M.componentsRegistry[o];return C&&C[T]||t},M.call=function(){var o=arguments[0],T=[].slice.call(arguments,1);return M.apiMethodRegistry[o].apply(null,T)};function A(o){var T=o.name,C=o.categories,z=o.meta;if(M.modules[T]){N.log("Type "+T+" already registered");return}M.subplotsRegistry[o.basePlotModule.name]||p(o.basePlotModule);for(var Y={},L=0;L<C.length;L++)Y[C[L]]=!0,M.allCategories[C[L]]=!0;M.modules[T]={_module:o,categories:Y},z&&Object.keys(z).length&&(M.modules[T].meta=z),M.allTypes.push(T);for(var O in M.componentsRegistry)b(O,T);o.layoutAttributes&&c(M.traceLayoutAttributes,o.layoutAttributes);var D=o.basePlotModule,d=D.name;if(d==="mapbox"){var U=D.constants.styleRules;for(var B in U)m(".js-plotly-plot .plotly .mapboxgl-"+B,U[B])}d==="map"&&init_maplibre_gl2(),(d==="geo"||d==="mapbox"||d==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function p(o){var T=o.name;if(M.subplotsRegistry[T]){N.log("Plot type "+T+" already registered.");return}x(o),M.subplotsRegistry[T]=o;for(var C in M.componentsRegistry)h(C,o.name)}function E(o){if(typeof o.name!="string")throw new Error("Component module *name* must be a string.");var T=o.name;M.componentsRegistry[T]=o,o.layoutAttributes&&(o.layoutAttributes._isLinkedToArray&&v(M.layoutArrayContainers,T),x(o));for(var C in M.modules)b(T,C);for(var z in M.subplotsRegistry)h(T,z);o.schema&&o.schema.layout&&r(w,o.schema.layout)}function S(o){if(typeof o.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+o.name,C=typeof o.transform=="function",z=typeof o.calcTransform=="function";if(!C&&!z)throw new Error(T+" is missing a *transform* or *calcTransform* method.");C&&z&&N.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),u(o.attributes)||N.log(T+" registered without an *attributes* object."),typeof o.supplyDefaults!="function"&&N.log(T+" registered without a *supplyDefaults* method.")}function F(o){var T=o.name,C=T.split("-")[0],z=o.dictionary,Y=o.format,L=z&&Object.keys(z).length,O=Y&&Object.keys(Y).length,D=M.localeRegistry,d=D[T];if(d||(D[T]=d={}),C!==T){var U=D[C];U||(D[C]=U={}),L&&U.dictionary===d.dictionary&&(U.dictionary=z),O&&U.format===d.format&&(U.format=Y)}L&&(d.dictionary=z),O&&(d.format=Y)}function x(o){if(o.layoutAttributes){var T=o.layoutAttributes._arrayAttrRegexps;if(T)for(var C=0;C<T.length;C++)v(M.layoutArrayRegexes,T[C])}}function b(o,T){var C=M.componentsRegistry[o].schema;if(!(!C||!C.traces)){var z=C.traces[T];z&&r(M.modules[T]._module.attributes,z)}}function h(o,T){var C=M.componentsRegistry[o].schema;if(!(!C||!C.subplots)){var z=M.subplotsRegistry[T],Y=z.layoutAttributes,L=z.attr==="subplot"?z.name:z.attr;Array.isArray(L)&&(L=L[0]);var O=C.subplots[L];Y&&O&&r(Y,O)}}function a(o){return typeof o=="object"&&(o=o.type),o}}}),zi=Ke({"src/lib/identity.js"(M,N){"use strict";N.exports=function(v){return v}}}),Fo=Ke({"src/lib/search.js"(M){"use strict";var N=Zr(),t=ga(),v=zi(),u=hn().BADNUM,m=1e-9;M.findBin=function(r,A,p){if(N(A.start))return p?Math.ceil((r-A.start)/A.size-m)-1:Math.floor((r-A.start)/A.size+m);var E=0,S=A.length,F=0,x=S>1?(A[S-1]-A[0])/(S-1):1,b,h;for(x>=0?h=p?g:f:h=p?c:w,r+=x*m*(p?-1:1)*(x>=0?1:-1);E<S&&F++<100;)b=Math.floor((E+S)/2),h(A[b],r)?E=b+1:S=b;return F>90&&t.log("Long binary search..."),E-1};function g(r,A){return r<A}function f(r,A){return r<=A}function w(r,A){return r>A}function c(r,A){return r>=A}M.sorterAsc=function(r,A){return r-A},M.sorterDes=function(r,A){return A-r},M.distinctVals=function(r){var A=r.slice();A.sort(M.sorterAsc);var p;for(p=A.length-1;p>-1&&A[p]===u;p--);for(var E=A[p]-A[0]||1,S=E/(p||1)/1e4,F=[],x,b=0;b<=p;b++){var h=A[b],a=h-x;x===void 0?(F.push(h),x=h):a>S&&(E=Math.min(E,a),F.push(h),x=h)}return{vals:F,minDiff:E}},M.roundUp=function(r,A,p){for(var E=0,S=A.length-1,F,x=0,b=p?0:1,h=p?1:0,a=p?Math.ceil:Math.floor;E<S&&x++<100;)F=a((E+S)/2),A[F]<=r?E=F+b:S=F-h;return A[E]},M.sort=function(r,A){for(var p=0,E=0,S=1;S<r.length;S++){var F=A(r[S],r[S-1]);if(F<0?p=1:F>0&&(E=1),p&&E)return r.sort(A)}return E?r:r.reverse()},M.findIndexOfMin=function(r,A){A=A||v;for(var p=1/0,E,S=0;S<r.length;S++){var F=A(r[S]);F<p&&(p=F,E=S)}return E}}}),Du=Ke({"src/lib/sort_object_keys.js"(M,N){"use strict";N.exports=function(v){return Object.keys(v).sort()}}}),Ru=Ke({"src/lib/anchor_utils.js"(M){"use strict";M.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=1/3},M.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>1/3&&t.x<2/3},M.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=2/3},M.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=2/3},M.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>1/3&&t.y<2/3},M.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=1/3}}}),Nu=Ke({"src/lib/geometry2d.js"(M){"use strict";var N=Pi().mod;M.segmentsIntersect=t;function t(f,w,c,r,A,p,E,S){var F=c-f,x=A-f,b=E-A,h=r-w,a=p-w,o=S-p,T=F*o-b*h;if(T===0)return null;var C=(x*o-b*a)/T,z=(x*h-F*a)/T;return z<0||z>1||C<0||C>1?null:{x:f+F*C,y:w+h*C}}M.segmentDistance=function(w,c,r,A,p,E,S,F){if(t(w,c,r,A,p,E,S,F))return 0;var x=r-w,b=A-c,h=S-p,a=F-E,o=x*x+b*b,T=h*h+a*a,C=Math.min(v(x,b,o,p-w,E-c),v(x,b,o,S-w,F-c),v(h,a,T,w-p,c-E),v(h,a,T,r-p,A-E));return Math.sqrt(C)};function v(f,w,c,r,A){var p=r*f+A*w;if(p<0)return r*r+A*A;if(p>c){var E=r-f,S=A-w;return E*E+S*S}else{var F=r*w-A*f;return F*F/c}}var u,m,g;M.getTextLocation=function(w,c,r,A){if((w!==m||A!==g)&&(u={},m=w,g=A),u[r])return u[r];var p=w.getPointAtLength(N(r-A/2,c)),E=w.getPointAtLength(N(r+A/2,c)),S=Math.atan((E.y-p.y)/(E.x-p.x)),F=w.getPointAtLength(N(r,c)),x=(F.x*4+p.x+E.x)/6,b=(F.y*4+p.y+E.y)/6,h={x,y:b,theta:S};return u[r]=h,h},M.clearLocationCache=function(){m=null},M.getVisibleSegment=function(w,c,r){var A=c.left,p=c.right,E=c.top,S=c.bottom,F=0,x=w.getTotalLength(),b=x,h,a;function o(C){var z=w.getPointAtLength(C);C===0?h=z:C===x&&(a=z);var Y=z.x<A?A-z.x:z.x>p?z.x-p:0,L=z.y<E?E-z.y:z.y>S?z.y-S:0;return Math.sqrt(Y*Y+L*L)}for(var T=o(F);T;){if(F+=T+r,F>b)return;T=o(F)}for(T=o(b);T;){if(b-=T+r,F>b)return;T=o(b)}return{min:F,max:b,len:b-F,total:x,isClosed:F===0&&b===x&&Math.abs(h.x-a.x)<.1&&Math.abs(h.y-a.y)<.1}},M.findPointOnPath=function(w,c,r,A){A=A||{};for(var p=A.pathLength||w.getTotalLength(),E=A.tolerance||.001,S=A.iterationLimit||30,F=w.getPointAtLength(0)[r]>w.getPointAtLength(p)[r]?-1:1,x=0,b=0,h=p,a,o,T;x<S;){if(a=(b+h)/2,o=w.getPointAtLength(a),T=o[r]-c,Math.abs(T)<E)return o;F*T>0?h=a:b=a,x++}return o}}}),zo=Ke({"src/lib/throttle.js"(M){"use strict";var N={};M.throttle=function(u,m,g){var f=N[u],w=Date.now();if(!f){for(var c in N)N[c].ts<w-6e4&&delete N[c];f=N[u]={ts:0,timer:null}}t(f);function r(){g(),f.ts=Date.now(),f.onDone&&(f.onDone(),f.onDone=null)}if(w>f.ts+m){r();return}f.timer=setTimeout(function(){r(),f.timer=null},m)},M.done=function(v){var u=N[v];return!u||!u.timer?Promise.resolve():new Promise(function(m){var g=u.onDone;u.onDone=function(){g&&g(),m(),u.onDone=null}})},M.clear=function(v){if(v)t(N[v]),delete N[v];else for(var u in N)M.clear(u)};function t(v){v&&v.timer!==null&&(clearTimeout(v.timer),v.timer=null)}}}),Fu=Ke({"src/lib/clear_responsive.js"(M,N){"use strict";N.exports=function(v){v._responsiveChartHandler&&(window.removeEventListener("resize",v._responsiveChartHandler),delete v._responsiveChartHandler)}}}),zu=Ke({"node_modules/is-mobile/index.js"(M,N){"use strict";N.exports=m,N.exports.isMobile=m,N.exports.default=m;var t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,v=/CrOS/,u=/android|ipad|playbook|silk/i;function m(g){g||(g={});let f=g.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;let w=t.test(f)&&!v.test(f)||!!g.tablet&&u.test(f);return!w&&g.tablet&&g.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(w=!0),w}}}),Iu=Ke({"src/lib/preserve_drawing_buffer.js"(M,N){"use strict";var t=Zr(),v=zu();N.exports=function(g){var f;if(g&&g.hasOwnProperty("userAgent")?f=g.userAgent:f=u(),typeof f!="string")return!0;var w=v({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!w)for(var c=f.split(" "),r=1;r<c.length;r++){var A=c[r];if(A.indexOf("Safari")!==-1)for(var p=r-1;p>-1;p--){var E=c[p];if(E.substr(0,8)==="Version/"){var S=E.substr(8).split(".")[0];if(t(S)&&(S=+S),S>=13)return!0}}}return w};function u(){var m;return typeof navigator<"u"&&(m=navigator.userAgent),m&&m.headers&&typeof m.headers["user-agent"]=="string"&&(m=m.headers["user-agent"]),m}}}),Ou=Ke({"src/lib/make_trace_groups.js"(M,N){"use strict";var t=Yr();N.exports=function(u,m,g){var f=u.selectAll("g."+g.replace(/\s/g,".")).data(m,function(c){return c[0].trace.uid});f.exit().remove(),f.enter().append("g").attr("class",g),f.order();var w=u.classed("rangeplot")?"nodeRangePlot3":"node3";return f.each(function(c){c[0][w]=t.select(this)}),f}}}),Hu=Ke({"src/lib/localize.js"(M,N){"use strict";var t=Er();N.exports=function(u,m){for(var g=u._context.locale,f=0;f<2;f++){for(var w=u._context.locales,c=0;c<2;c++){var r=(w[g]||{}).dictionary;if(r){var A=r[m];if(A)return A}w=t.localeRegistry}var p=g.split("-")[0];if(p===g)break;g=p}return m}}}),qu=Ke({"src/lib/filter_unique.js"(M,N){"use strict";N.exports=function(v){for(var u={},m=[],g=0,f=0;f<v.length;f++){var w=v[f];u[w]!==1&&(u[w]=1,m[g++]=w)}return m}}}),Bu=Ke({"src/lib/filter_visible.js"(M,N){"use strict";N.exports=function(g){for(var f=u(g)?v:t,w=[],c=0;c<g.length;c++){var r=g[c];f(r)&&w.push(r)}return w};function t(m){return m.visible===!0}function v(m){var g=m[0].trace;return g.visible===!0&&g._length!==0}function u(m){return Array.isArray(m)&&Array.isArray(m[0])&&m[0][0]&&m[0][0].trace}}}),Gu=Ke({"src/lib/increment.js"(M,N){"use strict";N.exports=function(v,u){if(!u)return v;var m=1/Math.abs(u),g=m>1?(m*v+m*u)/m:v+u,f=String(g).length;if(f>16){var w=String(u).length,c=String(v).length;if(f>=c+w){var r=parseFloat(g).toPrecision(12);r.indexOf("e+")===-1&&(g=+r)}}return g}}}),Uu=Ke({"src/lib/clean_number.js"(M,N){"use strict";var t=Zr(),v=hn().BADNUM,u=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;N.exports=function(g){return typeof g=="string"&&(g=g.replace(u,"")),t(g)?Number(g):v}}}),Zt=Ke({"src/lib/index.js"(M,N){"use strict";var t=Yr(),v=function(_){return _},u=Eo().format,m=Zr(),g=hn(),f=g.FP_SAFE,w=-f,c=g.BADNUM,r=N.exports={};r.adjustFormat=function(i){return!i||/^\d[.]\df/.test(i)||/[.]\d%/.test(i)?i:i==="0.f"?"~f":/^\d%/.test(i)?"~%":/^\ds/.test(i)?"~s":!/^[~,.0$]/.test(i)&&/[&fps]/.test(i)?"~"+i:i};var A={};r.warnBadFormat=function(_){var i=String(_);A[i]||(A[i]=1,r.warn('encountered bad format: "'+i+'"'))},r.noFormat=function(_){return String(_)},r.numberFormat=function(_){var i;try{i=u(r.adjustFormat(_))}catch{return r.warnBadFormat(_),r.noFormat}return i},r.nestedProperty=Si(),r.keyedContainer=Au(),r.relativeAttr=Tu(),r.isPlainObject=Wn(),r.toLogRange=Mu(),r.relinkPrivateKeys=ku();var p=qn();r.isArrayBuffer=p.isArrayBuffer,r.isTypedArray=p.isTypedArray,r.isArrayOrTypedArray=p.isArrayOrTypedArray,r.isArray1D=p.isArray1D,r.ensureArray=p.ensureArray,r.concat=p.concat,r.maxRowLength=p.maxRowLength,r.minRowLength=p.minRowLength;var E=Pi();r.mod=E.mod,r.modHalf=E.modHalf;var S=Lu();r.valObjectMeta=S.valObjectMeta,r.coerce=S.coerce,r.coerce2=S.coerce2,r.coerceFont=S.coerceFont,r.coercePattern=S.coercePattern,r.coerceHoverinfo=S.coerceHoverinfo,r.coerceSelectionMarkerOpacity=S.coerceSelectionMarkerOpacity,r.validate=S.validate;var F=Fo();r.findBin=F.findBin,r.sorterAsc=F.sorterAsc,r.sorterDes=F.sorterDes,r.distinctVals=F.distinctVals,r.roundUp=F.roundUp,r.sort=F.sort,r.findIndexOfMin=F.findIndexOfMin,r.sortObjectKeys=Du();var x=Ri();r.init2dArray=x.init2dArray,r.transposeRagged=x.transposeRagged,r.dot=x.dot,r.translationMatrix=x.translationMatrix,r.rotationMatrix=x.rotationMatrix,r.rotationXYMatrix=x.rotationXYMatrix,r.apply3DTransform=x.apply3DTransform,r.apply2DTransform=x.apply2DTransform,r.apply2DTransform2=x.apply2DTransform2,r.convertCssMatrix=x.convertCssMatrix,r.inverseTransformMatrix=x.inverseTransformMatrix;var b=Ru();r.isLeftAnchor=b.isLeftAnchor,r.isCenterAnchor=b.isCenterAnchor,r.isRightAnchor=b.isRightAnchor,r.isTopAnchor=b.isTopAnchor,r.isMiddleAnchor=b.isMiddleAnchor,r.isBottomAnchor=b.isBottomAnchor;var h=Nu();r.segmentsIntersect=h.segmentsIntersect,r.segmentDistance=h.segmentDistance,r.getTextLocation=h.getTextLocation,r.clearLocationCache=h.clearLocationCache,r.getVisibleSegment=h.getVisibleSegment,r.findPointOnPath=h.findPointOnPath;var a=wn();r.extendFlat=a.extendFlat,r.extendDeep=a.extendDeep,r.extendDeepAll=a.extendDeepAll,r.extendDeepNoArrays=a.extendDeepNoArrays;var o=ga();r.log=o.log,r.warn=o.warn,r.error=o.error;var T=Ci();r.counterRegex=T.counter;var C=zo();r.throttle=C.throttle,r.throttleDone=C.done,r.clearThrottle=C.clear;var z=Ha();r.getGraphDiv=z.getGraphDiv,r.isPlotDiv=z.isPlotDiv,r.removeElement=z.removeElement,r.addStyleRule=z.addStyleRule,r.addRelatedStyleRule=z.addRelatedStyleRule,r.deleteRelatedStyleRule=z.deleteRelatedStyleRule,r.setStyleOnHover=z.setStyleOnHover,r.getFullTransformMatrix=z.getFullTransformMatrix,r.getElementTransformMatrix=z.getElementTransformMatrix,r.getElementAndAncestors=z.getElementAndAncestors,r.equalDomRects=z.equalDomRects,r.clearResponsive=Fu(),r.preserveDrawingBuffer=Iu(),r.makeTraceGroups=Ou(),r._=Hu(),r.filterUnique=qu(),r.filterVisible=Bu(),r.pushUnique=Do(),r.increment=Gu(),r.cleanNumber=Uu(),r.ensureNumber=function(i){return m(i)?(i=Number(i),i>f||i<w?c:i):c},r.isIndex=function(_,i){return i!==void 0&&_>=i?!1:m(_)&&_>=0&&_%1===0},r.noop=Di(),r.identity=zi(),r.repeat=function(_,i){for(var l=new Array(i),k=0;k<i;k++)l[k]=_;return l},r.swapAttrs=function(_,i,l,k){l||(l="x"),k||(k="y");for(var y=0;y<i.length;y++){var n=i[y],q=r.nestedProperty(_,n.replace("?",l)),J=r.nestedProperty(_,n.replace("?",k)),se=q.get();q.set(J.get()),J.set(se)}},r.raiseToTop=function(i){i.parentNode.appendChild(i)},r.cancelTransition=function(_){return _.transition().duration(0)},r.constrain=function(_,i,l){return i>l?Math.max(l,Math.min(i,_)):Math.max(i,Math.min(l,_))},r.bBoxIntersect=function(_,i,l){return l=l||0,_.left<=i.right+l&&i.left<=_.right+l&&_.top<=i.bottom+l&&i.top<=_.bottom+l},r.simpleMap=function(_,i,l,k,y){for(var n=_.length,q=new Array(n),J=0;J<n;J++)q[J]=i(_[J],l,k,y);return q},r.randstr=function _(i,l,k,y){if(k||(k=16),l===void 0&&(l=24),l<=0)return"0";var n=Math.log(Math.pow(2,l))/Math.log(k),q="",J,se,ye;for(J=2;n===1/0;J*=2)n=Math.log(Math.pow(2,l/J))/Math.log(k)*J;var we=n-Math.floor(n);for(J=0;J<Math.floor(n);J++)ye=Math.floor(Math.random()*k).toString(k),q=ye+q;we&&(se=Math.pow(k,we),ye=Math.floor(Math.random()*se).toString(k),q=ye+q);var ke=parseInt(q,k);return i&&i[q]||ke!==1/0&&ke>=Math.pow(2,l)?y>10?(r.warn("randstr failed uniqueness"),q):_(i,l,k,(y||0)+1):q},r.OptionControl=function(_,i){_||(_={}),i||(i="opt");var l={};return l.optionList=[],l._newoption=function(k){k[i]=_,l[k.name]=k,l.optionList.push(k)},l["_"+i]=_,l},r.smooth=function(_,i){if(i=Math.round(i)||0,i<2)return _;var l=_.length,k=2*l,y=2*i-1,n=new Array(y),q=new Array(l),J,se,ye,we;for(J=0;J<y;J++)n[J]=(1-Math.cos(Math.PI*(J+1)/i))/(2*i);for(J=0;J<l;J++){for(we=0,se=0;se<y;se++)ye=J+se+1-i,ye<-l?ye-=k*Math.round(ye/k):ye>=k&&(ye-=k*Math.floor(ye/k)),ye<0?ye=-1-ye:ye>=l&&(ye=k-1-ye),we+=_[ye]*n[se];q[J]=we}return q},r.syncOrAsync=function(_,i,l){var k,y;function n(){return r.syncOrAsync(_,i,l)}for(;_.length;)if(y=_.splice(0,1)[0],k=y(i),k&&k.then)return k.then(n);return l&&l(i)},r.stripTrailingSlash=function(_){return _.substr(-1)==="/"?_.substr(0,_.length-1):_},r.noneOrAll=function(_,i,l){if(_){var k=!1,y=!0,n,q;for(n=0;n<l.length;n++)q=_[l[n]],q!=null?k=!0:y=!1;if(k&&!y)for(n=0;n<l.length;n++)_[l[n]]=i[l[n]]}},r.mergeArray=function(_,i,l,k){var y=typeof k=="function";if(r.isArrayOrTypedArray(_))for(var n=Math.min(_.length,i.length),q=0;q<n;q++){var J=_[q];i[q][l]=y?k(J):J}},r.mergeArrayCastPositive=function(_,i,l){return r.mergeArray(_,i,l,function(k){var y=+k;return isFinite(y)&&y>0?y:0})},r.fillArray=function(_,i,l,k){if(k=k||r.identity,r.isArrayOrTypedArray(_))for(var y=0;y<i.length;y++)i[y][l]=k(_[y])},r.castOption=function(_,i,l,k){k=k||r.identity;var y=r.nestedProperty(_,l).get();return r.isArrayOrTypedArray(y)?Array.isArray(i)&&r.isArrayOrTypedArray(y[i[0]])?k(y[i[0]][i[1]]):k(y[i]):y},r.extractOption=function(_,i,l,k){if(l in _)return _[l];var y=r.nestedProperty(i,k).get();if(!Array.isArray(y))return y};function Y(_){var i={};for(var l in _)for(var k=_[l],y=0;y<k.length;y++)i[k[y]]=+l;return i}r.tagSelected=function(_,i,l){var k=i.selectedpoints,y=i._indexToPoints,n;y&&(n=Y(y));function q(ke){return ke!==void 0&&ke<_.length}for(var J=0;J<k.length;J++){var se=k[J];if(r.isIndex(se)||r.isArrayOrTypedArray(se)&&r.isIndex(se[0])&&r.isIndex(se[1])){var ye=n?n[se]:se,we=l?l[ye]:ye;q(we)&&(_[we].selected=1)}}},r.selIndices2selPoints=function(_){var i=_.selectedpoints,l=_._indexToPoints;if(l){for(var k=Y(l),y=[],n=0;n<i.length;n++){var q=i[n];if(r.isIndex(q)){var J=k[q];r.isIndex(J)&&y.push(J)}}return y}else return i},r.getTargetArray=function(_,i){var l=i.target;if(typeof l=="string"&&l){var k=r.nestedProperty(_,l).get();return r.isArrayOrTypedArray(k)?k:!1}else if(r.isArrayOrTypedArray(l))return l;return!1};function L(_,i,l){var k={};typeof i!="object"&&(i={});var y=l==="pieLike"?-1:3,n=Object.keys(_),q,J,se;for(q=0;q<n.length;q++)J=n[q],se=_[J],!(J.charAt(0)==="_"||typeof se=="function")&&(J==="module"?k[J]=se:Array.isArray(se)?J==="colorscale"||y===-1?k[J]=se.slice():k[J]=se.slice(0,y):r.isTypedArray(se)?y===-1?k[J]=se.subarray():k[J]=se.subarray(0,y):se&&typeof se=="object"?k[J]=L(_[J],i[J],l):k[J]=se);for(n=Object.keys(i),q=0;q<n.length;q++)J=n[q],se=i[J],(typeof se!="object"||!(J in k)||typeof k[J]!="object")&&(k[J]=se);return k}r.minExtend=L,r.titleCase=function(_){return _.charAt(0).toUpperCase()+_.substr(1)},r.containsAny=function(_,i){for(var l=0;l<i.length;l++)if(_.indexOf(i[l])!==-1)return!0;return!1};var O=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return O.test(window.navigator.userAgent)};var D=/iPad|iPhone|iPod/;r.isIOS=function(){return D.test(window.navigator.userAgent)};var d=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var _=d.exec(window.navigator.userAgent);if(_&&_.length===2){var i=parseInt(_[1]);if(!isNaN(i))return i}return null},r.isD3Selection=function(_){return _ instanceof t.selection},r.ensureSingle=function(_,i,l,k){var y=_.select(i+(l?"."+l:""));if(y.size())return y;var n=_.append(i);return l&&n.classed(l,!0),k&&n.call(k),n},r.ensureSingleById=function(_,i,l,k){var y=_.select(i+"#"+l);if(y.size())return y;var n=_.append(i).attr("id",l);return k&&n.call(k),n},r.objectFromPath=function(_,i){for(var l=_.split("."),k,y=k={},n=0;n<l.length;n++){var q=l[n],J=null,se=l[n].match(/(.*)\[([0-9]+)\]/);se?(q=se[1],J=se[2],k=k[q]=[],n===l.length-1?k[J]=i:k[J]={},k=k[J]):(n===l.length-1?k[q]=i:k[q]={},k=k[q])}return y};var U=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function X(_){return _.slice(0,2)==="__"}r.expandObjectPaths=function(_){var i,l,k,y,n,q,J;if(typeof _=="object"&&!Array.isArray(_)){for(l in _)if(_.hasOwnProperty(l))if(i=l.match(U)){if(y=_[l],k=i[1],X(k))continue;delete _[l],_[k]=r.extendDeepNoArrays(_[k]||{},r.objectFromPath(l,r.expandObjectPaths(y))[k])}else if(i=l.match(B)){if(y=_[l],k=i[1],X(k))continue;if(n=parseInt(i[2]),delete _[l],_[k]=_[k]||[],i[3]===".")J=i[4],q=_[k][n]=_[k][n]||{},r.extendDeepNoArrays(q,r.objectFromPath(J,r.expandObjectPaths(y)));else{if(X(k))continue;_[k][n]=r.expandObjectPaths(y)}}else{if(X(l))continue;_[l]=r.expandObjectPaths(_[l])}}return _},r.numSeparate=function(_,i,l){if(l||(l=!1),typeof i!="string"||i.length===0)throw new Error("Separator string required for formatting!");typeof _=="number"&&(_=String(_));var k=/(\d+)(\d{3})/,y=i.charAt(0),n=i.charAt(1),q=_.split("."),J=q[0],se=q.length>1?y+q[1]:"";if(n&&(q.length>1||J.length>4||l))for(;k.test(J);)J=J.replace(k,"$1"+n+"$2");return J+se},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var K=/^\w*$/;r.templateString=function(_,i){var l={};return _.replace(r.TEMPLATE_STRING_REGEX,function(k,y){var n;return K.test(y)?n=i[y]:(l[y]=l[y]||r.nestedProperty(i,y).get,n=l[y](!0)),n!==void 0?n:""})};var H={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return W.apply(H,arguments)};var te={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return W.apply(te,arguments)};var ne=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function ie(_){var i=_.match(ne);return i?{key:i[1],op:i[2],number:Number(i[3])}:{key:_,op:null,number:null}}var re={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return W.apply(re,arguments)};var oe=/^[:|\|]/;function W(_,i,l){var k=this,y=arguments;return i||(i={}),_.replace(r.TEMPLATE_STRING_REGEX,function(n,q,J){var se=q==="xother"||q==="yother",ye=q==="_xother"||q==="_yother",we=q==="_xother_"||q==="_yother_",ke=q==="xother_"||q==="yother_",ue=se||ye||ke||we,Me=q;(ye||we)&&(Me=Me.substring(1)),(ke||we)&&(Me=Me.substring(0,Me.length-1));var Ne=null,Ce=null;if(k.parseMultDiv){var Le=ie(Me);Me=Le.key,Ne=Le.op,Ce=Le.number}var $;if(ue){if($=i[Me],$===void 0)return""}else{var ce,me;for(me=3;me<y.length;me++)if(ce=y[me],!!ce){if(ce.hasOwnProperty(Me)){$=ce[Me];break}if(K.test(Me)||($=r.nestedProperty(ce,Me).get(!0)),$!==void 0)break}}if($!==void 0&&(Ne==="*"&&($*=Ce),Ne==="/"&&($/=Ce)),$===void 0&&k)return k.count<k.max&&(r.warn("Variable '"+Me+"' in "+k.name+" could not be found!"),$=n),k.count===k.max&&r.warn("Too many "+k.name+" warnings - additional warnings will be suppressed"),k.count++,n;if(J){var pe;if(J[0]===":"&&(pe=l?l.numberFormat:r.numberFormat,$!==""&&($=pe(J.replace(oe,""))($))),J[0]==="|"){pe=l?l.timeFormat:v;var xe=r.dateTime2ms($);$=r.formatDate(xe,J.replace(oe,""),!1,pe)}}else{var Oe=Me+"Label";i.hasOwnProperty(Oe)&&($=i[Oe])}return ue&&($="("+$+")",(ye||we)&&($=" "+$),(ke||we)&&($=$+" ")),$})}var ee=48,de=57;r.subplotSort=function(_,i){for(var l=Math.min(_.length,i.length)+1,k=0,y=0,n=0;n<l;n++){var q=_.charCodeAt(n)||0,J=i.charCodeAt(n)||0,se=q>=ee&&q<=de,ye=J>=ee&&J<=de;if(se&&(k=10*k+q-ee),ye&&(y=10*y+J-ee),!se||!ye){if(k!==y)return k-y;if(q!==J)return q-J}}return y-k};var he=2e9;r.seedPseudoRandom=function(){he=2e9},r.pseudoRandom=function(){var _=he;return he=(69069*he+1)%4294967296,Math.abs(he-_)<429496729?r.pseudoRandom():he/4294967296},r.fillText=function(_,i,l){var k=Array.isArray(l)?function(q){l.push(q)}:function(q){l.text=q},y=r.extractOption(_,i,"htx","hovertext");if(r.isValidTextValue(y))return k(y);var n=r.extractOption(_,i,"tx","text");if(r.isValidTextValue(n))return k(n)},r.isValidTextValue=function(_){return _||_===0},r.formatPercent=function(_,i){i=i||0;for(var l=(Math.round(100*_*Math.pow(10,i))*Math.pow(.1,i)).toFixed(i)+"%",k=0;k<i;k++)l.indexOf(".")!==-1&&(l=l.replace("0%","%"),l=l.replace(".%","%"));return l},r.isHidden=function(_){var i=window.getComputedStyle(_).display;return!i||i==="none"},r.strTranslate=function(_,i){return _||i?"translate("+_+","+i+")":""},r.strRotate=function(_){return _?"rotate("+_+")":""},r.strScale=function(_){return _!==1?"scale("+_+")":""},r.getTextTransform=function(_){var i=_.noCenter,l=_.textX,k=_.textY,y=_.targetX,n=_.targetY,q=_.anchorX||0,J=_.anchorY||0,se=_.rotate,ye=_.scale;return ye?ye>1&&(ye=1):ye=0,r.strTranslate(y-ye*(l+q),n-ye*(k+J))+r.strScale(ye)+(se?"rotate("+se+(i?"":" "+l+" "+k)+")":"")},r.setTransormAndDisplay=function(_,i){_.attr("transform",r.getTextTransform(i)),_.style("display",i.scale?null:"none")},r.ensureUniformFontSize=function(_,i){var l=r.extendFlat({},i);return l.size=Math.max(i.size,_._fullLayout.uniformtext.minsize||0),l},r.join2=function(_,i,l){var k=_.length;return k>1?_.slice(0,-1).join(i)+l+_[k-1]:_.join(i)},r.bigFont=function(_){return Math.round(1.2*_)};var I=r.getFirefoxVersion(),R=I!==null&&I<86;r.getPositionFromD3Event=function(){return R?[t.event.layerX,t.event.layerY]:[t.event.offsetX,t.event.offsetY]}}}),ju=Ke({"build/plotcss.js"(){"use strict";var M=Zt(),N={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(v in N)t=v.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),M.addStyleRule(t,N[v]);var t,v}}),Io=Ke({"node_modules/is-browser/client.js"(M,N){N.exports=!0}}),Oo=Ke({"node_modules/has-hover/index.js"(M,N){"use strict";var t=Io(),v;typeof window.matchMedia=="function"?v=!window.matchMedia("(hover: none)").matches:v=t,N.exports=v}}),Ii=Ke({"node_modules/events/events.js"(M,N){"use strict";var t=typeof Reflect=="object"?Reflect:null,v=t&&typeof t.apply=="function"?t.apply:function(z,Y,L){return Function.prototype.apply.call(z,Y,L)},u;t&&typeof t.ownKeys=="function"?u=t.ownKeys:Object.getOwnPropertySymbols?u=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:u=function(z){return Object.getOwnPropertyNames(z)};function m(C){console&&console.warn&&console.warn(C)}var g=Number.isNaN||function(z){return z!==z};function f(){f.init.call(this)}N.exports=f,N.exports.once=a,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var w=10;function c(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(C){if(typeof C!="number"||C<0||g(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");w=C}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||g(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function r(C){return C._maxListeners===void 0?f.defaultMaxListeners:C._maxListeners}f.prototype.getMaxListeners=function(){return r(this)},f.prototype.emit=function(z){for(var Y=[],L=1;L<arguments.length;L++)Y.push(arguments[L]);var O=z==="error",D=this._events;if(D!==void 0)O=O&&D.error===void 0;else if(!O)return!1;if(O){var d;if(Y.length>0&&(d=Y[0]),d instanceof Error)throw d;var U=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw U.context=d,U}var B=D[z];if(B===void 0)return!1;if(typeof B=="function")v(B,this,Y);else for(var X=B.length,K=x(B,X),L=0;L<X;++L)v(K[L],this,Y);return!0};function A(C,z,Y,L){var O,D,d;if(c(Y),D=C._events,D===void 0?(D=C._events=Object.create(null),C._eventsCount=0):(D.newListener!==void 0&&(C.emit("newListener",z,Y.listener?Y.listener:Y),D=C._events),d=D[z]),d===void 0)d=D[z]=Y,++C._eventsCount;else if(typeof d=="function"?d=D[z]=L?[Y,d]:[d,Y]:L?d.unshift(Y):d.push(Y),O=r(C),O>0&&d.length>O&&!d.warned){d.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=C,U.type=z,U.count=d.length,m(U)}return C}f.prototype.addListener=function(z,Y){return A(this,z,Y,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(z,Y){return A(this,z,Y,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(C,z,Y){var L={fired:!1,wrapFn:void 0,target:C,type:z,listener:Y},O=p.bind(L);return O.listener=Y,L.wrapFn=O,O}f.prototype.once=function(z,Y){return c(Y),this.on(z,E(this,z,Y)),this},f.prototype.prependOnceListener=function(z,Y){return c(Y),this.prependListener(z,E(this,z,Y)),this},f.prototype.removeListener=function(z,Y){var L,O,D,d,U;if(c(Y),O=this._events,O===void 0)return this;if(L=O[z],L===void 0)return this;if(L===Y||L.listener===Y)--this._eventsCount===0?this._events=Object.create(null):(delete O[z],O.removeListener&&this.emit("removeListener",z,L.listener||Y));else if(typeof L!="function"){for(D=-1,d=L.length-1;d>=0;d--)if(L[d]===Y||L[d].listener===Y){U=L[d].listener,D=d;break}if(D<0)return this;D===0?L.shift():b(L,D),L.length===1&&(O[z]=L[0]),O.removeListener!==void 0&&this.emit("removeListener",z,U||Y)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(z){var Y,L,O;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[z]),this;if(arguments.length===0){var D=Object.keys(L),d;for(O=0;O<D.length;++O)d=D[O],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Y=L[z],typeof Y=="function")this.removeListener(z,Y);else if(Y!==void 0)for(O=Y.length-1;O>=0;O--)this.removeListener(z,Y[O]);return this};function S(C,z,Y){var L=C._events;if(L===void 0)return[];var O=L[z];return O===void 0?[]:typeof O=="function"?Y?[O.listener||O]:[O]:Y?h(O):x(O,O.length)}f.prototype.listeners=function(z){return S(this,z,!0)},f.prototype.rawListeners=function(z){return S(this,z,!1)},f.listenerCount=function(C,z){return typeof C.listenerCount=="function"?C.listenerCount(z):F.call(C,z)},f.prototype.listenerCount=F;function F(C){var z=this._events;if(z!==void 0){var Y=z[C];if(typeof Y=="function")return 1;if(Y!==void 0)return Y.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function x(C,z){for(var Y=new Array(z),L=0;L<z;++L)Y[L]=C[L];return Y}function b(C,z){for(;z+1<C.length;z++)C[z]=C[z+1];C.pop()}function h(C){for(var z=new Array(C.length),Y=0;Y<z.length;++Y)z[Y]=C[Y].listener||C[Y];return z}function a(C,z){return new Promise(function(Y,L){function O(d){C.removeListener(z,D),L(d)}function D(){typeof C.removeListener=="function"&&C.removeListener("error",O),Y([].slice.call(arguments))}T(C,z,D,{once:!0}),z!=="error"&&o(C,O,{once:!0})})}function o(C,z,Y){typeof C.on=="function"&&T(C,"error",z,Y)}function T(C,z,Y,L){if(typeof C.on=="function")L.once?C.once(z,Y):C.on(z,Y);else if(typeof C.addEventListener=="function")C.addEventListener(z,function O(D){L.once&&C.removeEventListener(z,O),Y(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}}}),qa=Ke({"src/lib/events.js"(M,N){"use strict";var t=Ii().EventEmitter,v={init:function(u){if(u._ev instanceof t)return u;var m=new t,g=new t;return u._ev=m,u._internalEv=g,u.on=m.on.bind(m),u.once=m.once.bind(m),u.removeListener=m.removeListener.bind(m),u.removeAllListeners=m.removeAllListeners.bind(m),u._internalOn=g.on.bind(g),u._internalOnce=g.once.bind(g),u._removeInternalListener=g.removeListener.bind(g),u._removeAllInternalListeners=g.removeAllListeners.bind(g),u.emit=function(f,w){m.emit(f,w),g.emit(f,w)},u},triggerHandler:function(u,m,g){var f,w=u._ev;if(!w)return;var c=w._events[m];if(!c)return;function r(p){if(p.listener){if(w.removeListener(m,p.listener),!p.fired)return p.fired=!0,p.listener.apply(w,[g])}else return p.apply(w,[g])}c=Array.isArray(c)?c:[c];var A;for(A=0;A<c.length-1;A++)r(c[A]);return f=r(c[A]),f},purge:function(u){return delete u._ev,delete u.on,delete u.once,delete u.removeListener,delete u.removeAllListeners,delete u.emit,delete u._ev,delete u._internalEv,delete u._internalOn,delete u._internalOnce,delete u._removeInternalListener,delete u._removeAllInternalListeners,u}};N.exports=v}}),Xu=Ke({"src/lib/queue.js"(M,N){"use strict";var t=Zt(),v=ua().dfltConfig;function u(g,f){for(var w=[],c,r=0;r<f.length;r++)c=f[r],c===g?w[r]=c:typeof c=="object"?w[r]=Array.isArray(c)?t.extendDeep([],c):t.extendDeepAll({},c):w[r]=c;return w}var m={};m.add=function(g,f,w,c,r){var A,p;if(g.undoQueue=g.undoQueue||{index:0,queue:[],sequence:!1},p=g.undoQueue.index,g.autoplay){g.undoQueue.inSequence||(g.autoplay=!1);return}!g.undoQueue.sequence||g.undoQueue.beginSequence?(A={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},g.undoQueue.queue.splice(p,g.undoQueue.queue.length-p,A),g.undoQueue.index+=1):A=g.undoQueue.queue[p-1],g.undoQueue.beginSequence=!1,A&&(A.undo.calls.unshift(f),A.undo.args.unshift(w),A.redo.calls.push(c),A.redo.args.push(r)),g.undoQueue.queue.length>v.queueLength&&(g.undoQueue.queue.shift(),g.undoQueue.index--)},m.startSequence=function(g){g.undoQueue=g.undoQueue||{index:0,queue:[],sequence:!1},g.undoQueue.sequence=!0,g.undoQueue.beginSequence=!0},m.stopSequence=function(g){g.undoQueue=g.undoQueue||{index:0,queue:[],sequence:!1},g.undoQueue.sequence=!1,g.undoQueue.beginSequence=!1},m.undo=function(f){var w,c;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,w=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,c=0;c<w.undo.calls.length;c++)m.plotDo(f,w.undo.calls[c],w.undo.args[c]);f.undoQueue.inSequence=!1,f.autoplay=!1}},m.redo=function(f){var w,c;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(w=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,c=0;c<w.redo.calls.length;c++)m.plotDo(f,w.redo.calls[c],w.redo.args[c]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},m.plotDo=function(g,f,w){g.autoplay=!0,w=u(g,w),f.apply(null,w)},N.exports=m}}),Ho=Ke({"src/plots/frame_attributes.js"(M,N){"use strict";N.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}}),wa=Ke({"src/plot_api/plot_schema.js"(M){"use strict";var N=Er(),t=Zt(),v=Fn(),u=xa(),m=Ho(),g=Ni(),f=ua().configAttributes,w=ma(),c=t.extendDeepAll,r=t.isPlainObject,A=t.isArrayOrTypedArray,p=t.nestedProperty,E=t.valObjectMeta,S="_isSubplotObj",F="_isLinkedToArray",x="_arrayAttrRegexps",b="_deprecated",h=[S,F,x,b];M.IS_SUBPLOT_OBJ=S,M.IS_LINKED_TO_ARRAY=F,M.DEPRECATED=b,M.UNDERSCORE_ATTRS=h,M.get=function(){var X={};return N.allTypes.forEach(function(K){X[K]=C(K)}),{defs:{valObjects:E,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:w.traces,layout:w.layout},impliedEdits:{}},traces:X,layout:z(),frames:Y(),animation:L(g),config:L(f)}},M.crawl=function(X,K,H,te){var ne=H||0;te=te||"",Object.keys(X).forEach(function(ie){var re=X[ie];if(h.indexOf(ie)===-1){var oe=(te?te+".":"")+ie;K(re,ie,X,ne,oe),!M.isValObject(re)&&r(re)&&ie!=="impliedEdits"&&M.crawl(re,K,ne+1,oe)}})},M.isValObject=function(X){return X&&X.valType!==void 0},M.findArrayAttributes=function(X){var K=[],H=[],te=[],ne,ie;function re(W,ee,de,he){H=H.slice(0,he).concat([ee]),te=te.slice(0,he).concat([W&&W._isLinkedToArray]);var I=W&&(W.valType==="data_array"||W.arrayOk===!0)&&!(H[he-1]==="colorbar"&&(ee==="ticktext"||ee==="tickvals"));I&&oe(ne,0,"")}function oe(W,ee,de){var he=W[H[ee]],I=de+H[ee];if(ee===H.length-1)A(he)&&K.push(ie+I);else if(te[ee]){if(Array.isArray(he))for(var R=0;R<he.length;R++)r(he[R])&&oe(he[R],ee+1,I+"["+R+"].")}else r(he)&&oe(he,ee+1,I+".")}return ne=X,ie="",M.crawl(v,re),X._module&&X._module.attributes&&M.crawl(X._module.attributes,re),K},M.getTraceValObject=function(X,K){var H=K[0],te=1,ne,ie,re=X._module;if(re||(re=(N.modules[X.type||v.type.dflt]||{})._module),!re)return!1;if(ne=re.attributes,ie=ne&&ne[H],!ie){var oe=re.basePlotModule;oe&&oe.attributes&&(ie=oe.attributes[H])}return ie||(ie=v[H]),o(ie,K,te)},M.getLayoutValObject=function(X,K){var H=a(X,K[0]);return o(H,K,1)};function a(X,K){var H,te,ne,ie,re=X._basePlotModules;if(re){var oe;for(H=0;H<re.length;H++){if(ne=re[H],ne.attrRegex&&ne.attrRegex.test(K)){if(ne.layoutAttrOverrides)return ne.layoutAttrOverrides;!oe&&ne.layoutAttributes&&(oe=ne.layoutAttributes)}var W=ne.baseLayoutAttrOverrides;if(W&&K in W)return W[K]}if(oe)return oe}var ee=X._modules;if(ee){for(H=0;H<ee.length;H++)if(ie=ee[H].layoutAttributes,ie&&K in ie)return ie[K]}for(te in N.componentsRegistry){if(ne=N.componentsRegistry[te],ne.name==="colorscale"&&K.indexOf("coloraxis")===0)return ne.layoutAttributes[K];if(!ne.schema&&K===ne.name)return ne.layoutAttributes}return K in u?u[K]:!1}function o(X,K,H){if(!X)return!1;if(X._isLinkedToArray){if(T(K[H]))H++;else if(H<K.length)return!1}for(;H<K.length;H++){var te=X[K[H]];if(r(te))X=te;else break;if(H===K.length-1)break;if(X._isLinkedToArray){if(H++,!T(K[H]))return!1}else if(X.valType==="info_array"){H++;var ne=K[H];if(!T(ne))return!1;var ie=X.items;if(Array.isArray(ie)){if(ne>=ie.length)return!1;if(X.dimensions===2){if(H++,K.length===H)return X;var re=K[H];if(!T(re))return!1;X=ie[ne][re]}else X=ie[ne]}else X=ie}}return X}function T(X){return X===Math.round(X)&&X>=0}function C(X){var K,H;K=N.modules[X]._module,H=K.basePlotModule;var te={};te.type=null;var ne=c({},v),ie=c({},K.attributes);M.crawl(ie,function(W,ee,de,he,I){p(ne,I).set(void 0),W===void 0&&p(ie,I).set(void 0)}),c(te,ne),N.traceIs(X,"noOpacity")&&delete te.opacity,N.traceIs(X,"showLegend")||(delete te.showlegend,delete te.legendgroup),N.traceIs(X,"noHover")&&(delete te.hoverinfo,delete te.hoverlabel),K.selectPoints||delete te.selectedpoints,c(te,ie),H.attributes&&c(te,H.attributes),te.type=X;var re={meta:K.meta||{},categories:K.categories||{},animatable:!!K.animatable,type:X,attributes:L(te)};if(K.layoutAttributes){var oe={};c(oe,K.layoutAttributes),re.layoutAttributes=L(oe)}return K.animatable||M.crawl(re,function(W){M.isValObject(W)&&"anim"in W&&delete W.anim}),re}function z(){var X={},K,H;c(X,u);for(K in N.subplotsRegistry)if(H=N.subplotsRegistry[K],!!H.layoutAttributes)if(Array.isArray(H.attr))for(var te=0;te<H.attr.length;te++)U(X,H,H.attr[te]);else{var ne=H.attr==="subplot"?H.name:H.attr;U(X,H,ne)}for(K in N.componentsRegistry){H=N.componentsRegistry[K];var ie=H.schema;if(ie&&(ie.subplots||ie.layout)){var re=ie.subplots;if(re&&re.xaxis&&!re.yaxis)for(var oe in re.xaxis)delete X.yaxis[oe];delete X.xaxis.shift,delete X.xaxis.autoshift}else H.name==="colorscale"?c(X,H.layoutAttributes):H.layoutAttributes&&B(X,H.layoutAttributes,H.name)}return{layoutAttributes:L(X)}}function Y(){var X={frames:c({},m)};return L(X),X.frames}function L(X){return O(X),D(X),d(X),X}function O(X){function K(te){return{valType:"string",editType:"none"}}function H(te,ne,ie){M.isValObject(te)?(te.arrayOk===!0||te.valType==="data_array")&&(ie[ne+"src"]=K(ne)):r(te)&&(te.role="object")}M.crawl(X,H)}function D(X){function K(H,te,ne){if(H){var ie=H[F];ie&&(delete H[F],ne[te]={items:{}},ne[te].items[ie]=H,ne[te].role="object")}}M.crawl(X,K)}function d(X){function K(H){for(var te in H)if(r(H[te]))K(H[te]);else if(Array.isArray(H[te]))for(var ne=0;ne<H[te].length;ne++)K(H[te][ne]);else H[te]instanceof RegExp&&(H[te]=H[te].toString())}K(X)}function U(X,K,H){var te=p(X,H),ne=c({},K.layoutAttributes);ne[S]=!0,te.set(ne)}function B(X,K,H){var te=p(X,H);te.set(c(te.get()||{},K))}}}),Pn=Ke({"src/plot_api/plot_template.js"(M){"use strict";var N=Zt(),t=Fn(),v="templateitemname",u={name:{valType:"string",editType:"none"}};u[v]={valType:"string",editType:"calc"},M.templatedArray=function(f,w){return w._isLinkedToArray=f,w.name=u.name,w[v]=u[v],w},M.traceTemplater=function(f){var w={},c,r;for(c in f)r=f[c],Array.isArray(r)&&r.length&&(w[c]=0);function A(p){c=N.coerce(p,{},t,"type");var E={type:c,_template:null};if(c in w){r=f[c];var S=w[c]%r.length;w[c]++,E._template=r[S]}return E}return{newTrace:A}},M.newContainer=function(f,w,c){var r=f._template,A=r&&(r[w]||c&&r[c]);N.isPlainObject(A)||(A=null);var p=f[w]={_template:A};return p},M.arrayTemplater=function(f,w,c){var r=f._template,A=r&&r[g(w)],p=r&&r[w];(!Array.isArray(p)||!p.length)&&(p=[]);var E={};function S(x){var b={name:x.name,_input:x},h=b[v]=x[v];if(!m(h))return b._template=A,b;for(var a=0;a<p.length;a++){var o=p[a];if(o.name===h)return E[h]=1,b._template=o,b}return b[c]=x[c]||!1,b._template=!1,b}function F(){for(var x=[],b=0;b<p.length;b++){var h=p[b],a=h.name;if(m(a)&&!E[a]){var o={_template:h,name:a,_input:{_templateitemname:a}};o[v]=h[v],x.push(o),E[a]=1}}return x}return{newItem:S,defaultItems:F}};function m(f){return f&&typeof f=="string"}function g(f){var w=f.length-1;return f.charAt(w)!=="s"&&N.warn("bad argument to arrayDefaultKey: "+f),f.substr(0,f.length-1)+"defaults"}M.arrayDefaultKey=g,M.arrayEditor=function(f,w,c){var r=(N.nestedProperty(f,w).get()||[]).length,A=c._index,p=A>=r&&(c._input||{})._templateitemname;p&&(A=r);var E=w+"["+A+"]",S;function F(){S={},p&&(S[E]={},S[E][v]=p)}F();function x(o,T){S[o]=T}function b(o,T){p?N.nestedProperty(S[E],o).set(T):S[E+"."+o]=T}function h(){var o=S;return F(),o}function a(o,T){o&&b(o,T);var C=h();for(var z in C)N.nestedProperty(f,z).set(C[z])}return{modifyBase:x,modifyItem:b,getUpdateObj:h,applyUpdate:a}}}}),xn=Ke({"src/plots/cartesian/constants.js"(M,N){"use strict";var t=Ci().counter;N.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}}),Bn=Ke({"src/plots/cartesian/axis_ids.js"(M){"use strict";var N=Er(),t=xn();M.id2name=function(m){if(!(typeof m!="string"||!m.match(t.AX_ID_PATTERN))){var g=m.split(" ")[0].substr(1);return g==="1"&&(g=""),m.charAt(0)+"axis"+g}},M.name2id=function(m){if(m.match(t.AX_NAME_PATTERN)){var g=m.substr(5);return g==="1"&&(g=""),m.charAt(0)+g}},M.cleanId=function(m,g,f){var w=/( domain)$/.test(m);if(!(typeof m!="string"||!m.match(t.AX_ID_PATTERN))&&!(g&&m.charAt(0)!==g)&&!(w&&!f)){var c=m.split(" ")[0].substr(1).replace(/^0+/,"");return c==="1"&&(c=""),m.charAt(0)+c+(w&&f?" domain":"")}},M.list=function(u,m,g){var f=u._fullLayout;if(!f)return[];var w=M.listIds(u,m),c=new Array(w.length),r;for(r=0;r<w.length;r++){var A=w[r];c[r]=f[A.charAt(0)+"axis"+A.substr(1)]}if(!g){var p=f._subplots.gl3d||[];for(r=0;r<p.length;r++){var E=f[p[r]];m?c.push(E[m+"axis"]):c.push(E.xaxis,E.yaxis,E.zaxis)}}return c},M.listIds=function(u,m){var g=u._fullLayout;if(!g)return[];var f=g._subplots;return m?f[m+"axis"]:f.xaxis.concat(f.yaxis)},M.getFromId=function(u,m,g){var f=u._fullLayout;return m=m===void 0||typeof m!="string"?m:m.replace(" domain",""),g==="x"?m=m.replace(/y[0-9]*/,""):g==="y"&&(m=m.replace(/x[0-9]*/,"")),f[M.id2name(m)]},M.getFromTrace=function(u,m,g){var f=u._fullLayout,w=null;if(N.traceIs(m,"gl3d")){var c=m.scene;c.substr(0,5)==="scene"&&(w=f[c][g+"axis"])}else w=M.getFromId(u,m[g+"axis"]||g);return w},M.idSort=function(u,m){var g=u.charAt(0),f=m.charAt(0);return g!==f?g>f?1:-1:+(u.substr(1)||1)-+(m.substr(1)||1)},M.ref2id=function(u){return/^[xyz]/.test(u)?u.split(" ")[0]:!1};function v(u,m){if(m&&m.length){for(var g=0;g<m.length;g++)if(m[g][u])return!0}return!1}M.isLinked=function(u,m){return v(m,u._axisMatchGroups)||v(m,u._axisConstraintGroups)}}}),Ba=Ke({"src/components/shapes/handle_outline.js"(M,N){"use strict";function t(u){var m=u._fullLayout._zoomlayer;m&&m.selectAll(".outline-controllers").remove()}function v(u){var m=u._fullLayout._zoomlayer;m&&m.selectAll(".select-outline").remove(),u._fullLayout._outlining=!1}N.exports={clearOutlineControllers:t,clearOutline:v}}}),Oi=Ke({"src/traces/scatter/layout_attributes.js"(M,N){"use strict";N.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}}),Hi=Ke({"src/plots/get_data.js"(M){"use strict";var N=Er(),t=xn().SUBPLOT_PATTERN;M.getSubplotCalcData=function(v,u,m){var g=N.subplotsRegistry[u];if(!g)return[];for(var f=g.attr,w=[],c=0;c<v.length;c++){var r=v[c],A=r[0].trace;A[f]===m&&w.push(r)}return w},M.getModuleCalcData=function(v,u,m){var g=[],f=[],w;if(typeof u=="string"?w=N.getModule(u).plot:typeof u=="function"?w=u:w=u.plot,!w)return[g,v];for(var c=m,r=0;r<v.length;r++){var A=v[r],p=A[0].trace,E=p.zorder!==void 0;p.visible!==!0||p._length===0||(p._module&&p._module.plot===w&&(!E||p.zorder===c)?g.push(A):f.push(A))}return[g,f]},M.getSubplotData=function(u,m,g){if(!N.subplotsRegistry[m])return[];for(var f=N.subplotsRegistry[m].attr,w=[],c,r,A,p=0;p<u.length;p++)c=u[p],c[f]===g&&w.push(c);return w}}}),Vu=Ke({"src/plots/command.js"(M){"use strict";var N=Er(),t=Zt();M.manageCommandObserver=function(w,c,r,A){var p={},E=!0;c&&c._commandObserver&&(p=c._commandObserver),p.cache||(p.cache={}),p.lookupTable={};var S=M.hasSimpleAPICommandBindings(w,r,p.lookupTable);if(c&&c._commandObserver){if(S)return p;if(c._commandObserver.remove)return c._commandObserver.remove(),c._commandObserver=null,p}if(S){v(w,S,p.cache),p.check=function(){if(E){var h=v(w,S,p.cache);return h.changed&&A&&p.lookupTable[h.value]!==void 0&&(p.disable(),Promise.resolve(A({value:h.value,type:S.type,prop:S.prop,traces:S.traces,index:p.lookupTable[h.value]})).then(p.enable,p.enable)),h.changed}};for(var F=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],x=0;x<F.length;x++)w._internalOn(F[x],p.check);p.remove=function(){for(var b=0;b<F.length;b++)w._removeInternalListener(F[b],p.check)}}else t.log("Unable to automatically bind plot updates to API command"),p.lookupTable={},p.remove=function(){};return p.disable=function(){E=!1},p.enable=function(){E=!0},c&&(c._commandObserver=p),p},M.hasSimpleAPICommandBindings=function(w,c,r){var A,p=c.length,E;for(A=0;A<p;A++){var S,F=c[A],x=F.method,b=F.args;if(Array.isArray(b)||(b=[]),!x)return!1;var h=M.computeAPICommandBindings(w,x,b);if(h.length!==1)return!1;if(!E)E=h[0],Array.isArray(E.traces)&&E.traces.sort();else{if(S=h[0],S.type!==E.type||S.prop!==E.prop)return!1;if(Array.isArray(E.traces))if(Array.isArray(S.traces)){S.traces.sort();for(var a=0;a<E.traces.length;a++)if(E.traces[a]!==S.traces[a])return!1}else return!1;else if(S.prop!==E.prop)return!1}S=h[0];var o=S.value;if(Array.isArray(o))if(o.length===1)o=o[0];else return!1;r&&(r[o]=A)}return E};function v(w,c,r){var A,p,E,S=!1;if(c.type==="data")A=w._fullData[c.traces!==null?c.traces[0]:0];else if(c.type==="layout")A=w._fullLayout;else return!1;return p=t.nestedProperty(A,c.prop).get(),E=r[c.type]=r[c.type]||{},E.hasOwnProperty(c.prop)&&E[c.prop]!==p&&(S=!0),E[c.prop]=p,{changed:S,value:p}}M.executeAPICommand=function(w,c,r){if(c==="skip")return Promise.resolve();var A=N.apiMethodRegistry[c],p=[w];Array.isArray(r)||(r=[]);for(var E=0;E<r.length;E++)p.push(r[E]);return A.apply(null,p).catch(function(S){return t.warn("API call to Plotly."+c+" rejected.",S),Promise.reject(S)})},M.computeAPICommandBindings=function(w,c,r){var A;switch(Array.isArray(r)||(r=[]),c){case"restyle":A=g(w,r);break;case"relayout":A=m(w,r);break;case"update":A=g(w,[r[0],r[2]]).concat(m(w,[r[1]]));break;case"animate":A=u(w,r);break;default:A=[]}return A};function u(w,c){return Array.isArray(c[0])&&c[0].length===1&&["string","number"].indexOf(typeof c[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:c[0][0].toString()}]:[]}function m(w,c){var r=[],A=c[0],p={};if(typeof A=="string")p[A]=c[1];else if(t.isPlainObject(A))p=A;else return r;return f(p,function(E,S,F){r.push({type:"layout",prop:E,value:F})},"",0),r}function g(w,c){var r,A,p,E,S=[];if(A=c[0],p=c[1],r=c[2],E={},typeof A=="string")E[A]=p;else if(t.isPlainObject(A))E=A,r===void 0&&(r=p);else return S;return r===void 0&&(r=null),f(E,function(F,x,b){var h,a;if(Array.isArray(b)){a=b.slice();var o=Math.min(a.length,w.data.length);r&&(o=Math.min(o,r.length)),h=[];for(var T=0;T<o;T++)h[T]=r?r[T]:T}else a=b,h=r?r.slice():null;if(h===null)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(h)){if(!Array.isArray(a)){var C=a;a=[];for(var z=0;z<h.length;z++)a[z]=C}a.length=Math.min(h.length,a.length)}S.push({type:"data",prop:F,traces:h,value:a})},"",0),S}function f(w,c,r,A){Object.keys(w).forEach(function(p){var E=w[p];if(p[0]!=="_"){var S=r+(A>0?".":"")+p;t.isPlainObject(E)?f(E,c,S,A+1):c(S,p,E)}})}}}),En=Ke({"src/plots/plots.js"(M,N){"use strict";var t=Yr(),v=Eo().formatLocale,u=Zr(),m=Co(),g=Er(),f=wa(),w=Pn(),c=Zt(),r=$r(),A=hn().BADNUM,p=Bn(),E=Ba().clearOutline,S=Oi(),F=Ni(),x=Ho(),b=Hi().getModuleCalcData,h=c.relinkPrivateKeys,a=c._,o=N.exports={};c.extendFlat(o,g),o.attributes=Fn(),o.attributes.type.values=o.allTypes,o.fontAttrs=Sn(),o.layoutAttributes=xa();var T=Vu();o.executeAPICommand=T.executeAPICommand,o.computeAPICommandBindings=T.computeAPICommandBindings,o.manageCommandObserver=T.manageCommandObserver,o.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,o.redrawText=function(I){return I=c.getGraphDiv(I),new Promise(function(R){setTimeout(function(){I._fullLayout&&(g.getComponentMethod("legend","draw")(I),g.getComponentMethod("colorbar","draw")(I),R(o.previousPromises(I)))},300)})},o.resize=function(I){I=c.getGraphDiv(I);var R,_=new Promise(function(i,l){(!I||c.isHidden(I))&&l(new Error("Resize must be passed a displayed plot div element.")),I._redrawTimer&&clearTimeout(I._redrawTimer),I._resolveResize&&(R=I._resolveResize),I._resolveResize=i,I._redrawTimer=setTimeout(function(){if(!I.layout||I.layout.width&&I.layout.height||c.isHidden(I)){i(I);return}delete I.layout.width,delete I.layout.height;var k=I.changed;I.autoplay=!0,g.call("relayout",I,{autosize:!0}).then(function(){I.changed=k,I._resolveResize===i&&(delete I._resolveResize,i(I))})},100)});return R&&R(_),_},o.previousPromises=function(I){if((I._promises||[]).length)return Promise.all(I._promises).then(function(){I._promises=[]})},o.addLinks=function(I){if(!(!I._context.showLink&&!I._context.showSources)){var R=I._fullLayout,_=c.ensureSingle(R._paper,"text","js-plot-link-container",function(q){q.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var J=t.select(this);J.append("tspan").classed("js-link-to-tool",!0),J.append("tspan").classed("js-link-spacer",!0),J.append("tspan").classed("js-sourcelinks",!0)})}),i=_.node(),l={y:R._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=R.width-20?(l["text-anchor"]="start",l.x=5):(l["text-anchor"]="end",l.x=R._paper.attr("width")-7),_.attr(l);var k=_.select(".js-link-to-tool"),y=_.select(".js-link-spacer"),n=_.select(".js-sourcelinks");I._context.showSources&&I._context.showSources(I),I._context.showLink&&C(I,k),y.text(k.text()&&n.text()?" - ":"")}};function C(I,R){R.text("");var _=R.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(I._context.linkText+" \xBB");if(I._context.sendData)_.on("click",function(){o.sendDataToCloud(I)});else{var i=window.location.pathname.split("/"),l=window.location.search;_.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+i[2].split(".")[0]+"/"+i[1]+l})}}o.sendDataToCloud=function(I){var R=(window.PLOTLYENV||{}).BASE_URL||I._context.plotlyServerURL;if(R){I.emit("plotly_beforeexport");var _=t.select(I).append("div").attr("id","hiddenform").style("display","none"),i=_.append("form").attr({action:R+"/external",method:"post",target:"_blank"}),l=i.append("input").attr({type:"text",name:"data"});return l.node().value=o.graphJson(I,!1,"keepdata"),i.node().submit(),_.remove(),I.emit("plotly_afterexport"),!1}};var z=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],Y=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(I,R){var _=R&&R.skipUpdateCalc,i=I._fullLayout||{};if(i._skipDefaults){delete i._skipDefaults;return}var l=I._fullLayout={},k=I.layout||{},y=I._fullData||[],n=I._fullData=[],q=I.data||[],J=I.calcdata||[],se=I._context||{},ye;I._transitionData||o.createTransitionData(I),l._dfltTitle={plot:a(I,"Click to enter Plot title"),subtitle:a(I,"Click to enter Plot subtitle"),x:a(I,"Click to enter X axis title"),y:a(I,"Click to enter Y axis title"),colorbar:a(I,"Click to enter Colorscale title"),annotation:a(I,"new text")},l._traceWord=a(I,"trace");var we=D(I,z);if(l._mapboxAccessToken=se.mapboxAccessToken,i._initialAutoSizeIsDone){var ke=i.width,ue=i.height;o.supplyLayoutGlobalDefaults(k,l,we),k.width||(l.width=ke),k.height||(l.height=ue),o.sanitizeMargins(l)}else{o.supplyLayoutGlobalDefaults(k,l,we);var Me=!k.width||!k.height,Ne=l.autosize,Ce=se.autosizable,Le=Me&&(Ne||Ce);Le?o.plotAutoSize(I,k,l):Me&&o.sanitizeMargins(l),!Ne&&Me&&(k.width=l.width,k.height=l.height)}l._d3locale=d(we,l.separators),l._extraFormat=D(I,Y),l._initialAutoSizeIsDone=!0,l._dataLength=q.length,l._modules=[],l._visibleModules=[],l._basePlotModules=[];var $=l._subplots=O(),ce=l._splomAxes={x:{},y:{}},me=l._splomSubplots={};l._splomGridDflt={},l._scatterStackOpts={},l._firstScatter={},l._alignmentOpts={},l._colorAxes={},l._requestRangeslider={},l._traceUids=L(y,q),o.supplyDataDefaults(q,n,k,l);var pe=Object.keys(ce.x),xe=Object.keys(ce.y);if(pe.length>1&&xe.length>1){for(g.getComponentMethod("grid","sizeDefaults")(k,l),ye=0;ye<pe.length;ye++)c.pushUnique($.xaxis,pe[ye]);for(ye=0;ye<xe.length;ye++)c.pushUnique($.yaxis,xe[ye]);for(var Oe in me)c.pushUnique($.cartesian,Oe)}if(l._has=o._hasPlotType.bind(l),y.length===n.length)for(ye=0;ye<n.length;ye++)h(n[ye],y[ye]);o.supplyLayoutModuleDefaults(k,l,n,I._transitionData);var Xe=l._visibleModules,$e=[];for(ye=0;ye<Xe.length;ye++){var pt=Xe[ye].crossTraceDefaults;pt&&c.pushUnique($e,pt)}for(ye=0;ye<$e.length;ye++)$e[ye](n,l);l._hasOnlyLargeSploms=l._basePlotModules.length===1&&l._basePlotModules[0].name==="splom"&&pe.length>15&&xe.length>15&&l.shapes.length===0&&l.images.length===0,o.linkSubplots(n,l,y,i),o.cleanPlot(n,l,y,i);var rt=!!(i._has&&i._has("cartesian")),kt=!!(l._has&&l._has("cartesian")),Mt=rt,Dt=kt;Mt&&!Dt?i._bgLayer.remove():Dt&&!Mt&&(l._shouldCreateBgLayer=!0),i._zoomlayer&&!I._dragging&&E({_fullLayout:i}),U(n,l),h(l,i),g.getComponentMethod("colorscale","crossTraceDefaults")(n,l),l._preGUI||(l._preGUI={}),l._tracePreGUI||(l._tracePreGUI={});var lt=l._tracePreGUI,wt={},ut;for(ut in lt)wt[ut]="old";for(ye=0;ye<n.length;ye++)ut=n[ye]._fullInput.uid,wt[ut]||(lt[ut]={}),wt[ut]="new";for(ut in wt)wt[ut]==="old"&&delete lt[ut];K(l),g.getComponentMethod("rangeslider","makeData")(l),!_&&J.length===n.length&&o.supplyDefaultsUpdateCalc(J,n)},o.supplyDefaultsUpdateCalc=function(I,R){for(var _=0;_<R.length;_++){var i=R[_],l=(I[_]||[])[0];if(l&&l.trace){var k=l.trace;if(k._hasCalcTransform){var y=k._arrayAttrs,n,q,J;for(n=0;n<y.length;n++)q=y[n],J=c.nestedProperty(k,q).get().slice(),c.nestedProperty(i,q).set(J)}l.trace=i}}};function L(I,R){var _=R.length,i=[],l,k;for(l=0;l<I.length;l++){var y=I[l]._fullInput;y!==k&&i.push(y),k=y}var n=i.length,q=new Array(_),J={};function se(ke,ue){q[ue]=ke,J[ke]=1}function ye(ke,ue){if(ke&&typeof ke=="string"&&!J[ke])return se(ke,ue),!0}for(l=0;l<_;l++){var we=R[l].uid;typeof we=="number"&&(we=String(we)),!ye(we,l)&&(l<n&&ye(i[l].uid,l)||se(c.randstr(J),l))}return q}function O(){var I=g.collectableSubplotTypes,R={},_,i;if(!I){I=[];var l=g.subplotsRegistry;for(var k in l){var y=l[k],n=y.attr;if(n&&(I.push(k),Array.isArray(n)))for(i=0;i<n.length;i++)c.pushUnique(I,n[i])}}for(_=0;_<I.length;_++)R[I[_]]=[];return R}function D(I,R){var _=I._context.locale;_||(_="en-US");var i=!1,l={};function k(ye){for(var we=!0,ke=0;ke<R.length;ke++){var ue=R[ke];l[ue]||(ye[ue]?l[ue]=ye[ue]:we=!1)}we&&(i=!0)}for(var y=0;y<2;y++){for(var n=I._context.locales,q=0;q<2;q++){var J=(n[_]||{}).format;if(J&&(k(J),i))break;n=g.localeRegistry}var se=_.split("-")[0];if(i||se===_)break;_=se}return i||k(g.localeRegistry.en.format),l}function d(I,R){return I.decimal=R.charAt(0),I.thousands=R.charAt(1),{numberFormat:function(_){try{_=v(I).format(c.adjustFormat(_))}catch{return c.warnBadFormat(_),c.noFormat}return _}}}function U(I,R){var _,i=[];R.meta&&(_=R._meta={meta:R.meta,layout:{meta:R.meta}});for(var l=0;l<I.length;l++){var k=I[l];k.meta?i[k.index]=k._meta={meta:k.meta}:R.meta&&(k._meta={meta:R.meta}),R.meta&&(k._meta.layout={meta:R.meta})}i.length&&(_||(_=R._meta={}),_.data=i)}o.createTransitionData=function(I){I._transitionData||(I._transitionData={}),I._transitionData._frames||(I._transitionData._frames=[]),I._transitionData._frameHash||(I._transitionData._frameHash={}),I._transitionData._counter||(I._transitionData._counter=0),I._transitionData._interruptCallbacks||(I._transitionData._interruptCallbacks=[])},o._hasPlotType=function(I){var R,_=this._basePlotModules||[];for(R=0;R<_.length;R++)if(_[R].name===I)return!0;var i=this._modules||[];for(R=0;R<i.length;R++){var l=i[R].name;if(l===I)return!0;var k=g.modules[l];if(k&&k.categories[I])return!0}return!1},o.cleanPlot=function(I,R,_,i){var l,k,y=i._basePlotModules||[];for(l=0;l<y.length;l++){var n=y[l];n.clean&&n.clean(I,R,_,i)}var q=i._has&&i._has("gl"),J=R._has&&R._has("gl");q&&!J&&i._glcontainer!==void 0&&(i._glcontainer.selectAll(".gl-canvas").remove(),i._glcontainer.selectAll(".no-webgl").remove(),i._glcanvas=null);var se=!!i._infolayer;e:for(l=0;l<_.length;l++){var ye=_[l],we=ye.uid;for(k=0;k<I.length;k++){var ke=I[k];if(we===ke.uid)continue e}se&&i._infolayer.select(".cb"+we).remove()}},o.linkSubplots=function(I,R,_,i){var l,k,y=i._plots||{},n=R._plots={},q=R._subplots,J={_fullData:I,_fullLayout:R},se=q.cartesian||[];for(l=0;l<se.length;l++){var ye=se[l],we=y[ye],ke=p.getFromId(J,ye,"x"),ue=p.getFromId(J,ye,"y"),Me;for(we?Me=n[ye]=we:(Me=n[ye]={},Me.id=ye),ke._counterAxes.push(ue._id),ue._counterAxes.push(ke._id),ke._subplotsWith.push(ye),ue._subplotsWith.push(ye),Me.xaxis=ke,Me.yaxis=ue,Me._hasClipOnAxisFalse=!1,k=0;k<I.length;k++){var Ne=I[k];if(Ne.xaxis===Me.xaxis._id&&Ne.yaxis===Me.yaxis._id&&Ne.cliponaxis===!1){Me._hasClipOnAxisFalse=!0;break}}}var Ce=p.list(J,null,!0),Le;for(l=0;l<Ce.length;l++){Le=Ce[l];var $=null;Le.overlaying&&($=p.getFromId(J,Le.overlaying),$&&$.overlaying&&(Le.overlaying=!1,$=null)),Le._mainAxis=$||Le,$&&(Le.domain=$.domain.slice()),Le._anchorAxis=Le.anchor==="free"?null:p.getFromId(J,Le.anchor)}for(l=0;l<Ce.length;l++)if(Le=Ce[l],Le._counterAxes.sort(p.idSort),Le._subplotsWith.sort(c.subplotSort),Le._mainSubplot=B(Le,R),Le._counterAxes.length&&(Le.spikemode&&Le.spikemode.indexOf("across")!==-1||Le.automargin&&Le.mirror&&Le.anchor!=="free"||g.getComponentMethod("rangeslider","isVisible")(Le))){var ce=1,me=0;for(k=0;k<Le._counterAxes.length;k++){var pe=p.getFromId(J,Le._counterAxes[k]);ce=Math.min(ce,pe.domain[0]),me=Math.max(me,pe.domain[1])}ce<me&&(Le._counterDomainMin=ce,Le._counterDomainMax=me)}};function B(I,R){var _={_fullLayout:R},i=I._id.charAt(0)==="x",l=I._mainAxis._anchorAxis,k="",y="",n="";if(l&&(n=l._mainAxis._id,k=i?I._id+n:n+I._id),!k||!R._plots[k]){k="";for(var q=I._counterAxes,J=0;J<q.length;J++){var se=q[J],ye=i?I._id+se:se+I._id;y||(y=ye);var we=p.getFromId(_,se);if(n&&we.overlaying===n){k=ye;break}}}return k||y}o.clearExpandedTraceDefaultColors=function(I){var R,_,i;function l(y,n,q,J){_[J]=n,_.length=J+1,y.valType==="color"&&y.dflt===void 0&&R.push(_.join("."))}for(_=[],R=I._module._colorAttrs,R||(I._module._colorAttrs=R=[],f.crawl(I._module.attributes,l)),i=0;i<R.length;i++){var k=c.nestedProperty(I,"_input."+R[i]);k.get()||c.nestedProperty(I,R[i]).set(null)}},o.supplyDataDefaults=function(I,R,_,i){var l=i._modules,k=i._visibleModules,y=i._basePlotModules,n=0,q=0,J,se,ye;i._transformModules=[];function we(Le){R.push(Le);var $=Le._module;$&&(c.pushUnique(l,$),Le.visible===!0&&c.pushUnique(k,$),c.pushUnique(y,Le._module.basePlotModule),n++,Le._input.visible!==!1&&q++)}var ke={},ue=[],Me=(_.template||{}).data||{},Ne=w.traceTemplater(Me);for(J=0;J<I.length;J++)ye=I[J],se=Ne.newTrace(ye),se.uid=i._traceUids[J],o.supplyTraceDefaults(ye,se,q,i,J),se.index=J,se._input=ye,se._fullInput=se,we(se),g.traceIs(se,"carpetAxis")&&(ke[se.carpet]=se),g.traceIs(se,"carpetDependent")&&ue.push(J);for(J=0;J<ue.length;J++)if(se=R[ue[J]],!!se.visible){var Ce=ke[se.carpet];if(se._carpet=Ce,!Ce||!Ce.visible){se.visible=!1;continue}se.xaxis=Ce.xaxis,se.yaxis=Ce.yaxis}},o.supplyAnimationDefaults=function(I){I=I||{};var R,_={};function i(l,k){return c.coerce(I||{},_,F,l,k)}if(i("mode"),i("direction"),i("fromcurrent"),Array.isArray(I.frame))for(_.frame=[],R=0;R<I.frame.length;R++)_.frame[R]=o.supplyAnimationFrameDefaults(I.frame[R]||{});else _.frame=o.supplyAnimationFrameDefaults(I.frame||{});if(Array.isArray(I.transition))for(_.transition=[],R=0;R<I.transition.length;R++)_.transition[R]=o.supplyAnimationTransitionDefaults(I.transition[R]||{});else _.transition=o.supplyAnimationTransitionDefaults(I.transition||{});return _},o.supplyAnimationFrameDefaults=function(I){var R={};function _(i,l){return c.coerce(I||{},R,F.frame,i,l)}return _("duration"),_("redraw"),R},o.supplyAnimationTransitionDefaults=function(I){var R={};function _(i,l){return c.coerce(I||{},R,F.transition,i,l)}return _("duration"),_("easing"),R},o.supplyFrameDefaults=function(I){var R={};function _(i,l){return c.coerce(I,R,x,i,l)}return _("group"),_("name"),_("traces"),_("baseframe"),_("data"),_("layout"),R},o.supplyTraceDefaults=function(I,R,_,i,l){var k=i.colorway||r.defaults,y=k[_%k.length],n;function q($,ce){return c.coerce(I,R,o.attributes,$,ce)}var J=q("visible");q("type"),q("name",i._traceWord+" "+l),q("uirevision",i.uirevision);var se=o.getModule(R);if(R._module=se,se){var ye=se.basePlotModule,we=ye.attr,ke=ye.attributes;if(we&&ke){var ue=i._subplots,Me="";if(Array.isArray(we))for(n=0;n<we.length;n++){var Ne=we[n],Ce=c.coerce(I,R,ke,Ne);ue[Ne]&&c.pushUnique(ue[Ne],Ce),Me+=Ce}else Me=c.coerce(I,R,ke,we);ue[ye.name]&&c.pushUnique(ue[ye.name],Me)}}if(J&&(q("customdata"),q("ids"),q("meta"),g.traceIs(R,"showLegend")?(c.coerce(I,R,se.attributes.showlegend?se.attributes:o.attributes,"showlegend"),q("legend"),q("legendwidth"),q("legendgroup"),q("legendgrouptitle.text"),q("legendrank"),R._dfltShowLegend=!0):R._dfltShowLegend=!1,se&&se.supplyDefaults(I,R,y,i),g.traceIs(R,"noOpacity")||q("opacity"),g.traceIs(R,"notLegendIsolatable")&&(R.visible=!!R.visible),g.traceIs(R,"noHover")||(R.hovertemplate||c.coerceHoverinfo(I,R,i),R.type!=="parcats"&&g.getComponentMethod("fx","supplyDefaults")(I,R,y,i)),se&&se.selectPoints)){var Le=q("selectedpoints");c.isTypedArray(Le)&&(R.selectedpoints=Array.from(Le))}return R},o.supplyLayoutGlobalDefaults=function(I,R,_){function i(ye,we){return c.coerce(I,R,o.layoutAttributes,ye,we)}var l=I.template;c.isPlainObject(l)&&(R.template=l,R._template=l.layout,R._dataTemplate=l.data),i("autotypenumbers");var k=c.coerceFont(i,"font"),y=k.size;c.coerceFont(i,"title.font",k,{overrideDflt:{size:Math.round(y*1.4)}}),i("title.text",R._dfltTitle.plot),i("title.xref");var n=i("title.yref");i("title.pad.t"),i("title.pad.r"),i("title.pad.b"),i("title.pad.l");var q=i("title.automargin");i("title.x"),i("title.xanchor"),i("title.y"),i("title.yanchor"),i("title.subtitle.text",R._dfltTitle.subtitle),c.coerceFont(i,"title.subtitle.font",k,{overrideDflt:{size:Math.round(R.title.font.size*.7)}}),q&&(n==="paper"&&(R.title.y!==0&&(R.title.y=1),R.title.yanchor==="auto"&&(R.title.yanchor=R.title.y===0?"top":"bottom")),n==="container"&&(R.title.y==="auto"&&(R.title.y=1),R.title.yanchor==="auto"&&(R.title.yanchor=R.title.y<.5?"bottom":"top")));var J=i("uniformtext.mode");J&&i("uniformtext.minsize"),i("autosize",!(I.width&&I.height)),i("width"),i("height"),i("minreducedwidth"),i("minreducedheight"),i("margin.l"),i("margin.r"),i("margin.t"),i("margin.b"),i("margin.pad"),i("margin.autoexpand"),I.width&&I.height&&o.sanitizeMargins(R),g.getComponentMethod("grid","sizeDefaults")(I,R),i("paper_bgcolor"),i("separators",_.decimal+_.thousands),i("hidesources"),i("colorway"),i("datarevision");var se=i("uirevision");i("editrevision",se),i("selectionrevision",se),g.getComponentMethod("modebar","supplyLayoutDefaults")(I,R),g.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(I,R,i),g.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(I,R,i),i("meta"),c.isPlainObject(I.transition)&&(i("transition.duration"),i("transition.easing"),i("transition.ordering")),g.getComponentMethod("calendars","handleDefaults")(I,R,"calendar"),g.getComponentMethod("fx","supplyLayoutGlobalDefaults")(I,R,i),c.coerce(I,R,S,"scattermode")};function X(I){return typeof I=="string"&&I.substr(I.length-2)==="px"&&parseFloat(I)}o.plotAutoSize=function(R,_,i){var l=R._context||{},k=l.frameMargins,y,n,q=c.isPlotDiv(R);if(q&&R.emit("plotly_autosize"),l.fillFrame)y=window.innerWidth,n=window.innerHeight,document.body.style.overflow="hidden";else{var J=q?window.getComputedStyle(R):{};if(y=X(J.width)||X(J.maxWidth)||i.width,n=X(J.height)||X(J.maxHeight)||i.height,u(k)&&k>0){var se=1-2*k;y=Math.round(se*y),n=Math.round(se*n)}}var ye=o.layoutAttributes.width.min,we=o.layoutAttributes.height.min;y<ye&&(y=ye),n<we&&(n=we);var ke=!_.width&&Math.abs(i.width-y)>1,ue=!_.height&&Math.abs(i.height-n)>1;(ue||ke)&&(ke&&(i.width=y),ue&&(i.height=n)),R._initialAutoSize||(R._initialAutoSize={width:y,height:n}),o.sanitizeMargins(i)},o.supplyLayoutModuleDefaults=function(I,R,_,i){var l=g.componentsRegistry,k=R._basePlotModules,y,n,q,J=g.subplotsRegistry.cartesian;for(y in l)q=l[y],q.includeBasePlot&&q.includeBasePlot(I,R);k.length||k.push(J),R._has("cartesian")&&(g.getComponentMethod("grid","contentDefaults")(I,R),J.finalizeSubplots(I,R));for(var se in R._subplots)R._subplots[se].sort(c.subplotSort);for(n=0;n<k.length;n++)q=k[n],q.supplyLayoutDefaults&&q.supplyLayoutDefaults(I,R,_);var ye=R._modules;for(n=0;n<ye.length;n++)q=ye[n],q.supplyLayoutDefaults&&q.supplyLayoutDefaults(I,R,_);var we=R._transformModules;for(n=0;n<we.length;n++)q=we[n],q.supplyLayoutDefaults&&q.supplyLayoutDefaults(I,R,_,i);for(y in l)q=l[y],q.supplyLayoutDefaults&&q.supplyLayoutDefaults(I,R,_)},o.purge=function(I){var R=I._fullLayout||{};R._glcontainer!==void 0&&(R._glcontainer.selectAll(".gl-canvas").remove(),R._glcontainer.remove(),R._glcanvas=null),R._modeBar&&R._modeBar.destroy(),I._transitionData&&(I._transitionData._interruptCallbacks&&(I._transitionData._interruptCallbacks.length=0),I._transitionData._animationRaf&&window.cancelAnimationFrame(I._transitionData._animationRaf)),c.clearThrottle(),c.clearResponsive(I),delete I.data,delete I.layout,delete I._fullData,delete I._fullLayout,delete I.calcdata,delete I.empty,delete I.fid,delete I.undoqueue,delete I.undonum,delete I.autoplay,delete I.changed,delete I._promises,delete I._redrawTimer,delete I._hmlumcount,delete I._hmpixcount,delete I._transitionData,delete I._transitioning,delete I._initialAutoSize,delete I._transitioningWithDuration,delete I._dragging,delete I._dragged,delete I._dragdata,delete I._hoverdata,delete I._snapshotInProgress,delete I._editing,delete I._mouseDownTime,delete I._legendMouseDownTime,I.removeAllListeners&&I.removeAllListeners()},o.style=function(I){var R=I._fullLayout._visibleModules,_=[],i;for(i=0;i<R.length;i++){var l=R[i];l.style&&c.pushUnique(_,l.style)}for(i=0;i<_.length;i++)_[i](I)},o.sanitizeMargins=function(I){if(!(!I||!I.margin)){var R=I.width,_=I.height,i=I.margin,l=R-(i.l+i.r),k=_-(i.t+i.b),y;l<0&&(y=(R-1)/(i.l+i.r),i.l=Math.floor(y*i.l),i.r=Math.floor(y*i.r)),k<0&&(y=(_-1)/(i.t+i.b),i.t=Math.floor(y*i.t),i.b=Math.floor(y*i.b))}},o.clearAutoMarginIds=function(I){I._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(I,R){I._fullLayout._pushmarginIds[R]=1};function K(I){var R=I.margin;if(!I._size){var _=I._size={l:Math.round(R.l),r:Math.round(R.r),t:Math.round(R.t),b:Math.round(R.b),p:Math.round(R.pad)};_.w=Math.round(I.width)-_.l-_.r,_.h=Math.round(I.height)-_.t-_.b}I._pushmargin||(I._pushmargin={}),I._pushmarginIds||(I._pushmarginIds={}),I._reservedMargin||(I._reservedMargin={})}var H=2,te=2;o.autoMargin=function(I,R,_){var i=I._fullLayout,l=i.width,k=i.height,y=i.margin,n=i.minreducedwidth,q=i.minreducedheight,J=c.constrain(l-y.l-y.r,H,n),se=c.constrain(k-y.t-y.b,te,q),ye=Math.max(0,l-J),we=Math.max(0,k-se),ke=i._pushmargin,ue=i._pushmarginIds;if(y.autoexpand!==!1){if(!_)delete ke[R],delete ue[R];else{var Me=_.pad;if(Me===void 0&&(Me=Math.min(12,y.l,y.r,y.t,y.b)),ye){var Ne=(_.l+_.r)/ye;Ne>1&&(_.l/=Ne,_.r/=Ne)}if(we){var Ce=(_.t+_.b)/we;Ce>1&&(_.t/=Ce,_.b/=Ce)}var Le=_.xl!==void 0?_.xl:_.x,$=_.xr!==void 0?_.xr:_.x,ce=_.yt!==void 0?_.yt:_.y,me=_.yb!==void 0?_.yb:_.y;ke[R]={l:{val:Le,size:_.l+Me},r:{val:$,size:_.r+Me},b:{val:me,size:_.b+Me},t:{val:ce,size:_.t+Me}},ue[R]=1}if(!i._replotting)return o.doAutoMargin(I)}};function ne(I){if("_redrawFromAutoMarginCount"in I._fullLayout)return!1;var R=p.list(I,"",!0);for(var _ in R)if(R[_].autoshift||R[_].shift)return!0;return!1}o.doAutoMargin=function(I){var R=I._fullLayout,_=R.width,i=R.height;R._size||(R._size={}),K(R);var l=R._size,k=R.margin,y={t:0,b:0,l:0,r:0},n=c.extendFlat({},l),q=k.l,J=k.r,se=k.t,ye=k.b,we=R._pushmargin,ke=R._pushmarginIds,ue=R.minreducedwidth,Me=R.minreducedheight;if(k.autoexpand!==!1){for(var Ne in we)ke[Ne]||delete we[Ne];var Ce=I._fullLayout._reservedMargin;for(var Le in Ce)for(var $ in Ce[Le]){var ce=Ce[Le][$];y[$]=Math.max(y[$],ce)}we.base={l:{val:0,size:q},r:{val:1,size:J},t:{val:1,size:se},b:{val:0,size:ye}};for(var me in y){var pe=0;for(var xe in we)xe!=="base"&&u(we[xe][me].size)&&(pe=we[xe][me].size>pe?we[xe][me].size:pe);var Oe=Math.max(0,k[me]-pe);y[me]=Math.max(0,y[me]-Oe)}for(var Xe in we){var $e=we[Xe].l||{},pt=we[Xe].b||{},rt=$e.val,kt=$e.size,Mt=pt.val,Dt=pt.size,lt=_-y.r-y.l,wt=i-y.t-y.b;for(var ut in we){if(u(kt)&&we[ut].r){var yt=we[ut].r.val,et=we[ut].r.size;if(yt>rt){var tt=(kt*yt+(et-lt)*rt)/(yt-rt),ct=(et*(1-rt)+(kt-lt)*(1-yt))/(yt-rt);tt+ct>q+J&&(q=tt,J=ct)}}if(u(Dt)&&we[ut].t){var le=we[ut].t.val,ge=we[ut].t.size;if(le>Mt){var _e=(Dt*le+(ge-wt)*Mt)/(le-Mt),Te=(ge*(1-Mt)+(Dt-wt)*(1-le))/(le-Mt);_e+Te>ye+se&&(ye=_e,se=Te)}}}}}var He=c.constrain(_-k.l-k.r,H,ue),qe=c.constrain(i-k.t-k.b,te,Me),Ze=Math.max(0,_-He),Ie=Math.max(0,i-qe);if(Ze){var Be=(q+J)/Ze;Be>1&&(q/=Be,J/=Be)}if(Ie){var ze=(ye+se)/Ie;ze>1&&(ye/=ze,se/=ze)}if(l.l=Math.round(q)+y.l,l.r=Math.round(J)+y.r,l.t=Math.round(se)+y.t,l.b=Math.round(ye)+y.b,l.p=Math.round(k.pad),l.w=Math.round(_)-l.l-l.r,l.h=Math.round(i)-l.t-l.b,!R._replotting&&(o.didMarginChange(n,l)||ne(I))){"_redrawFromAutoMarginCount"in R?R._redrawFromAutoMarginCount++:R._redrawFromAutoMarginCount=1;var st=3*(1+Object.keys(ke).length);if(R._redrawFromAutoMarginCount<st)return g.call("_doPlot",I);R._size=n,c.warn("Too many auto-margin redraws.")}ie(I)};function ie(I){var R=p.list(I,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(_){for(var i=0;i<R.length;i++){var l=R[i][_];l&&l()}})}var re=["l","r","t","b","p","w","h"];o.didMarginChange=function(I,R){for(var _=0;_<re.length;_++){var i=re[_],l=I[i],k=R[i];if(!u(l)||Math.abs(k-l)>1)return!0}return!1},o.graphJson=function(I,R,_,i,l,k){(l&&R&&!I._fullData||l&&!R&&!I._fullLayout)&&o.supplyDefaults(I);var y=l?I._fullData:I.data,n=l?I._fullLayout:I.layout,q=(I._transitionData||{})._frames;function J(we,ke){if(typeof we=="function")return ke?"_function_":null;if(c.isPlainObject(we)){var ue={},Me;return Object.keys(we).sort().forEach(function($){if(["_","["].indexOf($.charAt(0))===-1){if(typeof we[$]=="function"){ke&&(ue[$]="_function");return}if(_==="keepdata"){if($.substr($.length-3)==="src")return}else if(_==="keepstream"){if(Me=we[$+"src"],typeof Me=="string"&&Me.indexOf(":")>0&&!c.isPlainObject(we.stream))return}else if(_!=="keepall"&&(Me=we[$+"src"],typeof Me=="string"&&Me.indexOf(":")>0))return;ue[$]=J(we[$],ke)}}),ue}var Ne=Array.isArray(we),Ce=c.isTypedArray(we);if((Ne||Ce)&&we.dtype&&we.shape){var Le=we.bdata;return J({dtype:we.dtype,shape:we.shape,bdata:c.isArrayBuffer(Le)?m.encode(Le):Le},ke)}return Ne?we.map(function($){return J($,ke)}):Ce?c.simpleMap(we,c.identity):c.isJSDate(we)?c.ms2DateTimeLocal(+we):we}var se={data:(y||[]).map(function(we){var ke=J(we);return R&&delete ke.fit,ke})};if(!R&&(se.layout=J(n),l)){var ye=n._size;se.layout.computed={margin:{b:ye.b,l:ye.l,r:ye.r,t:ye.t}}}return q&&(se.frames=J(q)),k&&(se.config=J(I._context,!0)),i==="object"?se:JSON.stringify(se)},o.modifyFrames=function(I,R){var _,i,l,k=I._transitionData._frames,y=I._transitionData._frameHash;for(_=0;_<R.length;_++)switch(i=R[_],i.type){case"replace":l=i.value;var n=(k[i.index]||{}).name,q=l.name;k[i.index]=y[q]=l,q!==n&&(delete y[n],y[q]=l);break;case"insert":l=i.value,y[l.name]=l,k.splice(i.index,0,l);break;case"delete":l=k[i.index],delete y[l.name],k.splice(i.index,1);break}return Promise.resolve()},o.computeFrame=function(I,R){var _=I._transitionData._frameHash,i,l,k,y;if(!R)throw new Error("computeFrame must be given a string frame name");var n=_[R.toString()];if(!n)return!1;for(var q=[n],J=[n.name];n.baseframe&&(n=_[n.baseframe.toString()])&&J.indexOf(n.name)===-1;)q.push(n),J.push(n.name);for(var se={};n=q.pop();)if(n.layout&&(se.layout=o.extendLayout(se.layout,n.layout)),n.data){if(se.data||(se.data=[]),l=n.traces,!l)for(l=[],i=0;i<n.data.length;i++)l[i]=i;for(se.traces||(se.traces=[]),i=0;i<n.data.length;i++)k=l[i],k!=null&&(y=se.traces.indexOf(k),y===-1&&(y=se.data.length,se.traces[y]=k),se.data[y]=o.extendTrace(se.data[y],n.data[i]))}return se},o.recomputeFrameHash=function(I){for(var R=I._transitionData._frameHash={},_=I._transitionData._frames,i=0;i<_.length;i++){var l=_[i];l&&l.name&&(R[l.name]=l)}},o.extendObjectWithContainers=function(I,R,_){var i,l,k,y,n,q,J,se,ye=c.extendDeepNoArrays({},R||{}),we=c.expandObjectPaths(ye),ke={};if(_&&_.length)for(k=0;k<_.length;k++)i=c.nestedProperty(we,_[k]),l=i.get(),l===void 0?c.nestedProperty(ke,_[k]).set(null):(i.set(null),c.nestedProperty(ke,_[k]).set(l));if(I=c.extendDeepNoArrays(I||{},we),_&&_.length){for(k=0;k<_.length;k++)if(n=c.nestedProperty(ke,_[k]),J=n.get(),!!J){for(q=c.nestedProperty(I,_[k]),se=q.get(),Array.isArray(se)||(se=[],q.set(se)),y=0;y<J.length;y++){var ue=J[y];ue===null?se[y]=null:se[y]=o.extendObjectWithContainers(se[y],ue)}q.set(se)}}return I},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=g.layoutArrayContainers,o.extendTrace=function(I,R){return o.extendObjectWithContainers(I,R,o.dataArrayContainers)},o.extendLayout=function(I,R){return o.extendObjectWithContainers(I,R,o.layoutArrayContainers)},o.transition=function(I,R,_,i,l,k){var y={redraw:l.redraw},n={},q=[];return y.prepareFn=function(){for(var J=Array.isArray(R)?R.length:0,se=i.slice(0,J),ye=0;ye<se.length;ye++){var we=se[ye],ke=I._fullData[we],ue=ke._module;if(ue){if(ue.animatable){var Me=ue.basePlotModule.name;n[Me]||(n[Me]=[]),n[Me].push(we)}I.data[se[ye]]=o.extendTrace(I.data[se[ye]],R[ye])}}var Ne=c.expandObjectPaths(c.extendDeepNoArrays({},_)),Ce=/^[xy]axis[0-9]*$/;for(var Le in Ne)Ce.test(Le)&&delete Ne[Le].range;o.extendLayout(I.layout,Ne),delete I.calcdata,o.supplyDefaults(I),o.doCalcdata(I);var $=c.expandObjectPaths(_);if($){var ce=I._fullLayout._plots;for(var me in ce){var pe=ce[me],xe=pe.xaxis,Oe=pe.yaxis,Xe=xe.range.slice(),$e=Oe.range.slice(),pt=null,rt=null,kt=null,Mt=null;Array.isArray($[xe._name+".range"])?pt=$[xe._name+".range"].slice():Array.isArray(($[xe._name]||{}).range)&&(pt=$[xe._name].range.slice()),Array.isArray($[Oe._name+".range"])?rt=$[Oe._name+".range"].slice():Array.isArray(($[Oe._name]||{}).range)&&(rt=$[Oe._name].range.slice()),Xe&&pt&&(xe.r2l(Xe[0])!==xe.r2l(pt[0])||xe.r2l(Xe[1])!==xe.r2l(pt[1]))&&(kt={xr0:Xe,xr1:pt}),$e&&rt&&(Oe.r2l($e[0])!==Oe.r2l(rt[0])||Oe.r2l($e[1])!==Oe.r2l(rt[1]))&&(Mt={yr0:$e,yr1:rt}),(kt||Mt)&&q.push(c.extendFlat({plotinfo:pe},kt,Mt))}}return Promise.resolve()},y.runFn=function(J){var se,ye=I._fullLayout._basePlotModules,we=q.length,ke;if(_)for(ke=0;ke<ye.length;ke++)ye[ke].transitionAxes&&ye[ke].transitionAxes(I,q,k,J);we?(se=c.extendFlat({},k),se.duration=0,delete n.cartesian):se=k;for(var ue in n){var Me=n[ue],Ne=I._fullData[Me[0]]._module;Ne.basePlotModule.plot(I,Me,se,J)}},oe(I,k,y)},o.transitionFromReact=function(I,R,_,i){var l=I._fullLayout,k=l.transition,y={},n=[];return y.prepareFn=function(){var q=l._plots;y.redraw=!1,R.anim==="some"&&(y.redraw=!0),_.anim==="some"&&(y.redraw=!0);for(var J in q){var se=q[J],ye=se.xaxis,we=se.yaxis,ke=i[ye._name].range.slice(),ue=i[we._name].range.slice(),Me=ye.range.slice(),Ne=we.range.slice();ye.setScale(),we.setScale();var Ce=null,Le=null;(ye.r2l(ke[0])!==ye.r2l(Me[0])||ye.r2l(ke[1])!==ye.r2l(Me[1]))&&(Ce={xr0:ke,xr1:Me}),(we.r2l(ue[0])!==we.r2l(Ne[0])||we.r2l(ue[1])!==we.r2l(Ne[1]))&&(Le={yr0:ue,yr1:Ne}),(Ce||Le)&&n.push(c.extendFlat({plotinfo:se},Ce,Le))}return Promise.resolve()},y.runFn=function(q){for(var J=I._fullData,se=I._fullLayout,ye=se._basePlotModules,we,ke,ue,Me=[],Ne=0;Ne<J.length;Ne++)Me.push(Ne);function Ce(){if(I._fullLayout)for(var $=0;$<ye.length;$++)ye[$].transitionAxes&&ye[$].transitionAxes(I,n,we,q)}function Le(){if(I._fullLayout)for(var $=0;$<ye.length;$++)ye[$].plot(I,ue,ke,q)}n.length&&R.anim?k.ordering==="traces first"?(we=c.extendFlat({},k,{duration:0}),ue=Me,ke=k,setTimeout(Ce,k.duration),Le()):(we=k,ue=null,ke=c.extendFlat({},k,{duration:0}),setTimeout(Le,we.duration),Ce()):n.length?(we=k,Ce()):R.anim&&(ue=Me,ke=k,Le())},oe(I,k,y)};function oe(I,R,_){var i=!1;function l(ye){var we=Promise.resolve();if(!ye)return we;for(;ye.length;)we=we.then(ye.shift());return we}function k(ye){if(ye)for(;ye.length;)ye.shift()}function y(){return I.emit("plotly_transitioning",[]),new Promise(function(ye){I._transitioning=!0,R.duration>0&&(I._transitioningWithDuration=!0),I._transitionData._interruptCallbacks.push(function(){i=!0}),_.redraw&&I._transitionData._interruptCallbacks.push(function(){return g.call("redraw",I)}),I._transitionData._interruptCallbacks.push(function(){I.emit("plotly_transitioninterrupted",[])});var we=0,ke=0;function ue(){return we++,function(){ke++,!i&&ke===we&&n(ye)}}_.runFn(ue),setTimeout(ue())})}function n(ye){if(I._transitionData)return k(I._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(_.redraw)return g.call("redraw",I)}).then(function(){I._transitioning=!1,I._transitioningWithDuration=!1,I.emit("plotly_transitioned",[])}).then(ye)}function q(){if(I._transitionData)return I._transitioning=!1,l(I._transitionData._interruptCallbacks)}var J=[o.previousPromises,q,_.prepareFn,o.rehover,o.reselect,y],se=c.syncOrAsync(J,I);return(!se||!se.then)&&(se=Promise.resolve()),se.then(function(){return I})}o.doCalcdata=function(I,R){var _=p.list(I),i=I._fullData,l=I._fullLayout,k,y,n,q,J=new Array(i.length),se=(I.calcdata||[]).slice();for(I.calcdata=J,l._numBoxes=0,l._numViolins=0,l._violinScaleGroupStats={},I._hmpixcount=0,I._hmlumcount=0,l._piecolormap={},l._sunburstcolormap={},l._treemapcolormap={},l._iciclecolormap={},l._funnelareacolormap={},n=0;n<i.length;n++)if(Array.isArray(R)&&R.indexOf(n)===-1){J[n]=se[n];continue}for(n=0;n<i.length;n++)k=i[n],k._arrayAttrs=f.findArrayAttributes(k),k._extremes={};var ye=l._subplots.polar||[];for(n=0;n<ye.length;n++)_.push(l[ye[n]].radialaxis,l[ye[n]].angularaxis);for(var we in l._colorAxes){var ke=l[we];ke.cauto!==!1&&(delete ke.cmin,delete ke.cmax)}var ue=!1;function Me(Le){if(k=i[Le],y=k._module,k.visible===!0&&k.transforms){if(y&&y.calc){var $=y.calc(I,k);$[0]&&$[0].t&&$[0].t._scene&&delete $[0].t._scene.dirty}for(q=0;q<k.transforms.length;q++){var ce=k.transforms[q];y=transformsRegistry[ce.type],y&&y.calcTransform&&(k._hasCalcTransform=!0,ue=!0,y.calcTransform(I,k,ce))}}}function Ne(Le,$){if(k=i[Le],y=k._module,!!y.isContainer===$){var ce=[];if(k.visible===!0&&k._length!==0){delete k._indexToPoints;var me=k.transforms||[];for(q=me.length-1;q>=0;q--)if(me[q].enabled){k._indexToPoints=me[q]._indexToPoints;break}y&&y.calc&&(ce=y.calc(I,k))}(!Array.isArray(ce)||!ce[0])&&(ce=[{x:A,y:A}]),ce[0].t||(ce[0].t={}),ce[0].trace=k,J[Le]=ce}}for(de(_,i,l),n=0;n<i.length;n++)Ne(n,!0);for(n=0;n<i.length;n++)Me(n);for(ue&&de(_,i,l),n=0;n<i.length;n++)Ne(n,!0);for(n=0;n<i.length;n++)Ne(n,!1);he(I);var Ce=ee(_,I);if(Ce.length){for(l._numBoxes=0,l._numViolins=0,n=0;n<Ce.length;n++)Ne(Ce[n],!0);for(n=0;n<Ce.length;n++)Ne(Ce[n],!1);he(I)}g.getComponentMethod("fx","calc")(I),g.getComponentMethod("errorbars","calc")(I)};var W=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function ee(I,R){var _=[],i,l,k,y,n;function q(ut,yt,et){var tt=yt._id.charAt(0);if(ut==="histogram2dcontour"){var ct=yt._counterAxes[0],le=p.getFromId(R,ct),ge=tt==="x"||ct==="x"&&le.type==="category",_e=tt==="y"||ct==="y"&&le.type==="category";return function(Te,He){return Te===0||He===0||ge&&Te===et[He].length-1||_e&&He===et.length-1?-1:(tt==="y"?He:Te)-1}}else return function(Te,He){return tt==="y"?He:Te}}var J={min:function(ut){return c.aggNums(Math.min,null,ut)},max:function(ut){return c.aggNums(Math.max,null,ut)},sum:function(ut){return c.aggNums(function(yt,et){return yt+et},null,ut)},total:function(ut){return c.aggNums(function(yt,et){return yt+et},null,ut)},mean:function(ut){return c.mean(ut)},"geometric mean":function(ut){return c.geometricMean(ut)},median:function(ut){return c.median(ut)}};function se(ut,yt){return ut[1]-yt[1]}function ye(ut,yt){return yt[1]-ut[1]}for(i=0;i<I.length;i++){var we=I[i];if(we.type==="category"){var ke=we.categoryorder.match(W);if(ke){var ue=ke[1],Me=ke[2],Ne=we._id.charAt(0),Ce=Ne==="x",Le=[];for(l=0;l<we._categories.length;l++)Le.push([we._categories[l],[]]);for(l=0;l<we._traceIndices.length;l++){var $=we._traceIndices[l],ce=R._fullData[$];if(ce.visible===!0){var me=ce.type;g.traceIs(ce,"histogram")&&(delete ce._xautoBinFinished,delete ce._yautoBinFinished);var pe=me==="splom",xe=me==="scattergl",Oe=R.calcdata[$];for(k=0;k<Oe.length;k++){var Xe=Oe[k],$e,pt;if(pe){var rt=ce._axesDim[we._id];if(!Ce){var kt=ce._diag[rt][0];kt&&(we=R._fullLayout[p.id2name(kt)])}var Mt=Xe.trace.dimensions[rt].values;for(y=0;y<Mt.length;y++)for($e=we._categoriesMap[Mt[y]],n=0;n<Xe.trace.dimensions.length;n++)if(n!==rt){var Dt=Xe.trace.dimensions[n];Le[$e][1].push(Dt.values[y])}}else if(xe){for(y=0;y<Xe.t.x.length;y++)Ce?($e=Xe.t.x[y],pt=Xe.t.y[y]):($e=Xe.t.y[y],pt=Xe.t.x[y]),Le[$e][1].push(pt);Xe.t&&Xe.t._scene&&delete Xe.t._scene.dirty}else if(Xe.hasOwnProperty("z")){pt=Xe.z;var lt=q(ce.type,we,pt);for(y=0;y<pt.length;y++)for(n=0;n<pt[y].length;n++)$e=lt(n,y),$e+1&&Le[$e][1].push(pt[y][n])}else for($e=Xe.p,$e===void 0&&($e=Xe[Ne]),pt=Xe.s,pt===void 0&&(pt=Xe.v),pt===void 0&&(pt=Ce?Xe.y:Xe.x),Array.isArray(pt)||(pt===void 0?pt=[]:pt=[pt]),y=0;y<pt.length;y++)Le[$e][1].push(pt[y])}}}we._categoriesValue=Le;var wt=[];for(l=0;l<Le.length;l++)wt.push([Le[l][0],J[ue](Le[l][1])]);wt.sort(Me==="descending"?ye:se),we._categoriesAggregatedValue=wt,we._initialCategories=wt.map(function(ut){return ut[0]}),_=_.concat(we.sortByInitialCategories())}}}return _}function de(I,R,_){var i={};function l(q){q.clearCalc(),q.type==="multicategory"&&q.setupMultiCategory(R),i[q._id]=1}c.simpleMap(I,l);for(var k=_._axisMatchGroups||[],y=0;y<k.length;y++)for(var n in k[y])i[n]||l(_[p.id2name(n)])}function he(I){var R=I._fullLayout,_=R._visibleModules,i={},l,k,y;for(k=0;k<_.length;k++){var n=_[k],q=n.crossTraceCalc;if(q){var J=n.basePlotModule.name;i[J]?c.pushUnique(i[J],q):i[J]=[q]}}for(y in i){var se=i[y],ye=R._subplots[y];if(Array.isArray(ye))for(l=0;l<ye.length;l++){var we=ye[l],ke=y==="cartesian"?R._plots[we]:R[we];for(k=0;k<se.length;k++)se[k](I,ke,we)}else for(k=0;k<se.length;k++)se[k](I)}}o.rehover=function(I){I._fullLayout._rehover&&I._fullLayout._rehover()},o.redrag=function(I){I._fullLayout._redrag&&I._fullLayout._redrag()},o.reselect=function(I){var R=I._fullLayout,_=(I.layout||{}).selections,i=R._previousSelections;R._previousSelections=_;var l=R._reselect||JSON.stringify(_)!==JSON.stringify(i);g.getComponentMethod("selections","reselect")(I,l)},o.generalUpdatePerTraceModule=function(I,R,_,i){var l=R.traceHash,k={},y;for(y=0;y<_.length;y++){var n=_[y],q=n[0].trace;q.visible&&(k[q.type]=k[q.type]||[],k[q.type].push(n))}for(var J in l)if(!k[J]){var se=l[J][0],ye=se[0].trace;ye.visible=!1,k[J]=[se]}for(var we in k){var ke=k[we],ue=ke[0][0].trace._module;ue.plot(I,R,c.filterVisible(ke),i)}R.traceHash=k},o.plotBasePlot=function(I,R,_,i,l){var k=g.getModule(I),y=b(R.calcdata,k)[0];k.plot(R,y,i,l)},o.cleanBasePlot=function(I,R,_,i,l){var k=l._has&&l._has(I),y=_._has&&_._has(I);k&&!y&&l["_"+I+"layer"].selectAll("g.trace").remove()}}}),Aa=Ke({"src/constants/xmlns_namespaces.js"(M){"use strict";M.xmlns="http://www.w3.org/2000/xmlns/",M.svg="http://www.w3.org/2000/svg",M.xlink="http://www.w3.org/1999/xlink",M.svgAttrs={xmlns:M.svg,"xmlns:xlink":M.xlink}}}),zn=Ke({"src/constants/alignment.js"(M,N){"use strict";N.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}}),jn=Ke({"src/lib/svg_text_utils.js"(M){"use strict";var N=Yr(),t=Zt(),v=t.strTranslate,u=Aa(),m=zn().LINE_SPACING,g=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;M.convertToTspans=function(ne,ie,re){var oe=ne.text(),W=!ne.attr("data-notex")&&ie&&ie._context.typesetMath&&typeof MathJax<"u"&&oe.match(g),ee=N.select(ne.node().parentNode);if(ee.empty())return;var de=ne.attr("class")?ne.attr("class").split(" ")[0]:"text";de+="-math",ee.selectAll("svg."+de).remove(),ee.selectAll("g."+de+"-group").remove(),ne.style("display",null).attr({"data-unformatted":oe,"data-math":"N"});function he(){ee.empty()||(de=ne.attr("class")+"-math",ee.select("svg."+de).remove()),ne.text("").style("white-space","pre");var I=X(ne.node(),oe);I&&ne.style("pointer-events","all"),M.positionText(ne),re&&re.call(ne)}return W?(ie&&ie._promises||[]).push(new Promise(function(I){ne.style("display","none");var R=parseInt(ne.node().style.fontSize,10),_={fontSize:R};A(W[2],_,function(i,l,k){ee.selectAll("svg."+de).remove(),ee.selectAll("g."+de+"-group").remove();var y=i&&i.select("svg");if(!y||!y.node()){he(),I();return}var n=ee.append("g").classed(de+"-group",!0).attr({"pointer-events":"none","data-unformatted":oe,"data-math":"Y"});n.node().appendChild(y.node()),l&&l.node()&&y.node().insertBefore(l.node().cloneNode(!0),y.node().firstChild);var q=k.width,J=k.height;y.attr({class:de,height:J,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var se=ne.node().style.fill||"black",ye=y.select("g");ye.attr({fill:se,stroke:se});var we=ye.node().getBoundingClientRect(),ke=we.width,ue=we.height;(ke>q||ue>J)&&(y.style("overflow","hidden"),we=y.node().getBoundingClientRect(),ke=we.width,ue=we.height);var Me=+ne.attr("x"),Ne=+ne.attr("y"),Ce=R||ne.node().getBoundingClientRect().height,Le=-Ce/4;if(de[0]==="y")n.attr({transform:"rotate("+[-90,Me,Ne]+")"+v(-ke/2,Le-ue/2)});else if(de[0]==="l")Ne=Le-ue/2;else if(de[0]==="a"&&de.indexOf("atitle")!==0)Me=0,Ne=Le;else{var $=ne.attr("text-anchor");Me=Me-ke*($==="middle"?.5:$==="end"?1:0),Ne=Ne+Le-ue/2}y.attr({x:Me,y:Ne}),re&&re.call(ne,n),I(n)})})):he(),ne};var f=/(<|&lt;|&#60;)/g,w=/(>|&gt;|&#62;)/g;function c(ne){return ne.replace(f,"\\lt ").replace(w,"\\gt ")}var r=[["$","$"],["\\(","\\)"]];function A(ne,ie,re){var oe=parseInt((MathJax.version||"").split(".")[0]);if(oe!==2&&oe!==3){t.warn("No MathJax version:",MathJax.version);return}var W,ee,de,he,I=function(){return ee=t.extendDeepAll({},MathJax.Hub.config),de=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:r},displayAlign:"left"})},R=function(){ee=t.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=r},_=function(){if(W=MathJax.Hub.config.menuSettings.renderer,W!=="SVG")return MathJax.Hub.setRenderer("SVG")},i=function(){W=MathJax.config.startup.output,W!=="svg"&&(MathJax.config.startup.output="svg")},l=function(){var se="math-output-"+t.randstr({},64);he=N.select("body").append("div").attr({id:se}).style({visibility:"hidden",position:"absolute","font-size":ie.fontSize+"px"}).text(c(ne));var ye=he.node();return oe===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},k=function(){var se=he.select(oe===2?".MathJax_SVG":".MathJax"),ye=!se.empty()&&he.select("svg").node();if(!ye)t.log("There was an error in the tex syntax.",ne),re();else{var we=ye.getBoundingClientRect(),ke;oe===2?ke=N.select("body").select("#MathJax_SVG_glyphs"):ke=se.select("defs"),re(se,ke,we)}he.remove()},y=function(){if(W!=="SVG")return MathJax.Hub.setRenderer(W)},n=function(){W!=="svg"&&(MathJax.config.startup.output=W)},q=function(){return de!==void 0&&(MathJax.Hub.processSectionDelay=de),MathJax.Hub.Config(ee)},J=function(){MathJax.config=ee};oe===2?MathJax.Hub.Queue(I,_,l,k,y,q):oe===3&&(R(),i(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){l(),k(),n(),J()}))}var p={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},E={sub:"0.3em",sup:"-0.6em"},S={sub:"-0.21em",sup:"0.42em"},F="\u200B",x=["http:","https:","mailto:","",void 0,":"],b=M.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,a=/<(\/?)([^ >]*)(\s+(.*))?>/i,o=/<br(\s+.*)?>/i;M.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,C=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,z=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(ne,ie){if(!ne)return null;var re=ne.match(ie),oe=re&&(re[3]||re[4]);return oe&&U(oe)}var O=/(^|;)\s*color:/;M.plainText=function(ne,ie){ie=ie||{};for(var re=ie.len!==void 0&&ie.len!==-1?ie.len:1/0,oe=ie.allowedTags!==void 0?ie.allowedTags:["br"],W="...",ee=W.length,de=ne.split(h),he=[],I="",R=0,_=0;_<de.length;_++){var i=de[_],l=i.match(a),k=l&&l[2].toLowerCase();if(k)oe.indexOf(k)!==-1&&(he.push(i),I=k);else{var y=i.length;if(R+y<re)he.push(i),R+=y;else if(R<re){var n=re-R;I&&(I!=="br"||n<=ee||y<=ee)&&he.pop(),re>ee?he.push(i.substr(0,n-ee)+W):he.push(i.substr(0,n));break}I=""}}return he.join("")};var D={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},d=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function U(ne){return ne.replace(d,function(ie,re){var oe;return re.charAt(0)==="#"?oe=B(re.charAt(1)==="x"?parseInt(re.substr(2),16):parseInt(re.substr(1),10)):oe=D[re],oe||ie})}M.convertEntities=U;function B(ne){if(!(ne>1114111)){var ie=String.fromCodePoint;if(ie)return ie(ne);var re=String.fromCharCode;return ne<=65535?re(ne):re((ne>>10)+55232,ne%1024+56320)}}function X(ne,ie){ie=ie.replace(b," ");var re=!1,oe=[],W,ee=-1;function de(){ee++;var ue=document.createElementNS(u.svg,"tspan");N.select(ue).attr({class:"line",dy:ee*m+"em"}),ne.appendChild(ue),W=ue;var Me=oe;if(oe=[{node:ue}],Me.length>1)for(var Ne=1;Ne<Me.length;Ne++)he(Me[Ne])}function he(ue){var Me=ue.type,Ne={},Ce;if(Me==="a"){Ce="a";var Le=ue.target,$=ue.href,ce=ue.popup;$&&(Ne={"xlink:xlink:show":Le==="_blank"||Le.charAt(0)!=="_"?"new":"replace",target:Le,"xlink:xlink:href":$},ce&&(Ne.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ce+'");return false;'))}else Ce="tspan";ue.style&&(Ne.style=ue.style);var me=document.createElementNS(u.svg,Ce);if(Me==="sup"||Me==="sub"){I(W,F),W.appendChild(me);var pe=document.createElementNS(u.svg,"tspan");I(pe,F),N.select(pe).attr("dy",S[Me]),Ne.dy=E[Me],W.appendChild(me),W.appendChild(pe)}else W.appendChild(me);N.select(me).attr(Ne),W=ue.node=me,oe.push(ue)}function I(ue,Me){ue.appendChild(document.createTextNode(Me))}function R(ue){if(oe.length===1){t.log("Ignoring unexpected end tag </"+ue+">.",ie);return}var Me=oe.pop();ue!==Me.type&&t.log("Start tag <"+Me.type+"> doesnt match end tag <"+ue+">. Pretending it did match.",ie),W=oe[oe.length-1].node}var _=o.test(ie);_?de():(W=ne,oe=[{node:ne}]);for(var i=ie.split(h),l=0;l<i.length;l++){var k=i[l],y=k.match(a),n=y&&y[2].toLowerCase(),q=p[n];if(n==="br")de();else if(q===void 0)I(W,U(k));else if(y[1])R(n);else{var J=y[4],se={type:n},ye=L(J,T);if(ye?(ye=ye.replace(O,"$1 fill:"),q&&(ye+=";"+q)):q&&(ye=q),ye&&(se.style=ye),n==="a"){re=!0;var we=L(J,C);if(we){var ke=K(we);ke&&(se.href=ke,se.target=L(J,z)||"_blank",se.popup=L(J,Y))}}he(se)}}return re}function K(ne){var ie=encodeURI(decodeURI(ne)),re=document.createElement("a"),oe=document.createElement("a");re.href=ne,oe.href=ie;var W=re.protocol,ee=oe.protocol;return x.indexOf(W)!==-1&&x.indexOf(ee)!==-1?ie:""}M.sanitizeHTML=function(ie){ie=ie.replace(b," ");for(var re=document.createElement("p"),oe=re,W=[],ee=ie.split(h),de=0;de<ee.length;de++){var he=ee[de],I=he.match(a),R=I&&I[2].toLowerCase();if(R in p)if(I[1])W.length&&(oe=W.pop());else{var _=I[4],i=L(_,T),l=i?{style:i}:{};if(R==="a"){var k=L(_,C);if(k){var y=K(k);if(y){l.href=y;var n=L(_,z);n&&(l.target=n)}}}var q=document.createElement(R);oe.appendChild(q),N.select(q).attr(l),oe=q,W.push(q)}else oe.appendChild(document.createTextNode(U(he)))}var J="innerHTML";return re[J]},M.lineCount=function(ie){return ie.selectAll("tspan.line").size()||1},M.positionText=function(ie,re,oe){return ie.each(function(){var W=N.select(this);function ee(I,R){return R===void 0?(R=W.attr(I),R===null&&(W.attr(I,0),R=0)):W.attr(I,R),R}var de=ee("x",re),he=ee("y",oe);this.nodeName==="text"&&W.selectAll("tspan.line").attr({x:de,y:he})})};function H(ne,ie,re){var oe=re.horizontalAlign,W=re.verticalAlign||"top",ee=ne.node().getBoundingClientRect(),de=ie.node().getBoundingClientRect(),he,I,R;return W==="bottom"?I=function(){return ee.bottom-he.height}:W==="middle"?I=function(){return ee.top+(ee.height-he.height)/2}:I=function(){return ee.top},oe==="right"?R=function(){return ee.right-he.width}:oe==="center"?R=function(){return ee.left+(ee.width-he.width)/2}:R=function(){return ee.left},function(){he=this.node().getBoundingClientRect();var _=R()-de.left,i=I()-de.top,l=re.gd||{};if(re.gd){l._fullLayout._calcInverseTransform(l);var k=t.apply3DTransform(l._fullLayout._invTransform)(_,i);_=k[0],i=k[1]}return this.style({top:i+"px",left:_+"px","z-index":1e3}),this}}var te="1px ";M.makeTextShadow=function(ne){var ie=te,re=te,oe=te;return ie+re+oe+ne+", -"+ie+"-"+re+oe+ne+", "+ie+"-"+re+oe+ne+", -"+ie+re+oe+ne},M.makeEditable=function(ne,ie){var re=ie.gd,oe=ie.delegate,W=N.dispatch("edit","input","cancel"),ee=oe||ne;if(ne.style({"pointer-events":oe?"none":"all"}),ne.size()!==1)throw new Error("boo");function de(){I(),ne.style({opacity:0});var R=ee.attr("class"),_;R?_="."+R.split(" ")[0]+"-math-group":_="[class*=-math-group]",_&&N.select(ne.node().parentNode).select(_).style({opacity:0})}function he(R){var _=R.node(),i=document.createRange();i.selectNodeContents(_);var l=window.getSelection();l.removeAllRanges(),l.addRange(i),_.focus()}function I(){var R=N.select(re),_=R.select(".svg-container"),i=_.append("div"),l=ne.node().style,k=parseFloat(l.fontSize||12),y=ie.text;y===void 0&&(y=ne.attr("data-unformatted")),i.classed("plugin-editable editable",!0).style({position:"absolute","font-family":l.fontFamily||"Arial","font-size":k,color:ie.fill||l.fill||"black",opacity:1,"background-color":ie.background||"transparent",outline:"#ffffff33 1px solid",margin:[-k/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(y).call(H(ne,_,ie)).on("blur",function(){re._editing=!1,ne.text(this.textContent).style({opacity:1});var n=N.select(this).attr("class"),q;n?q="."+n.split(" ")[0]+"-math-group":q="[class*=-math-group]",q&&N.select(ne.node().parentNode).select(q).style({opacity:0});var J=this.textContent;N.select(this).transition().duration(0).remove(),N.select(document).on("mouseup",null),W.edit.call(ne,J)}).on("focus",function(){var n=this;re._editing=!0,N.select(document).on("mouseup",function(){if(N.event.target===n)return!1;document.activeElement===i.node()&&i.node().blur()})}).on("keyup",function(){N.event.which===27?(re._editing=!1,ne.style({opacity:1}),N.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),W.cancel.call(ne,this.textContent)):(W.input.call(ne,this.textContent),N.select(this).call(H(ne,_,ie)))}).on("keydown",function(){N.event.which===13&&this.blur()}).call(he)}return ie.immediate?de():ee.on("click",de),N.rebind(ne,W,"on")}}}),Yu=Ke({"src/components/colorscale/helpers.js"(M,N){"use strict";var t=Yr(),v=Un(),u=Zr(),m=Zt(),g=$r(),f=function(){return!1};function w(c){var r=c._colorAx,A=r||c,p={},E,S,F;for(S=0;S<constantAttrs.length;S++)F=constantAttrs[S],p[F]=A[F];if(r)for(E="c",S=0;S<letterAttrs.length;S++)F=letterAttrs[S],p[F]=A["c"+F];else{var x;for(S=0;S<letterAttrs.length;S++){if(F=letterAttrs[S],x="c"+F,x in A){p[F]=A[x];continue}x="z"+F,x in A&&(p[F]=A[x])}E=x.charAt(0)}return p._sync=function(b,h){var a=letterAttrs.indexOf(b)!==-1?E+b:b;A[a]=A["_"+a]=h},p}N.exports={extractOpts:w}}}),qi=Ke({"src/plots/cartesian/axis_format_attributes.js"(M,N){"use strict";var t=No(),v=t.FORMAT_LINK,u=t.DATE_FORMAT_LINK;function m(w,c){return{valType:"string",dflt:"",editType:"none",description:(c?g:f)("hover text",w)+["By default the values are formatted using "+(c?"generic number format":"`"+w+"axis.hoverformat`")+"."].join(" ")}}function g(w,c){return["Sets the "+w+" formatting rule"+(c?"for `"+c+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+v+"."].join(" ")}function f(w,c){return g(w,c)+[" And for dates see: "+u+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}N.exports={axisHoverFormat:m,descriptionOnlyNumbers:g,descriptionWithDates:f}}}),fa=Ke({"src/plots/cartesian/layout_attributes.js"(M,N){"use strict";var t=Sn(),v=sa(),u=_a().dash,m=wn().extendFlat,g=Pn().templatedArray,f=qi().descriptionWithDates,w=hn().ONEDAY,c=xn(),r=c.HOUR_PATTERN,A=c.WEEKDAY_PATTERN,p={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},E=m({},p,{values:p.values.slice().concat(["sync"])});function S(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var F={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"data_array",editType:"ticks"},h={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function a(O){var D={valType:"number",min:0,editType:"ticks"};return O||(D.dflt=5),D}function o(O){var D={valType:"number",min:0,editType:"ticks"};return O||(D.dflt=1),D}var T={valType:"color",dflt:v.defaultLine,editType:"ticks"},C={valType:"color",dflt:v.lightLine,editType:"ticks"};function z(O){var D={valType:"number",min:0,editType:"ticks"};return O||(D.dflt=1),D}var Y=m({},u,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};N.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:v.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:t({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"calc"},rangebreaks:g("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[A,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:w},editType:"calc"}),tickmode:E,nticks:S(),tick0:F,dtick:x,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:b,ticktext:{valType:"data_array",editType:"ticks"},ticks:h,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:a(),tickwidth:o(),tickcolor:T,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:m({},u,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:t({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:g("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:v.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:C,gridwidth:z(),griddash:Y,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},minor:{tickmode:p,nticks:S("minor"),tick0:F,dtick:x,tickvals:b,ticks:h,ticklen:a("minor"),tickwidth:o("minor"),tickcolor:T,gridcolor:C,gridwidth:z("minor"),griddash:Y,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}}),Bi=Ke({"src/plots/array_container_defaults.js"(M,N){"use strict";var t=Zt(),v=Pn();N.exports=function(m,g,f){var w=f.name,c=f.inclusionAttr||"visible",r=g[w],A=t.isArrayOrTypedArray(m[w])?m[w]:[],p=g[w]=[],E=v.arrayTemplater(g,w,c),S,F;for(S=0;S<A.length;S++){var x=A[S];t.isPlainObject(x)?F=E.newItem(x):(F=E.newItem({}),F[c]=!1),F._index=S,F[c]!==!1&&f.handleItemDefaults(x,F,g,f),p.push(F)}var b=E.defaultItems();for(S=0;S<b.length;S++)F=b[S],F._index=p.length,f.handleItemDefaults({},F,g,f,{}),p.push(F);if(t.isArrayOrTypedArray(r)){var h=Math.min(r.length,p.length);for(S=0;S<h;S++)t.relinkPrivateKeys(p[S],r[S])}return p}}}),Gn=Ke({"src/traces/scatter/subtypes.js"(M,N){"use strict";var t=Zt(),v=qn().isTypedArraySpec;N.exports={hasLines:function(u){return u.visible&&u.mode&&u.mode.indexOf("lines")!==-1},hasMarkers:function(u){return u.visible&&(u.mode&&u.mode.indexOf("markers")!==-1||u.type==="splom")},hasText:function(u){return u.visible&&u.mode&&u.mode.indexOf("text")!==-1},isBubble:function(u){var m=u.marker;return t.isPlainObject(m)&&(t.isArrayOrTypedArray(m.size)||v(m.size))}}}}),Zu=Ke({"src/traces/scatter/make_bubble_size_func.js"(M,N){"use strict";var t=Zr();N.exports=function(u,m){m||(m=2);var g=u.marker,f=g.sizeref||1,w=g.sizemin||0,c=g.sizemode==="area"?function(r){return Math.sqrt(r/f)}:function(r){return r/f};return function(r){var A=c(r/m);return t(A)&&A>0?Math.max(A,w):0}}}}),Ta=Ke({"src/components/fx/helpers.js"(M){"use strict";var N=Zt();M.getSubplot=function(f){return f.subplot||f.xaxis+f.yaxis||f.geo},M.isTraceInSubplots=function(f,w){if(f.type==="splom"){for(var c=f.xaxes||[],r=f.yaxes||[],A=0;A<c.length;A++)for(var p=0;p<r.length;p++)if(w.indexOf(c[A]+r[p])!==-1)return!0;return!1}return w.indexOf(M.getSubplot(f))!==-1},M.flat=function(f,w){for(var c=new Array(f.length),r=0;r<f.length;r++)c[r]=w;return c},M.p2c=function(f,w){for(var c=new Array(f.length),r=0;r<f.length;r++)c[r]=f[r].p2c(w);return c},M.getDistanceFunction=function(f,w,c,r){return f==="closest"?r||M.quadrature(w,c):f.charAt(0)==="x"?w:c},M.getClosest=function(f,w,c){if(c.index!==!1)c.index>=0&&c.index<f.length?c.distance=0:c.index=!1;else for(var r=1/0,A=f.length,p=0;p<A;p++)r=w(f[p]),r<=c.distance&&(c.index=p,c.distance=r);return c},M.inbox=function(f,w,c){return f*w<0||f===0?c:1/0},M.quadrature=function(f,w){return function(c){var r=f(c),A=w(c);return Math.sqrt(r*r+A*A)}},M.makeEventData=function(f,w,c){var r="index"in f?f.index:f.pointNumber,A={data:w._input,fullData:w,curveNumber:w.index,pointNumber:r};if(w._indexToPoints){var p=w._indexToPoints[r];p.length===1?A.pointIndex=p[0]:A.pointIndices=p}else A.pointIndex=r;return w._module.eventData?A=w._module.eventData(A,f,w,c,r):("xVal"in f?A.x=f.xVal:"x"in f&&(A.x=f.x),"yVal"in f?A.y=f.yVal:"y"in f&&(A.y=f.y),f.xa&&(A.xaxis=f.xa),f.ya&&(A.yaxis=f.ya),f.zLabelVal!==void 0&&(A.z=f.zLabelVal)),M.appendArrayPointValue(A,w,r),A},M.appendArrayPointValue=function(f,w,c){var r=w._arrayAttrs;if(r)for(var A=0;A<r.length;A++){var p=r[A],E=v(p);if(f[E]===void 0){var S=N.nestedProperty(w,p).get(),F=u(S,c);F!==void 0&&(f[E]=F)}}},M.appendArrayMultiPointValues=function(f,w,c){var r=w._arrayAttrs;if(r)for(var A=0;A<r.length;A++){var p=r[A],E=v(p);if(f[E]===void 0){for(var S=N.nestedProperty(w,p).get(),F=new Array(c.length),x=0;x<c.length;x++)F[x]=u(S,c[x]);f[E]=F}}};var t={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function v(f){return t[f]||f}function u(f,w){if(Array.isArray(w)){if(Array.isArray(f)&&Array.isArray(f[w[0]]))return f[w[0]][w[1]]}else return f[w]}var m={x:!0,y:!0},g={"x unified":!0,"y unified":!0};M.isUnifiedHover=function(f){return typeof f!="string"?!1:!!g[f]},M.isXYhover=function(f){return typeof f!="string"?!1:!!m[f]}}}),qo=Ke({"node_modules/parse-svg-path/index.js"(M,N){N.exports=u;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},v=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function u(f){var w=[];return f.replace(v,function(c,r,A){var p=r.toLowerCase();for(A=g(A),p=="m"&&A.length>2&&(w.push([r].concat(A.splice(0,2))),p="l",r=r=="m"?"l":"L");;){if(A.length==t[p])return A.unshift(r),w.push(A);if(A.length<t[p])throw new Error("malformed path data");w.push([r].concat(A.splice(0,t[p])))}}),w}var m=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function g(f){var w=f.match(m);return w?w.map(Number):[]}}}),Wu=Ke({"src/components/drawing/symbol_defs.js"(M,N){"use strict";var t=qo(),v=function(x,b){return b?Math.round(x*(b=Math.pow(10,b)))/b:Math.round(x)},u="M0,0Z",m=Math.sqrt(2),g=Math.sqrt(3),f=Math.PI,w=Math.cos,c=Math.sin;N.exports={circle:{n:0,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o="M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z";return h?F(b,h,o):o}},square:{n:1,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")}},diamond:{n:2,f:function(x,b,h){if(r(b))return u;var a=v(x*1.3,2);return F(b,h,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z")}},cross:{n:3,f:function(x,b,h){if(r(b))return u;var a=v(x*.4,2),o=v(x*1.2,2);return F(b,h,"M"+o+","+a+"H"+a+"V"+o+"H-"+a+"V"+a+"H-"+o+"V-"+a+"H-"+a+"V-"+o+"H"+a+"V-"+a+"H"+o+"Z")}},x:{n:4,f:function(x,b,h){if(r(b))return u;var a=v(x*.8/m,2),o="l"+a+","+a,T="l"+a+",-"+a,C="l-"+a+",-"+a,z="l-"+a+","+a;return F(b,h,"M0,"+a+o+T+C+T+C+z+C+z+o+z+o+"Z")}},"triangle-up":{n:5,f:function(x,b,h){if(r(b))return u;var a=v(x*2/g,2),o=v(x/2,2),T=v(x,2);return F(b,h,"M-"+a+","+o+"H"+a+"L0,-"+T+"Z")}},"triangle-down":{n:6,f:function(x,b,h){if(r(b))return u;var a=v(x*2/g,2),o=v(x/2,2),T=v(x,2);return F(b,h,"M-"+a+",-"+o+"H"+a+"L0,"+T+"Z")}},"triangle-left":{n:7,f:function(x,b,h){if(r(b))return u;var a=v(x*2/g,2),o=v(x/2,2),T=v(x,2);return F(b,h,"M"+o+",-"+a+"V"+a+"L-"+T+",0Z")}},"triangle-right":{n:8,f:function(x,b,h){if(r(b))return u;var a=v(x*2/g,2),o=v(x/2,2),T=v(x,2);return F(b,h,"M-"+o+",-"+a+"V"+a+"L"+T+",0Z")}},"triangle-ne":{n:9,f:function(x,b,h){if(r(b))return u;var a=v(x*.6,2),o=v(x*1.2,2);return F(b,h,"M-"+o+",-"+a+"H"+a+"V"+o+"Z")}},"triangle-se":{n:10,f:function(x,b,h){if(r(b))return u;var a=v(x*.6,2),o=v(x*1.2,2);return F(b,h,"M"+a+",-"+o+"V"+a+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(x,b,h){if(r(b))return u;var a=v(x*.6,2),o=v(x*1.2,2);return F(b,h,"M"+o+","+a+"H-"+a+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(x,b,h){if(r(b))return u;var a=v(x*.6,2),o=v(x*1.2,2);return F(b,h,"M-"+a+","+o+"V-"+a+"H"+o+"Z")}},pentagon:{n:13,f:function(x,b,h){if(r(b))return u;var a=v(x*.951,2),o=v(x*.588,2),T=v(-x,2),C=v(x*-.309,2),z=v(x*.809,2);return F(b,h,"M"+a+","+C+"L"+o+","+z+"H-"+o+"L-"+a+","+C+"L0,"+T+"Z")}},hexagon:{n:14,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x/2,2),T=v(x*g/2,2);return F(b,h,"M"+T+",-"+o+"V"+o+"L0,"+a+"L-"+T+","+o+"V-"+o+"L0,-"+a+"Z")}},hexagon2:{n:15,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x/2,2),T=v(x*g/2,2);return F(b,h,"M-"+o+","+T+"H"+o+"L"+a+",0L"+o+",-"+T+"H-"+o+"L-"+a+",0Z")}},octagon:{n:16,f:function(x,b,h){if(r(b))return u;var a=v(x*.924,2),o=v(x*.383,2);return F(b,h,"M-"+o+",-"+a+"H"+o+"L"+a+",-"+o+"V"+o+"L"+o+","+a+"H-"+o+"L-"+a+","+o+"V-"+o+"Z")}},star:{n:17,f:function(x,b,h){if(r(b))return u;var a=x*1.4,o=v(a*.225,2),T=v(a*.951,2),C=v(a*.363,2),z=v(a*.588,2),Y=v(-a,2),L=v(a*-.309,2),O=v(a*.118,2),D=v(a*.809,2),d=v(a*.382,2);return F(b,h,"M"+o+","+L+"H"+T+"L"+C+","+O+"L"+z+","+D+"L0,"+d+"L-"+z+","+D+"L-"+C+","+O+"L-"+T+","+L+"H-"+o+"L0,"+Y+"Z")}},hexagram:{n:18,f:function(x,b,h){if(r(b))return u;var a=v(x*.66,2),o=v(x*.38,2),T=v(x*.76,2);return F(b,h,"M-"+T+",0l-"+o+",-"+a+"h"+T+"l"+o+",-"+a+"l"+o+","+a+"h"+T+"l-"+o+","+a+"l"+o+","+a+"h-"+T+"l-"+o+","+a+"l-"+o+",-"+a+"h-"+T+"Z")}},"star-triangle-up":{n:19,f:function(x,b,h){if(r(b))return u;var a=v(x*g*.8,2),o=v(x*.8,2),T=v(x*1.6,2),C=v(x*4,2),z="A "+C+","+C+" 0 0 1 ";return F(b,h,"M-"+a+","+o+z+a+","+o+z+"0,-"+T+z+"-"+a+","+o+"Z")}},"star-triangle-down":{n:20,f:function(x,b,h){if(r(b))return u;var a=v(x*g*.8,2),o=v(x*.8,2),T=v(x*1.6,2),C=v(x*4,2),z="A "+C+","+C+" 0 0 1 ";return F(b,h,"M"+a+",-"+o+z+"-"+a+",-"+o+z+"0,"+T+z+a+",-"+o+"Z")}},"star-square":{n:21,f:function(x,b,h){if(r(b))return u;var a=v(x*1.1,2),o=v(x*2,2),T="A "+o+","+o+" 0 0 1 ";return F(b,h,"M-"+a+",-"+a+T+"-"+a+","+a+T+a+","+a+T+a+",-"+a+T+"-"+a+",-"+a+"Z")}},"star-diamond":{n:22,f:function(x,b,h){if(r(b))return u;var a=v(x*1.4,2),o=v(x*1.9,2),T="A "+o+","+o+" 0 0 1 ";return F(b,h,"M-"+a+",0"+T+"0,"+a+T+a+",0"+T+"0,-"+a+T+"-"+a+",0Z")}},"diamond-tall":{n:23,f:function(x,b,h){if(r(b))return u;var a=v(x*.7,2),o=v(x*1.4,2);return F(b,h,"M0,"+o+"L"+a+",0L0,-"+o+"L-"+a+",0Z")}},"diamond-wide":{n:24,f:function(x,b,h){if(r(b))return u;var a=v(x*1.4,2),o=v(x*.7,2);return F(b,h,"M0,"+o+"L"+a+",0L0,-"+o+"L-"+a+",0Z")}},hourglass:{n:25,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"H-"+a+"L"+a+",-"+a+"H-"+a+"Z")},noDot:!0},bowtie:{n:26,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"V-"+a+"L-"+a+","+a+"V-"+a+"Z")},noDot:!0},"circle-cross":{n:27,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x/m,2);return F(b,h,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(x,b,h){if(r(b))return u;var a=v(x*1.3,2);return F(b,h,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM0,-"+a+"V"+a+"M-"+a+",0H"+a)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(x,b,h){if(r(b))return u;var a=v(x*1.3,2),o=v(x*.65,2);return F(b,h,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(x,b,h){if(r(b))return u;var a=v(x*1.4,2);return F(b,h,"M0,"+a+"V-"+a+"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(x,b,h){if(r(b))return u;var a=v(x*1.2,2),o=v(x*.85,2);return F(b,h,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(x,b,h){if(r(b))return u;var a=v(x/2,2),o=v(x,2);return F(b,h,"M"+a+","+o+"V-"+o+"M"+(a-o)+",-"+o+"V"+o+"M"+o+","+a+"H-"+o+"M-"+o+","+(a-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(x,b,h){if(r(b))return u;var a=v(x*1.2,2),o=v(x*1.6,2),T=v(x*.8,2);return F(b,h,"M-"+a+","+T+"L0,0M"+a+","+T+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(x,b,h){if(r(b))return u;var a=v(x*1.2,2),o=v(x*1.6,2),T=v(x*.8,2);return F(b,h,"M-"+a+",-"+T+"L0,0M"+a+",-"+T+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(x,b,h){if(r(b))return u;var a=v(x*1.2,2),o=v(x*1.6,2),T=v(x*.8,2);return F(b,h,"M"+T+","+a+"L0,0M"+T+",-"+a+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(x,b,h){if(r(b))return u;var a=v(x*1.2,2),o=v(x*1.6,2),T=v(x*.8,2);return F(b,h,"M-"+T+","+a+"L0,0M-"+T+",-"+a+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(x,b,h){if(r(b))return u;var a=v(x*1.4,2);return F(b,h,"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(x,b,h){if(r(b))return u;var a=v(x*1.4,2);return F(b,h,"M0,"+a+"V-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(x,b,h){if(r(b))return u;var a=v(x,2);return F(b,h,"M"+a+","+a+"L-"+a+",-"+a)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x*2,2);return F(b,h,"M0,0L-"+a+","+o+"H"+a+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x*2,2);return F(b,h,"M0,0L-"+a+",-"+o+"H"+a+"Z")},noDot:!0},"arrow-left":{n:47,f:function(x,b,h){if(r(b))return u;var a=v(x*2,2),o=v(x,2);return F(b,h,"M0,0L"+a+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(x,b,h){if(r(b))return u;var a=v(x*2,2),o=v(x,2);return F(b,h,"M0,0L-"+a+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x*2,2);return F(b,h,"M-"+a+",0H"+a+"M0,0L-"+a+","+o+"H"+a+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(x,b,h){if(r(b))return u;var a=v(x,2),o=v(x*2,2);return F(b,h,"M-"+a+",0H"+a+"M0,0L-"+a+",-"+o+"H"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(x,b,h){if(r(b))return u;var a=v(x*2,2),o=v(x,2);return F(b,h,"M0,-"+o+"V"+o+"M0,0L"+a+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(x,b,h){if(r(b))return u;var a=v(x*2,2),o=v(x,2);return F(b,h,"M0,-"+o+"V"+o+"M0,0L-"+a+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(x,b,h){if(r(b))return u;var a=f/2.5,o=2*x*w(a),T=2*x*c(a);return F(b,h,"M0,0L"+-o+","+T+"L"+o+","+T+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(x,b,h){if(r(b))return u;var a=f/4,o=2*x*w(a),T=2*x*c(a);return F(b,h,"M0,0L"+-o+","+T+"A "+2*x+","+2*x+" 0 0 1 "+o+","+T+"Z")},backoff:.4,noDot:!0}};function r(x){return x===null}var A,p,E,S;function F(x,b,h){if((!x||x%360===0)&&!b)return h;if(E===x&&S===b&&A===h)return p;E=x,S=b,A=h;function a(K,H){var te=w(K),ne=c(K),ie=H[0],re=H[1]+(b||0);return[ie*te-re*ne,ie*ne+re*te]}for(var o=x/180*f,T=0,C=0,z=t(h),Y="",L=0;L<z.length;L++){var O=z[L],D=O[0],d=T,U=C;if(D==="M"||D==="L")T=+O[1],C=+O[2];else if(D==="m"||D==="l")T+=+O[1],C+=+O[2];else if(D==="H")T=+O[1];else if(D==="h")T+=+O[1];else if(D==="V")C=+O[1];else if(D==="v")C+=+O[1];else if(D==="A"){T=+O[1],C=+O[2];var B=a(o,[+O[6],+O[7]]);O[6]=B[0],O[7]=B[1],O[3]=+O[3]+x}(D==="H"||D==="V")&&(D="L"),(D==="h"||D==="v")&&(D="l"),(D==="m"||D==="l")&&(T-=d,C-=U);var X=a(o,[T,C]);(D==="H"||D==="V")&&(D="L"),(D==="M"||D==="L"||D==="m"||D==="l")&&(O[1]=X[0],O[2]=X[1]),O[0]=D,Y+=O[0]+O.slice(1).join(",")}return p=Y,Y}}}),un=Ke({"src/components/drawing/index.js"(M,N){"use strict";var t=Yr(),v=Zt(),u=v.numberFormat,m=Zr(),g=Un(),f=Er(),w=$r(),c=v.strTranslate,r=jn(),A=Aa(),p=zn(),E=p.LINE_SPACING,S=Ei().DESELECTDIM,F=Gn(),x=Zu(),b=Ta().appendArrayPointValue,h=N.exports={};h.font=function($,ce){var me=ce.variant,pe=ce.style,xe=ce.weight,Oe=ce.color,Xe=ce.size,$e=ce.family,pt=ce.shadow,rt=ce.lineposition,kt=ce.textcase;$e&&$.style("font-family",$e),Xe+1&&$.style("font-size",Xe+"px"),Oe&&$.call(w.fill,Oe),xe&&$.style("font-weight",xe),pe&&$.style("font-style",pe),me&&$.style("font-variant",me),kt&&$.style("text-transform",a(T(kt))),pt&&$.style("text-shadow",pt==="auto"?r.makeTextShadow(w.contrast(Oe)):a(pt)),rt&&$.style("text-decoration-line",a(C(rt)))};function a($){return $==="none"?void 0:$}var o={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function T($){return o[$]}function C($){return $.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}h.setPosition=function($,ce,me){$.attr("x",ce).attr("y",me)},h.setSize=function($,ce,me){$.attr("width",ce).attr("height",me)},h.setRect=function($,ce,me,pe,xe){$.call(h.setPosition,ce,me).call(h.setSize,pe,xe)},h.translatePoint=function($,ce,me,pe){var xe=me.c2p($.x),Oe=pe.c2p($.y);if(m(xe)&&m(Oe)&&ce.node())ce.node().nodeName==="text"?ce.attr("x",xe).attr("y",Oe):ce.attr("transform",c(xe,Oe));else return!1;return!0},h.translatePoints=function($,ce,me){$.each(function(pe){var xe=t.select(this);h.translatePoint(pe,xe,ce,me)})},h.hideOutsideRangePoint=function($,ce,me,pe,xe,Oe){ce.attr("display",me.isPtWithinRange($,xe)&&pe.isPtWithinRange($,Oe)?null:"none")},h.hideOutsideRangePoints=function($,ce){if(ce._hasClipOnAxisFalse){var me=ce.xaxis,pe=ce.yaxis;$.each(function(xe){var Oe=xe[0].trace,Xe=Oe.xcalendar,$e=Oe.ycalendar,pt=f.traceIs(Oe,"bar-like")?".bartext":".point,.textpoint";$.selectAll(pt).each(function(rt){h.hideOutsideRangePoint(rt,t.select(this),me,pe,Xe,$e)})})}},h.crispRound=function($,ce,me){return!ce||!m(ce)?me||0:$._context.staticPlot?ce:ce<1?1:Math.round(ce)},h.singleLineStyle=function($,ce,me,pe,xe){ce.style("fill","none");var Oe=((($||[])[0]||{}).trace||{}).line||{},Xe=me||Oe.width||0,$e=xe||Oe.dash||"";w.stroke(ce,pe||Oe.color),h.dashLine(ce,$e,Xe)},h.lineGroupStyle=function($,ce,me,pe){$.style("fill","none").each(function(xe){var Oe=(((xe||[])[0]||{}).trace||{}).line||{},Xe=ce||Oe.width||0,$e=pe||Oe.dash||"";t.select(this).call(w.stroke,me||Oe.color).call(h.dashLine,$e,Xe)})},h.dashLine=function($,ce,me){me=+me||0,ce=h.dashStyle(ce,me),$.style({"stroke-dasharray":ce,"stroke-width":me+"px"})},h.dashStyle=function($,ce){ce=+ce||1;var me=Math.max(ce,3);return $==="solid"?$="":$==="dot"?$=me+"px,"+me+"px":$==="dash"?$=3*me+"px,"+3*me+"px":$==="longdash"?$=5*me+"px,"+5*me+"px":$==="dashdot"?$=3*me+"px,"+me+"px,"+me+"px,"+me+"px":$==="longdashdot"&&($=5*me+"px,"+2*me+"px,"+me+"px,"+2*me+"px"),$};function z($,ce,me,pe){var xe=ce.fillpattern,Oe=ce.fillgradient,Xe=xe&&h.getPatternAttr(xe.shape,0,"");if(Xe){var $e=h.getPatternAttr(xe.bgcolor,0,null),pt=h.getPatternAttr(xe.fgcolor,0,null),rt=xe.fgopacity,kt=h.getPatternAttr(xe.size,0,8),Mt=h.getPatternAttr(xe.solidity,0,.3),Dt=ce.uid;h.pattern($,"point",me,Dt,Xe,kt,Mt,void 0,xe.fillmode,$e,pt,rt)}else if(Oe&&Oe.type!=="none"){var lt=Oe.type,wt="scatterfill-"+ce.uid;if(pe&&(wt="legendfill-"+ce.uid),!pe&&(Oe.start!==void 0||Oe.stop!==void 0)){var ut,yt;lt==="horizontal"?(ut={x:Oe.start,y:0},yt={x:Oe.stop,y:0}):lt==="vertical"&&(ut={x:0,y:Oe.start},yt={x:0,y:Oe.stop}),ut.x=ce._xA.c2p(ut.x===void 0?ce._extremes.x.min[0].val:ut.x,!0),ut.y=ce._yA.c2p(ut.y===void 0?ce._extremes.y.min[0].val:ut.y,!0),yt.x=ce._xA.c2p(yt.x===void 0?ce._extremes.x.max[0].val:yt.x,!0),yt.y=ce._yA.c2p(yt.y===void 0?ce._extremes.y.max[0].val:yt.y,!0),$.call(B,me,wt,"linear",Oe.colorscale,"fill",ut,yt,!0,!1)}else lt==="horizontal"&&(lt=lt+"reversed"),$.call(h.gradient,me,wt,lt,Oe.colorscale,"fill")}else ce.fillcolor&&$.call(w.fill,ce.fillcolor)}h.singleFillStyle=function($,ce){var me=t.select($.node()),pe=me.data(),xe=((pe[0]||[])[0]||{}).trace||{};z($,xe,ce,!1)},h.fillGroupStyle=function($,ce,me){$.style("stroke-width",0).each(function(pe){var xe=t.select(this);pe[0].trace&&z(xe,pe[0].trace,ce,me)})};var Y=Wu();h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(Y).forEach(function($){var ce=Y[$],me=ce.n;h.symbolList.push(me,String(me),$,me+100,String(me+100),$+"-open"),h.symbolNames[me]=$,h.symbolFuncs[me]=ce.f,h.symbolBackOffs[me]=ce.backoff||0,ce.needLine&&(h.symbolNeedLines[me]=!0),ce.noDot?h.symbolNoDot[me]=!0:h.symbolList.push(me+200,String(me+200),$+"-dot",me+300,String(me+300),$+"-open-dot"),ce.noFill&&(h.symbolNoFill[me]=!0)});var L=h.symbolNames.length,O="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function($){if(m($))$=+$;else if(typeof $=="string"){var ce=0;$.indexOf("-open")>0&&(ce=100,$=$.replace("-open","")),$.indexOf("-dot")>0&&(ce+=200,$=$.replace("-dot","")),$=h.symbolNames.indexOf($),$>=0&&($+=ce)}return $%100>=L||$>=400?0:Math.floor(Math.max($,0))};function D($,ce,me,pe){var xe=$%100;return h.symbolFuncs[xe](ce,me,pe)+($>=200?O:"")}var d=u("~f"),U={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};h.gradient=function($,ce,me,pe,xe,Oe){var Xe=U[pe];return B($,ce,me,Xe.type,xe,Oe,Xe.start,Xe.stop,!1,Xe.reversed)};function B($,ce,me,pe,xe,Oe,Xe,$e,pt,rt){var kt=xe.length,Mt;pe==="linear"?Mt={node:"linearGradient",attrs:{x1:Xe.x,y1:Xe.y,x2:$e.x,y2:$e.y,gradientUnits:pt?"userSpaceOnUse":"objectBoundingBox"},reversed:rt}:pe==="radial"&&(Mt={node:"radialGradient",reversed:rt});for(var Dt=new Array(kt),lt=0;lt<kt;lt++)Mt.reversed?Dt[kt-1-lt]=[d((1-xe[lt][0])*100),xe[lt][1]]:Dt[lt]=[d(xe[lt][0]*100),xe[lt][1]];var wt=ce._fullLayout,ut="g"+wt._uid+"-"+me,yt=wt._defs.select(".gradients").selectAll("#"+ut).data([pe+Dt.join(";")],v.identity);yt.exit().remove(),yt.enter().append(Mt.node).each(function(){var et=t.select(this);Mt.attrs&&et.attr(Mt.attrs),et.attr("id",ut);var tt=et.selectAll("stop").data(Dt);tt.exit().remove(),tt.enter().append("stop"),tt.each(function(ct){var le=g(ct[1]);t.select(this).attr({offset:ct[0]+"%","stop-color":w.tinyRGB(le),"stop-opacity":le.getAlpha()})})}),$.style(Oe,l(ut,ce)).style(Oe+"-opacity",null),$.classed("gradient_filled",!0)}h.pattern=function($,ce,me,pe,xe,Oe,Xe,$e,pt,rt,kt,Mt){var Dt=ce==="legend";$e&&(pt==="overlay"?(rt=$e,kt=w.contrast(rt)):(rt=void 0,kt=$e));var lt=me._fullLayout,wt="p"+lt._uid+"-"+pe,ut,yt,et=function(ze,st,vt,xt,Lt){return xt+(Lt-xt)*(ze-st)/(vt-st)},tt,ct,le,ge,_e={},Te=g(kt),He=w.tinyRGB(Te),qe=Te.getAlpha(),Ze=Mt*qe;switch(xe){case"/":ut=Oe*Math.sqrt(2),yt=Oe*Math.sqrt(2),tt="M-"+ut/4+","+yt/4+"l"+ut/2+",-"+yt/2+"M0,"+yt+"L"+ut+",0M"+ut/4*3+","+yt/4*5+"l"+ut/2+",-"+yt/2,ct=Xe*Oe,ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case"\\":ut=Oe*Math.sqrt(2),yt=Oe*Math.sqrt(2),tt="M"+ut/4*3+",-"+yt/4+"l"+ut/2+","+yt/2+"M0,0L"+ut+","+yt+"M-"+ut/4+","+yt/4*3+"l"+ut/2+","+yt/2,ct=Xe*Oe,ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case"x":ut=Oe*Math.sqrt(2),yt=Oe*Math.sqrt(2),tt="M-"+ut/4+","+yt/4+"l"+ut/2+",-"+yt/2+"M0,"+yt+"L"+ut+",0M"+ut/4*3+","+yt/4*5+"l"+ut/2+",-"+yt/2+"M"+ut/4*3+",-"+yt/4+"l"+ut/2+","+yt/2+"M0,0L"+ut+","+yt+"M-"+ut/4+","+yt/4*3+"l"+ut/2+","+yt/2,ct=Oe-Oe*Math.sqrt(1-Xe),ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case"|":ut=Oe,yt=Oe,ge="path",tt="M"+ut/2+",0L"+ut/2+","+yt,ct=Xe*Oe,ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case"-":ut=Oe,yt=Oe,ge="path",tt="M0,"+yt/2+"L"+ut+","+yt/2,ct=Xe*Oe,ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case"+":ut=Oe,yt=Oe,ge="path",tt="M"+ut/2+",0L"+ut/2+","+yt+"M0,"+yt/2+"L"+ut+","+yt/2,ct=Oe-Oe*Math.sqrt(1-Xe),ge="path",_e={d:tt,opacity:Ze,stroke:He,"stroke-width":ct+"px"};break;case".":ut=Oe,yt=Oe,Xe<Math.PI/4?le=Math.sqrt(Xe*Oe*Oe/Math.PI):le=et(Xe,Math.PI/4,1,Oe/2,Oe/Math.sqrt(2)),ge="circle",_e={cx:ut/2,cy:yt/2,r:le,opacity:Ze,fill:He};break}var Ie=[xe||"noSh",rt||"noBg",kt||"noFg",Oe,Xe].join(";"),Be=lt._defs.select(".patterns").selectAll("#"+wt).data([Ie],v.identity);Be.exit().remove(),Be.enter().append("pattern").each(function(){var ze=t.select(this);if(ze.attr({id:wt,width:ut+"px",height:yt+"px",patternUnits:"userSpaceOnUse",patternTransform:Dt?"scale(0.8)":""}),rt){var st=g(rt),vt=w.tinyRGB(st),xt=st.getAlpha(),Lt=ze.selectAll("rect").data([0]);Lt.exit().remove(),Lt.enter().append("rect").attr({width:ut+"px",height:yt+"px",fill:vt,"fill-opacity":xt})}var Wt=ze.selectAll(ge).data([0]);Wt.exit().remove(),Wt.enter().append(ge).attr(_e)}),$.style("fill",l(wt,me)).style("fill-opacity",null),$.classed("pattern_filled",!0)},h.initGradients=function($){var ce=$._fullLayout,me=v.ensureSingle(ce._defs,"g","gradients");me.selectAll("linearGradient,radialGradient").remove(),t.select($).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function($){var ce=$._fullLayout,me=v.ensureSingle(ce._defs,"g","patterns");me.selectAll("pattern").remove(),t.select($).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function($,ce,me){return $&&v.isArrayOrTypedArray($)?ce<$.length?$[ce]:me:$},h.pointStyle=function($,ce,me,pe){if($.size()){var xe=h.makePointStyleFns(ce);$.each(function(Oe){h.singlePointStyle(Oe,t.select(this),ce,xe,me,pe)})}},h.singlePointStyle=function($,ce,me,pe,xe,Oe){var Xe=me.marker,$e=Xe.line;if(Oe&&Oe.i>=0&&$.i===void 0&&($.i=Oe.i),ce.style("opacity",pe.selectedOpacityFn?pe.selectedOpacityFn($):$.mo===void 0?Xe.opacity:$.mo),pe.ms2mrc){var pt;$.ms==="various"||Xe.size==="various"?pt=3:pt=pe.ms2mrc($.ms),$.mrc=pt,pe.selectedSizeFn&&(pt=$.mrc=pe.selectedSizeFn($));var rt=h.symbolNumber($.mx||Xe.symbol)||0;$.om=rt%200>=100;var kt=Le($,me),Mt=n($,me);ce.attr("d",D(rt,pt,kt,Mt))}var Dt=!1,lt,wt,ut;if($.so)ut=$e.outlierwidth,wt=$e.outliercolor,lt=Xe.outliercolor;else{var yt=($e||{}).width;ut=($.mlw+1||yt+1||($.trace?($.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in $?wt=$.mlcc=pe.lineScale($.mlc):v.isArrayOrTypedArray($e.color)?wt=w.defaultLine:wt=$e.color,v.isArrayOrTypedArray(Xe.color)&&(lt=w.defaultLine,Dt=!0),"mc"in $?lt=$.mcc=pe.markerScale($.mc):lt=Xe.color||Xe.colors||"rgba(0,0,0,0)",pe.selectedColorFn&&(lt=pe.selectedColorFn($))}if($.om)ce.call(w.stroke,lt).style({"stroke-width":(ut||1)+"px",fill:"none"});else{ce.style("stroke-width",($.isBlank?0:ut)+"px");var et=Xe.gradient,tt=$.mgt;tt?Dt=!0:tt=et&&et.type,v.isArrayOrTypedArray(tt)&&(tt=tt[0],U[tt]||(tt=0));var ct=Xe.pattern,le=ct&&h.getPatternAttr(ct.shape,$.i,"");if(tt&&tt!=="none"){var ge=$.mgc;ge?Dt=!0:ge=et.color;var _e=me.uid;Dt&&(_e+="-"+$.i),h.gradient(ce,xe,_e,tt,[[0,ge],[1,lt]],"fill")}else if(le){var Te=!1,He=ct.fgcolor;!He&&Oe&&Oe.color&&(He=Oe.color,Te=!0);var qe=h.getPatternAttr(He,$.i,Oe&&Oe.color||null),Ze=h.getPatternAttr(ct.bgcolor,$.i,null),Ie=ct.fgopacity,Be=h.getPatternAttr(ct.size,$.i,8),ze=h.getPatternAttr(ct.solidity,$.i,.3);Te=Te||$.mcc||v.isArrayOrTypedArray(ct.shape)||v.isArrayOrTypedArray(ct.bgcolor)||v.isArrayOrTypedArray(ct.fgcolor)||v.isArrayOrTypedArray(ct.size)||v.isArrayOrTypedArray(ct.solidity);var st=me.uid;Te&&(st+="-"+$.i),h.pattern(ce,"point",xe,st,le,Be,ze,$.mcc,ct.fillmode,Ze,qe,Ie)}else v.isArrayOrTypedArray(lt)?w.fill(ce,lt[$.i]):w.fill(ce,lt);ut&&w.stroke(ce,wt)}},h.makePointStyleFns=function($){var ce={},me=$.marker;return ce.markerScale=h.tryColorscale(me,""),ce.lineScale=h.tryColorscale(me,"line"),f.traceIs($,"symbols")&&(ce.ms2mrc=F.isBubble($)?x($):function(){return(me.size||6)/2}),$.selectedpoints&&v.extendFlat(ce,h.makeSelectedPointStyleFns($)),ce},h.makeSelectedPointStyleFns=function($){var ce={},me=$.selected||{},pe=$.unselected||{},xe=$.marker||{},Oe=me.marker||{},Xe=pe.marker||{},$e=xe.opacity,pt=Oe.opacity,rt=Xe.opacity,kt=pt!==void 0,Mt=rt!==void 0;(v.isArrayOrTypedArray($e)||kt||Mt)&&(ce.selectedOpacityFn=function(le){var ge=le.mo===void 0?xe.opacity:le.mo;return le.selected?kt?pt:ge:Mt?rt:S*ge});var Dt=xe.color,lt=Oe.color,wt=Xe.color;(lt||wt)&&(ce.selectedColorFn=function(le){var ge=le.mcc||Dt;return le.selected?lt||ge:wt||ge});var ut=xe.size,yt=Oe.size,et=Xe.size,tt=yt!==void 0,ct=et!==void 0;return f.traceIs($,"symbols")&&(tt||ct)&&(ce.selectedSizeFn=function(le){var ge=le.mrc||ut/2;return le.selected?tt?yt/2:ge:ct?et/2:ge}),ce},h.makeSelectedTextStyleFns=function($){var ce={},me=$.selected||{},pe=$.unselected||{},xe=$.textfont||{},Oe=me.textfont||{},Xe=pe.textfont||{},$e=xe.color,pt=Oe.color,rt=Xe.color;return ce.selectedTextColorFn=function(kt){var Mt=kt.tc||$e;return kt.selected?pt||Mt:rt||(pt?Mt:w.addOpacity(Mt,S))},ce},h.selectedPointStyle=function($,ce){if(!(!$.size()||!ce.selectedpoints)){var me=h.makeSelectedPointStyleFns(ce),pe=ce.marker||{},xe=[];me.selectedOpacityFn&&xe.push(function(Oe,Xe){Oe.style("opacity",me.selectedOpacityFn(Xe))}),me.selectedColorFn&&xe.push(function(Oe,Xe){w.fill(Oe,me.selectedColorFn(Xe))}),me.selectedSizeFn&&xe.push(function(Oe,Xe){var $e=Xe.mx||pe.symbol||0,pt=me.selectedSizeFn(Xe);Oe.attr("d",D(h.symbolNumber($e),pt,Le(Xe,ce),n(Xe,ce))),Xe.mrc2=pt}),xe.length&&$.each(function(Oe){for(var Xe=t.select(this),$e=0;$e<xe.length;$e++)xe[$e](Xe,Oe)})}},h.tryColorscale=function($,ce){var me=ce?v.nestedProperty($,ce).get():$;if(me){var pe=me.color;if((me.colorscale||me._colorAx)&&v.isArrayOrTypedArray(pe))return Colorscale.makeColorScaleFuncFromTrace(me)}return v.identity};var X={start:1,end:-1,middle:0,bottom:1,top:-1};function K($,ce,me,pe,xe){var Oe=t.select($.node().parentNode),Xe=ce.indexOf("top")!==-1?"top":ce.indexOf("bottom")!==-1?"bottom":"middle",$e=ce.indexOf("left")!==-1?"end":ce.indexOf("right")!==-1?"start":"middle",pt=pe?pe/.8+1:0,rt=(r.lineCount($)-1)*E+1,kt=X[$e]*pt,Mt=me*.75+X[Xe]*pt+(X[Xe]-1)*rt*me/2;$.attr("text-anchor",$e),xe||Oe.attr("transform",c(kt,Mt))}function H($,ce){var me=$.ts||ce.textfont.size;return m(me)&&me>0?me:0}h.textPointStyle=function($,ce,me){if($.size()){var pe;if(ce.selectedpoints){var xe=h.makeSelectedTextStyleFns(ce);pe=xe.selectedTextColorFn}var Oe=ce.texttemplate,Xe=me._fullLayout;$.each(function($e){var pt=t.select(this),rt=Oe?v.extractOption($e,ce,"txt","texttemplate"):v.extractOption($e,ce,"tx","text");if(!rt&&rt!==0){pt.remove();return}if(Oe){var kt=ce._module.formatLabels,Mt=kt?kt($e,ce,Xe):{},Dt={};b(Dt,ce,$e.i);var lt=ce._meta||{};rt=v.texttemplateString(rt,Mt,Xe._d3locale,Dt,$e,lt)}var wt=$e.tp||ce.textposition,ut=H($e,ce),yt=pe?pe($e):$e.tc||ce.textfont.color;pt.call(h.font,{family:$e.tf||ce.textfont.family,weight:$e.tw||ce.textfont.weight,style:$e.ty||ce.textfont.style,variant:$e.tv||ce.textfont.variant,textcase:$e.tC||ce.textfont.textcase,lineposition:$e.tE||ce.textfont.lineposition,shadow:$e.tS||ce.textfont.shadow,size:ut,color:yt}).text(rt).call(r.convertToTspans,me).call(K,wt,ut,$e.mrc)})}},h.selectedTextStyle=function($,ce){if(!(!$.size()||!ce.selectedpoints)){var me=h.makeSelectedTextStyleFns(ce);$.each(function(pe){var xe=t.select(this),Oe=me.selectedTextColorFn(pe),Xe=pe.tp||ce.textposition,$e=H(pe,ce);w.fill(xe,Oe);var pt=f.traceIs(ce,"bar-like");K(xe,Xe,$e,pe.mrc2||pe.mrc,pt)})}};var te=.5;h.smoothopen=function($,ce){if($.length<3)return"M"+$.join("L");var me="M"+$[0],pe=[],xe;for(xe=1;xe<$.length-1;xe++)pe.push(ee($[xe-1],$[xe],$[xe+1],ce));for(me+="Q"+pe[0][0]+" "+$[1],xe=2;xe<$.length-1;xe++)me+="C"+pe[xe-2][1]+" "+pe[xe-1][0]+" "+$[xe];return me+="Q"+pe[$.length-3][1]+" "+$[$.length-1],me},h.smoothclosed=function($,ce){if($.length<3)return"M"+$.join("L")+"Z";var me="M"+$[0],pe=$.length-1,xe=[ee($[pe],$[0],$[1],ce)],Oe;for(Oe=1;Oe<pe;Oe++)xe.push(ee($[Oe-1],$[Oe],$[Oe+1],ce));for(xe.push(ee($[pe-1],$[pe],$[0],ce)),Oe=1;Oe<=pe;Oe++)me+="C"+xe[Oe-1][1]+" "+xe[Oe][0]+" "+$[Oe];return me+="C"+xe[pe][1]+" "+xe[0][0]+" "+$[0]+"Z",me};var ne,ie;function re($,ce,me){return me&&($=I($)),ce?W($[1]):oe($[0])}function oe($){var ce=t.round($,2);return ne=ce,ce}function W($){var ce=t.round($,2);return ie=ce,ce}function ee($,ce,me,pe){var xe=$[0]-ce[0],Oe=$[1]-ce[1],Xe=me[0]-ce[0],$e=me[1]-ce[1],pt=Math.pow(xe*xe+Oe*Oe,te/2),rt=Math.pow(Xe*Xe+$e*$e,te/2),kt=(rt*rt*xe-pt*pt*Xe)*pe,Mt=(rt*rt*Oe-pt*pt*$e)*pe,Dt=3*rt*(pt+rt),lt=3*pt*(pt+rt);return[[oe(ce[0]+(Dt&&kt/Dt)),W(ce[1]+(Dt&&Mt/Dt))],[oe(ce[0]-(lt&&kt/lt)),W(ce[1]-(lt&&Mt/lt))]]}var de={hv:function($,ce,me){return"H"+oe(ce[0])+"V"+re(ce,1,me)},vh:function($,ce,me){return"V"+W(ce[1])+"H"+re(ce,0,me)},hvh:function($,ce,me){return"H"+oe(($[0]+ce[0])/2)+"V"+W(ce[1])+"H"+re(ce,0,me)},vhv:function($,ce,me){return"V"+W(($[1]+ce[1])/2)+"H"+oe(ce[0])+"V"+re(ce,1,me)}},he=function($,ce,me){return"L"+re(ce,0,me)+","+re(ce,1,me)};h.steps=function($){var ce=de[$]||he;return function(me){for(var pe="M"+oe(me[0][0])+","+W(me[0][1]),xe=me.length,Oe=1;Oe<xe;Oe++)pe+=ce(me[Oe-1],me[Oe],Oe===xe-1);return pe}};function I($,ce){var me=$.backoff,pe=$.trace,xe=$.d,Oe=$.i;if(me&&pe&&pe.marker&&pe.marker.angle%360===0&&pe.line&&pe.line.shape!=="spline"){var Xe=v.isArrayOrTypedArray(me),$e=$,pt=ce?ce[0]:ne||0,rt=ce?ce[1]:ie||0,kt=$e[0],Mt=$e[1],Dt=kt-pt,lt=Mt-rt,wt=Math.atan2(lt,Dt),ut=Xe?me[Oe]:me;if(ut==="auto"){var yt=$e.i;pe.type==="scatter"&&yt--;var et=$e.marker,tt=et.symbol;v.isArrayOrTypedArray(tt)&&(tt=tt[yt]);var ct=et.size;v.isArrayOrTypedArray(ct)&&(ct=ct[yt]),ut=et?h.symbolBackOffs[h.symbolNumber(tt)]*ct:0,ut+=h.getMarkerStandoff(xe[yt],pe)||0}var le=kt-ut*Math.cos(wt),ge=Mt-ut*Math.sin(wt);(le<=kt&&le>=pt||le>=kt&&le<=pt)&&(ge<=Mt&&ge>=rt||ge>=Mt&&ge<=rt)&&($=[le,ge])}return $}h.applyBackoff=I,h.makeTester=function(){var $=v.ensureSingleById(t.select("body"),"svg","js-plotly-tester",function(me){me.attr(A.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ce=v.ensureSingle($,"path","js-reference-point",function(me){me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=$,h.testref=ce},h.savedBBoxes={};var R=0,_=1e4;h.bBox=function($,ce,me){me||(me=i($));var pe;if(me){if(pe=h.savedBBoxes[me],pe)return v.extendFlat({},pe)}else if($.childNodes.length===1){var xe=$.childNodes[0];if(me=i(xe),me){var Oe=+xe.getAttribute("x")||0,Xe=+xe.getAttribute("y")||0,$e=xe.getAttribute("transform");if(!$e){var pt=h.bBox(xe,!1,me);return Oe&&(pt.left+=Oe,pt.right+=Oe),Xe&&(pt.top+=Xe,pt.bottom+=Xe),pt}if(me+="~"+Oe+"~"+Xe+"~"+$e,pe=h.savedBBoxes[me],pe)return v.extendFlat({},pe)}}var rt,kt;ce?rt=$:(kt=h.tester.node(),rt=$.cloneNode(!0),kt.appendChild(rt)),t.select(rt).attr("transform",null).call(r.positionText,0,0);var Mt=rt.getBoundingClientRect(),Dt=h.testref.node().getBoundingClientRect();ce||kt.removeChild(rt);var lt={height:Mt.height,width:Mt.width,left:Mt.left-Dt.left,top:Mt.top-Dt.top,right:Mt.right-Dt.left,bottom:Mt.bottom-Dt.top};return R>=_&&(h.savedBBoxes={},R=0),me&&(h.savedBBoxes[me]=lt),R++,v.extendFlat({},lt)};function i($){var ce=$.getAttribute("data-unformatted");if(ce!==null)return ce+$.getAttribute("data-math")+$.getAttribute("text-anchor")+$.getAttribute("style")}h.setClipUrl=function($,ce,me){$.attr("clip-path",l(ce,me))};function l($,ce){if(!$)return null;var me=ce._context,pe=me._exportedPlot?"":me._baseUrl||"";return pe?"url('"+pe+"#"+$+"')":"url(#"+$+")"}h.getTranslate=function($){var ce=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,me=$.attr?"attr":"getAttribute",pe=$[me]("transform")||"",xe=pe.replace(ce,function(Oe,Xe,$e){return[Xe,$e].join(" ")}).split(" ");return{x:+xe[0]||0,y:+xe[1]||0}},h.setTranslate=function($,ce,me){var pe=/(\btranslate\(.*?\);?)/,xe=$.attr?"attr":"getAttribute",Oe=$.attr?"attr":"setAttribute",Xe=$[xe]("transform")||"";return ce=ce||0,me=me||0,Xe=Xe.replace(pe,"").trim(),Xe+=c(ce,me),Xe=Xe.trim(),$[Oe]("transform",Xe),Xe},h.getScale=function($){var ce=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,me=$.attr?"attr":"getAttribute",pe=$[me]("transform")||"",xe=pe.replace(ce,function(Oe,Xe,$e){return[Xe,$e].join(" ")}).split(" ");return{x:+xe[0]||1,y:+xe[1]||1}},h.setScale=function($,ce,me){var pe=/(\bscale\(.*?\);?)/,xe=$.attr?"attr":"getAttribute",Oe=$.attr?"attr":"setAttribute",Xe=$[xe]("transform")||"";return ce=ce||1,me=me||1,Xe=Xe.replace(pe,"").trim(),Xe+="scale("+ce+","+me+")",Xe=Xe.trim(),$[Oe]("transform",Xe),Xe};var k=/\s*sc.*/;h.setPointGroupScale=function($,ce,me){if(ce=ce||1,me=me||1,!!$){var pe=ce===1&&me===1?"":"scale("+ce+","+me+")";$.each(function(){var xe=(this.getAttribute("transform")||"").replace(k,"");xe+=pe,xe=xe.trim(),this.setAttribute("transform",xe)})}};var y=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function($,ce,me){$&&$.each(function(){var pe,xe=t.select(this),Oe=xe.select("text");if(Oe.node()){var Xe=parseFloat(Oe.attr("x")||0),$e=parseFloat(Oe.attr("y")||0),pt=(xe.attr("transform")||"").match(y);ce===1&&me===1?pe=[]:pe=[c(Xe,$e),"scale("+ce+","+me+")",c(-Xe,-$e)],pt&&pe.push(pt),xe.attr("transform",pe.join(""))}})};function n($,ce){var me;return $&&(me=$.mf),me===void 0&&(me=ce.marker&&ce.marker.standoff||0),!ce._geo&&!ce._xA?-me:me}h.getMarkerStandoff=n;var q=Math.atan2,J=Math.cos,se=Math.sin;function ye($,ce){var me=ce[0],pe=ce[1];return[me*J($)-pe*se($),me*se($)+pe*J($)]}var we,ke,ue,Me,Ne,Ce;function Le($,ce){var me=$.ma;me===void 0&&(me=ce.marker.angle,(!me||v.isArrayOrTypedArray(me))&&(me=0));var pe,xe,Oe=ce.marker.angleref;if(Oe==="previous"||Oe==="north"){if(ce._geo){var Xe=ce._geo.project($.lonlat);pe=Xe[0],xe=Xe[1]}else{var $e=ce._xA,pt=ce._yA;if($e&&pt)pe=$e.c2p($.x),xe=pt.c2p($.y);else return 90}if(ce._geo){var rt=$.lonlat[0],kt=$.lonlat[1],Mt=ce._geo.project([rt,kt+1e-5]),Dt=ce._geo.project([rt+1e-5,kt]),lt=q(Dt[1]-xe,Dt[0]-pe),wt=q(Mt[1]-xe,Mt[0]-pe),ut;if(Oe==="north")ut=me/180*Math.PI;else if(Oe==="previous"){var yt=rt/180*Math.PI,et=kt/180*Math.PI,tt=we/180*Math.PI,ct=ke/180*Math.PI,le=tt-yt,ge=J(ct)*se(le),_e=se(ct)*J(et)-J(ct)*se(et)*J(le);ut=-q(ge,_e)-Math.PI,we=rt,ke=kt}var Te=ye(lt,[J(ut),0]),He=ye(wt,[se(ut),0]);me=q(Te[1]+He[1],Te[0]+He[0])/Math.PI*180,Oe==="previous"&&!(Ce===ce.uid&&$.i===Ne+1)&&(me=null)}if(Oe==="previous"&&!ce._geo)if(Ce===ce.uid&&$.i===Ne+1&&m(pe)&&m(xe)){var qe=pe-ue,Ze=xe-Me,Ie=ce.line&&ce.line.shape||"",Be=Ie.slice(Ie.length-1);Be==="h"&&(Ze=0),Be==="v"&&(qe=0),me+=q(Ze,qe)/Math.PI*180+90}else me=null}return ue=pe,Me=xe,Ne=$.i,Ce=ce.uid,me}h.getMarkerAngle=Le}}),Bo=Ke({"src/components/titles/index.js"(M,N){"use strict";var t=Yr(),v=Zr(),u=En(),m=Er(),g=Zt(),f=g.strTranslate,w=un(),c=$r(),r=jn(),A=Ei(),p=zn().OPPOSITE_SIDE,E=/ [XY][0-9]* /,S=1.6,F=1.6;function x(b,h,a){var o=b._fullLayout,T=a.propContainer,C=a.propName,z=a.placeholder,Y=a.traceIndex,L=a.avoid||{},O=a.attributes,D=a.transform,d=a.containerGroup,U=1,B=T.title,X=(B&&B.text?B.text:"").trim(),K=!1,H=B&&B.font?B.font:{},te=H.family,ne=H.size,ie=H.color,re=H.weight,oe=H.style,W=H.variant,ee=H.textcase,de=H.lineposition,he=H.shadow,I=a.subtitlePropName,R=!!I,_=a.subtitlePlaceholder,i=(T.title||{}).subtitle||{text:"",font:{}},l=i.text.trim(),k=!1,y=1,n=i.font,q=n.family,J=n.size,se=n.color,ye=n.weight,we=n.style,ke=n.variant,ue=n.textcase,Me=n.lineposition,Ne=n.shadow,Ce;C==="title.text"?Ce="titleText":C.indexOf("axis")!==-1?Ce="axisTitleText":C.indexOf("colorbar"!==-1)&&(Ce="colorbarTitleText");var Le=b._context.edits[Ce];function $(lt,wt){return lt===void 0||wt===void 0?!1:lt.replace(E," % ")===wt.replace(E," % ")}X===""?U=0:$(X,z)&&(Le||(X=""),U=.2,K=!0),R&&(l===""?y=0:$(l,_)&&(Le||(l=""),y=.2,k=!0)),a._meta?X=g.templateString(X,a._meta):o._meta&&(X=g.templateString(X,o._meta));var ce=X||l||Le,me;d||(d=g.ensureSingle(o._infolayer,"g","g-"+h),me=o._hColorbarMoveTitle);var pe=d.selectAll("text."+h).data(ce?[0]:[]);pe.enter().append("text"),pe.text(X).attr("class",h),pe.exit().remove();var xe=null,Oe=h+"-subtitle",Xe=l||Le;if(R&&Xe&&(xe=d.selectAll("text."+Oe).data(Xe?[0]:[]),xe.enter().append("text"),xe.text(l).attr("class",Oe),xe.exit().remove()),!ce)return d;function $e(lt,wt){g.syncOrAsync([pt,rt],{title:lt,subtitle:wt})}function pt(lt){var wt=lt.title,ut=lt.subtitle,yt;!D&&me&&(D={}),D?(yt="",D.rotate&&(yt+="rotate("+[D.rotate,O.x,O.y]+")"),(D.offset||me)&&(yt+=f(0,(D.offset||0)-(me||0)))):yt=null,wt.attr("transform",yt);function et(Te){if(Te){var He=t.select(Te.node().parentNode).select("."+Oe);if(!He.empty()){var qe=Te.node().getBBox();if(qe.height){var Ze=qe.y+qe.height+S*J;He.attr("y",Ze)}}}}if(wt.style("opacity",U*c.opacity(ie)).call(w.font,{color:c.rgb(ie),size:t.round(ne,2),family:te,weight:re,style:oe,variant:W,textcase:ee,shadow:he,lineposition:de}).attr(O).call(r.convertToTspans,b,et),ut){var tt=d.select("."+h+"-math-group"),ct=wt.node().getBBox(),le=tt.node()?tt.node().getBBox():void 0,ge=le?le.y+le.height+S*J:ct.y+ct.height+F*J,_e=g.extendFlat({},O,{y:ge});ut.attr("transform",yt),ut.style("opacity",y*c.opacity(se)).call(w.font,{color:c.rgb(se),size:t.round(J,2),family:q,weight:ye,style:we,variant:ke,textcase:ue,shadow:Ne,lineposition:Me}).attr(_e).call(r.convertToTspans,b)}return u.previousPromises(b)}function rt(lt){var wt=lt.title,ut=t.select(wt.node().parentNode);if(L&&L.selection&&L.side&&X){ut.attr("transform",null);var yt=p[L.side],et=L.side==="left"||L.side==="top"?-1:1,tt=v(L.pad)?L.pad:2,ct=w.bBox(ut.node()),le={t:0,b:0,l:0,r:0},ge=b._fullLayout._reservedMargin;for(var _e in ge)for(var Te in ge[_e]){var He=ge[_e][Te];le[Te]=Math.max(le[Te],He)}var qe={left:le.l,top:le.t,right:o.width-le.r,bottom:o.height-le.b},Ze=L.maxShift||et*(qe[L.side]-ct[L.side]),Ie=0;if(Ze<0)Ie=Ze;else{var Be=L.offsetLeft||0,ze=L.offsetTop||0;ct.left-=Be,ct.right-=Be,ct.top-=ze,ct.bottom-=ze,L.selection.each(function(){var vt=w.bBox(this);g.bBoxIntersect(ct,vt,tt)&&(Ie=Math.max(Ie,et*(vt[L.side]-ct[yt])+tt))}),Ie=Math.min(Ze,Ie),T._titleScoot=Math.abs(Ie)}if(Ie>0||Ze<0){var st={left:[-Ie,0],right:[Ie,0],top:[0,-Ie],bottom:[0,Ie]}[L.side];ut.attr("transform",f(st[0],st[1]))}}}pe.call($e,xe);function kt(lt,wt){lt.text(wt).on("mouseover.opacity",function(){t.select(this).transition().duration(A.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){t.select(this).transition().duration(A.HIDE_PLACEHOLDER).style("opacity",0)})}if(Le&&(X?pe.on(".opacity",null):(kt(pe,z),K=!0),pe.call(r.makeEditable,{gd:b}).on("edit",function(lt){Y!==void 0?m.call("_guiRestyle",b,C,lt,Y):m.call("_guiRelayout",b,C,lt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($e)}).on("input",function(lt){this.text(lt||" ").call(r.positionText,O.x,O.y)}),R)){if(R&&!X){var Mt=pe.node().getBBox(),Dt=Mt.y+Mt.height+F*J;xe.attr("y",Dt)}l?xe.on(".opacity",null):(kt(xe,_),k=!0),xe.call(r.makeEditable,{gd:b}).on("edit",function(lt){m.call("_guiRelayout",b,"title.subtitle.text",lt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($e)}).on("input",function(lt){this.text(lt||" ").call(r.positionText,xe.attr("x"),xe.attr("y"))})}return pe.classed("js-placeholder",K),xe&&xe.classed("js-placeholder",k),d}N.exports={draw:x,SUBTITLE_PADDING_EM:F,SUBTITLE_PADDING_MATHJAX_EM:S}}}),Gi=Ke({"src/plots/cartesian/set_convert.js"(M,N){"use strict";var t=Yr(),v=function(D){return D},u=Zt(),m=u.numberFormat,g=Zr(),f=u.cleanNumber,w=u.ms2DateTime,c=u.dateTime2ms,r=u.ensureNumber,A=u.isArrayOrTypedArray,p=hn(),E=p.FP_SAFE,S=p.BADNUM,F=p.LOG_CLIP,x=p.ONEWEEK,b=p.ONEDAY,h=p.ONEHOUR,a=p.ONEMIN,o=p.ONESEC,T=Bn(),C=xn(),z=C.HOUR_PATTERN,Y=C.WEEKDAY_PATTERN;function L(D){return Math.pow(10,D)}function O(D){return D!=null}N.exports=function(d,U){U=U||{};var B=d._id||"x",X=B.charAt(0);function K(l,k){if(l>0)return Math.log(l)/Math.LN10;if(l<=0&&k&&d.range&&d.range.length===2){var y=d.range[0],n=d.range[1];return .5*(y+n-2*F*Math.abs(y-n))}else return S}function H(l,k,y,n){if((n||{}).msUTC&&g(l))return+l;var q=c(l,y||d.calendar);if(q===S)if(g(l)){l=+l;var J=Math.floor(u.mod(l+.05,1)*10),se=Math.round(l-J/10);q=c(new Date(se))+J/10}else return S;return q}function te(l,k,y){return w(l,k,y||d.calendar)}function ne(l){return d._categories[Math.round(l)]}function ie(l){if(O(l)){if(d._categoriesMap===void 0&&(d._categoriesMap={}),d._categoriesMap[l]!==void 0)return d._categoriesMap[l];d._categories.push(typeof l=="number"?String(l):l);var k=d._categories.length-1;return d._categoriesMap[l]=k,k}return S}function re(l,k){for(var y=new Array(k),n=0;n<k;n++){var q=(l[0]||[])[n],J=(l[1]||[])[n];y[n]=oe([q,J])}return y}function oe(l){if(d._categoriesMap)return d._categoriesMap[l]}function W(l){var k=oe(l);if(k!==void 0)return k;if(g(l))return+l}function ee(l){return g(l)?+l:oe(l)}function de(l,k,y){return t.round(y+k*l,2)}function he(l,k,y){return(l-y)/k}var I=function(k){return g(k)?de(k,d._m,d._b):S},R=function(l){return he(l,d._m,d._b)};if(d.rangebreaks){var _=X==="y";I=function(l){if(!g(l))return S;var k=d._rangebreaks.length;if(!k)return de(l,d._m,d._b);var y=_;d.range[0]>d.range[1]&&(y=!y);for(var n=y?-1:1,q=n*l,J=0,se=0;se<k;se++){var ye=n*d._rangebreaks[se].min,we=n*d._rangebreaks[se].max;if(q<ye)break;if(q>we)J=se+1;else{J=q<(ye+we)/2?se:se+1;break}}var ke=d._B[J]||0;return isFinite(ke)?de(l,d._m2,ke):0},R=function(l){var k=d._rangebreaks.length;if(!k)return he(l,d._m,d._b);for(var y=0,n=0;n<k&&!(l<d._rangebreaks[n].pmin);n++)l>d._rangebreaks[n].pmax&&(y=n+1);return he(l,d._m2,d._B[y])}}d.c2l=d.type==="log"?K:r,d.l2c=d.type==="log"?L:r,d.l2p=I,d.p2l=R,d.c2p=d.type==="log"?function(l,k){return I(K(l,k))}:I,d.p2c=d.type==="log"?function(l){return L(R(l))}:R,["linear","-"].indexOf(d.type)!==-1?(d.d2r=d.r2d=d.d2c=d.r2c=d.d2l=d.r2l=f,d.c2d=d.c2r=d.l2d=d.l2r=r,d.d2p=d.r2p=function(l){return d.l2p(f(l))},d.p2d=d.p2r=R,d.cleanPos=r):d.type==="log"?(d.d2r=d.d2l=function(l,k){return K(f(l),k)},d.r2d=d.r2c=function(l){return L(f(l))},d.d2c=d.r2l=f,d.c2d=d.l2r=r,d.c2r=K,d.l2d=L,d.d2p=function(l,k){return d.l2p(d.d2r(l,k))},d.p2d=function(l){return L(R(l))},d.r2p=function(l){return d.l2p(f(l))},d.p2r=R,d.cleanPos=r):d.type==="date"?(d.d2r=d.r2d=u.identity,d.d2c=d.r2c=d.d2l=d.r2l=H,d.c2d=d.c2r=d.l2d=d.l2r=te,d.d2p=d.r2p=function(l,k,y){return d.l2p(H(l,0,y))},d.p2d=d.p2r=function(l,k,y){return te(R(l),k,y)},d.cleanPos=function(l){return u.cleanDate(l,S,d.calendar)}):d.type==="category"?(d.d2c=d.d2l=ie,d.r2d=d.c2d=d.l2d=ne,d.d2r=d.d2l_noadd=W,d.r2c=function(l){var k=ee(l);return k!==void 0?k:d.fraction2r(.5)},d.l2r=d.c2r=r,d.r2l=ee,d.d2p=function(l){return d.l2p(d.r2c(l))},d.p2d=function(l){return ne(R(l))},d.r2p=d.d2p,d.p2r=R,d.cleanPos=function(l){return typeof l=="string"&&l!==""?l:r(l)}):d.type==="multicategory"&&(d.r2d=d.c2d=d.l2d=ne,d.d2r=d.d2l_noadd=W,d.r2c=function(l){var k=W(l);return k!==void 0?k:d.fraction2r(.5)},d.r2c_just_indices=oe,d.l2r=d.c2r=r,d.r2l=W,d.d2p=function(l){return d.l2p(d.r2c(l))},d.p2d=function(l){return ne(R(l))},d.r2p=d.d2p,d.p2r=R,d.cleanPos=function(l){return Array.isArray(l)||typeof l=="string"&&l!==""?l:r(l)},d.setupMultiCategory=function(l){var k=d._traceIndices,y,n,q=d._matchGroup;if(q&&d._categories.length===0){for(var J in q)if(J!==B){var se=U[T.id2name(J)];k=k.concat(se._traceIndices)}}var ye=[[0,{}],[0,{}]],we=[];for(y=0;y<k.length;y++){var ke=l[k[y]];if(X in ke){var ue=ke[X],Me=ke._length||u.minRowLength(ue);if(A(ue[0])&&A(ue[1]))for(n=0;n<Me;n++){var Ne=ue[0][n],Ce=ue[1][n];O(Ne)&&O(Ce)&&(we.push([Ne,Ce]),Ne in ye[0][1]||(ye[0][1][Ne]=ye[0][0]++),Ce in ye[1][1]||(ye[1][1][Ce]=ye[1][0]++))}}}for(we.sort(function(Le,$){var ce=ye[0][1],me=ce[Le[0]]-ce[$[0]];if(me)return me;var pe=ye[1][1];return pe[Le[1]]-pe[$[1]]}),y=0;y<we.length;y++)ie(we[y])}),d.fraction2r=function(l){var k=d.r2l(d.range[0]),y=d.r2l(d.range[1]);return d.l2r(k+l*(y-k))},d.r2fraction=function(l){var k=d.r2l(d.range[0]),y=d.r2l(d.range[1]);return(d.r2l(l)-k)/(y-k)},d.limitRange=function(l){var k=d.minallowed,y=d.maxallowed;if(!(k===void 0&&y===void 0)){l||(l="range");var n=u.nestedProperty(d,l).get(),q=u.simpleMap(n,d.r2l),J=q[1]<q[0];J&&q.reverse();var se=u.simpleMap([k,y],d.r2l);if(k!==void 0&&q[0]<se[0]&&(n[J?1:0]=k),y!==void 0&&q[1]>se[1]&&(n[J?0:1]=y),n[0]===n[1]){var ye=d.l2r(k),we=d.l2r(y);if(k!==void 0){var ke=ye+1;y!==void 0&&(ke=Math.min(ke,we)),n[J?1:0]=ke}if(y!==void 0){var ue=we+1;k!==void 0&&(ue=Math.max(ue,ye)),n[J?0:1]=ue}}}},d.cleanRange=function(l,k){d._cleanRange(l,k),d.limitRange(l)},d._cleanRange=function(l,k){k||(k={}),l||(l="range");var y=u.nestedProperty(d,l).get(),n,q;if(d.type==="date"?q=u.dfltRange(d.calendar):X==="y"?q=C.DFLTRANGEY:d._name==="realaxis"?q=[0,1]:q=k.dfltRange||C.DFLTRANGEX,q=q.slice(),(d.rangemode==="tozero"||d.rangemode==="nonnegative")&&(q[0]=0),!y||y.length!==2){u.nestedProperty(d,l).set(q);return}var J=y[0]===null,se=y[1]===null;for(d.type==="date"&&!d.autorange&&(y[0]=u.cleanDate(y[0],S,d.calendar),y[1]=u.cleanDate(y[1],S,d.calendar)),n=0;n<2;n++)if(d.type==="date"){if(!u.isDateTime(y[n],d.calendar)){d[l]=q;break}if(d.r2l(y[0])===d.r2l(y[1])){var ye=u.constrain(d.r2l(y[0]),u.MIN_MS+1e3,u.MAX_MS-1e3);y[0]=d.l2r(ye-1e3),y[1]=d.l2r(ye+1e3);break}}else{if(!g(y[n]))if(!(J||se)&&g(y[1-n]))y[n]=y[1-n]*(n?10:.1);else{d[l]=q;break}if(y[n]<-E?y[n]=-E:y[n]>E&&(y[n]=E),y[0]===y[1]){var we=Math.max(1,Math.abs(y[0]*1e-6));y[0]-=we,y[1]+=we}}},d.setScale=function(l){var k=U._size;if(d.overlaying){var y=T.getFromId({_fullLayout:U},d.overlaying);d.domain=y.domain}var n=l&&d._r?"_r":"range",q=d.calendar;d.cleanRange(n);var J=d.r2l(d[n][0],q),se=d.r2l(d[n][1],q),ye=X==="y";if(ye?(d._offset=k.t+(1-d.domain[1])*k.h,d._length=k.h*(d.domain[1]-d.domain[0]),d._m=d._length/(J-se),d._b=-d._m*se):(d._offset=k.l+d.domain[0]*k.w,d._length=k.w*(d.domain[1]-d.domain[0]),d._m=d._length/(se-J),d._b=-d._m*J),d._rangebreaks=[],d._lBreaks=0,d._m2=0,d._B=[],d.rangebreaks){var we,ke;if(d._rangebreaks=d.locateBreaks(Math.min(J,se),Math.max(J,se)),d._rangebreaks.length){for(we=0;we<d._rangebreaks.length;we++)ke=d._rangebreaks[we],d._lBreaks+=Math.abs(ke.max-ke.min);var ue=ye;J>se&&(ue=!ue),ue&&d._rangebreaks.reverse();var Me=ue?-1:1;for(d._m2=Me*d._length/(Math.abs(se-J)-d._lBreaks),d._B.push(-d._m2*(ye?se:J)),we=0;we<d._rangebreaks.length;we++)ke=d._rangebreaks[we],d._B.push(d._B[d._B.length-1]-Me*d._m2*(ke.max-ke.min));for(we=0;we<d._rangebreaks.length;we++)ke=d._rangebreaks[we],ke.pmin=I(ke.min),ke.pmax=I(ke.max)}}if(!isFinite(d._m)||!isFinite(d._b)||d._length<0)throw U._replotting=!1,new Error("Something went wrong with axis scaling")},d.maskBreaks=function(l){var k=d.rangebreaks||[],y,n,q,J,se;k._cachedPatterns||(k._cachedPatterns=k.map(function(ce){return ce.enabled&&ce.bounds?u.simpleMap(ce.bounds,ce.pattern?f:d.d2c):null})),k._cachedValues||(k._cachedValues=k.map(function(ce){return ce.enabled&&ce.values?u.simpleMap(ce.values,d.d2c).sort(u.sorterAsc):null}));for(var ye=0;ye<k.length;ye++){var we=k[ye];if(we.enabled){if(we.bounds){var ke=we.pattern;switch(y=k._cachedPatterns[ye],n=y[0],q=y[1],ke){case Y:se=new Date(l),J=se.getUTCDay(),n>q&&(q+=7,J<n&&(J+=7));break;case z:se=new Date(l);var ue=se.getUTCHours(),Me=se.getUTCMinutes(),Ne=se.getUTCSeconds(),Ce=se.getUTCMilliseconds();J=ue+(Me/60+Ne/3600+Ce/36e5),n>q&&(q+=24,J<n&&(J+=24));break;case"":J=l;break}if(J>=n&&J<q)return S}else for(var Le=k._cachedValues[ye],$=0;$<Le.length;$++)if(n=Le[$],q=n+we.dvalue,l>=n&&l<q)return S}}return l},d.locateBreaks=function(l,k){var y,n,q,J,se=[];if(!d.rangebreaks)return se;var ye=d.rangebreaks.slice().sort(function(pe,xe){return pe.pattern===Y&&xe.pattern===z?-1:xe.pattern===Y&&pe.pattern===z?1:0}),we=function(pe,xe){if(pe=u.constrain(pe,l,k),xe=u.constrain(xe,l,k),pe!==xe){for(var Oe=!0,Xe=0;Xe<se.length;Xe++){var $e=se[Xe];pe<$e.max&&xe>=$e.min&&(pe<$e.min&&($e.min=pe),xe>$e.max&&($e.max=xe),Oe=!1)}Oe&&se.push({min:pe,max:xe})}};for(y=0;y<ye.length;y++){var ke=ye[y];if(ke.enabled)if(ke.bounds){var ue=l,Me=k;ke.pattern&&(ue=Math.floor(ue)),n=u.simpleMap(ke.bounds,ke.pattern?f:d.r2l),q=n[0],J=n[1];var Ne=new Date(ue),Ce,Le;switch(ke.pattern){case Y:Le=x,Ce=((J<q?7:0)+(J-q))*b,ue+=q*b-(Ne.getUTCDay()*b+Ne.getUTCHours()*h+Ne.getUTCMinutes()*a+Ne.getUTCSeconds()*o+Ne.getUTCMilliseconds());break;case z:Le=b,Ce=((J<q?24:0)+(J-q))*h,ue+=q*h-(Ne.getUTCHours()*h+Ne.getUTCMinutes()*a+Ne.getUTCSeconds()*o+Ne.getUTCMilliseconds());break;default:ue=Math.min(n[0],n[1]),Me=Math.max(n[0],n[1]),Le=Me-ue,Ce=Le}for(var $=ue;$<Me;$+=Le)we($,$+Ce)}else for(var ce=u.simpleMap(ke.values,d.d2c),me=0;me<ce.length;me++)q=ce[me],J=q+ke.dvalue,we(q,J)}return se.sort(function(pe,xe){return pe.min-xe.min}),se},d.makeCalcdata=function(l,k,y){var n,q,J,se,ye=d.type,we=ye==="date"&&l[k+"calendar"];if(k in l){if(n=l[k],se=l._length||u.minRowLength(n),u.isTypedArray(n)&&(ye==="linear"||ye==="log")){if(se===n.length)return n;if(n.subarray)return n.subarray(0,se)}if(ye==="multicategory")return re(n,se);for(q=new Array(se),J=0;J<se;J++)q[J]=d.d2c(n[J],0,we,y)}else{var ke=k+"0"in l?d.d2c(l[k+"0"],0,we):0,ue=l["d"+k]?Number(l["d"+k]):1;for(n=l[{x:"y",y:"x"}[k]],se=l._length||n.length,q=new Array(se),J=0;J<se;J++)q[J]=ke+J*ue}if(d.rangebreaks)for(J=0;J<se;J++)q[J]=d.maskBreaks(q[J]);return q},d.isValidRange=function(l,k){return Array.isArray(l)&&l.length===2&&(k&&l[0]===null||g(d.r2l(l[0])))&&(k&&l[1]===null||g(d.r2l(l[1])))},d.getAutorangeDflt=function(l,k){var y=!d.isValidRange(l,"nullOk");return y&&k&&k.reverseDflt?y="reversed":l&&(l[0]===null&&l[1]===null?y=!0:l[0]===null&&l[1]!==null?y="min":l[0]!==null&&l[1]===null&&(y="max")),y},d.isReversed=function(){var l=d.autorange;return l==="reversed"||l==="min reversed"||l==="max reversed"},d.isPtWithinRange=function(l,k){var y=d.c2l(l[X],null,k),n=d.r2l(d.range[0]),q=d.r2l(d.range[1]);return n<q?n<=y&&y<=q:q<=y&&y<=n},d._emptyCategories=function(){d._categories=[],d._categoriesMap={}},d.clearCalc=function(){var l=d._matchGroup;if(l){var k=null,y=null;for(var n in l){var q=U[T.id2name(n)];if(q._categories){k=q._categories,y=q._categoriesMap;break}}k&&y?(d._categories=k,d._categoriesMap=y):d._emptyCategories()}else d._emptyCategories();if(d._initialCategories)for(var J=0;J<d._initialCategories.length;J++)ie(d._initialCategories[J])},d.sortByInitialCategories=function(){var l=[];if(d._emptyCategories(),d._initialCategories)for(var k=0;k<d._initialCategories.length;k++)ie(d._initialCategories[k]);l=l.concat(d._traceIndices);var y=d._matchGroup;for(var n in y)if(B!==n){var q=U[T.id2name(n)];q._categories=d._categories,q._categoriesMap=d._categoriesMap,l=l.concat(q._traceIndices)}return l};var i=U._d3locale;d.type==="date"&&(d._dateFormat=i?i.timeFormat:v,d._extraFormat=U._extraFormat),d._separators=U.separators,d._numFormat=i?i.numberFormat:m,delete d._minDtick,delete d._forceTick0}}}),Go=Ke({"src/plots/cartesian/axis_autotype.js"(M,N){"use strict";var t=Zr(),v=Zt(),u=hn().BADNUM,m=v.isArrayOrTypedArray,g=v.isDateTime,f=v.cleanNumber,w=Math.round;N.exports=function(x,b,h){var a=x,o=h.noMultiCategory;if(m(a)&&!a.length)return"-";if(!o&&S(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var T=[],C=0;C<a.length;C++)if(m(a[C]))for(var z=0;z<a[C].length;z++)T.push(a[C][z]);a=T}if(A(a,b))return"date";var Y=h.autotypenumbers!=="strict";return E(a,Y)?"category":r(a,Y)?"linear":"-"};function c(F,x){return x?t(F):typeof F=="number"}function r(F,x){for(var b=F.length,h=0;h<b;h++)if(c(F[h],x))return!0;return!1}function A(F,x){for(var b=F.length,h=p(b),a=0,o=0,T={},C=0;C<b;C+=h){var z=w(C),Y=F[z],L=String(Y);T[L]||(T[L]=1,g(Y,x)&&a++,t(Y)&&o++)}return a>o*2}function p(F){return Math.max(1,(F-1)/1e3)}function E(F,x){for(var b=F.length,h=p(b),a=0,o=0,T={},C=0;C<b;C+=h){var z=w(C),Y=F[z],L=String(Y);if(!T[L]){T[L]=1;var O=typeof Y;O==="boolean"?o++:(x?f(Y)!==u:O==="number")?a++:O==="string"&&o++}}return o>a*2}function S(F){return m(F[0])&&m(F[1])}}}),Ui=Ke({"src/plots/cartesian/autorange.js"(M,N){"use strict";var t=Yr(),v=Zr(),u=Zt(),m=hn().FP_SAFE,g=Er(),f=un(),w=Bn(),c=w.getFromId,r=w.isLinked;N.exports={applyAutorangeOptions:d,getAutoRange:A,makePadFn:E,doAutoRange:b,findExtremes:h,concatExtremes:x};function A(U,B){var X,K,H=[],te=U._fullLayout,ne=E(te,B,0),ie=E(te,B,1),re=x(U,B),oe=re.min,W=re.max;if(oe.length===0||W.length===0)return u.simpleMap(B.range,B.r2l);var ee=oe[0].val,de=W[0].val;for(X=1;X<oe.length&&ee===de;X++)ee=Math.min(ee,oe[X].val);for(X=1;X<W.length&&ee===de;X++)de=Math.max(de,W[X].val);var he=B.autorange,I=he==="reversed"||he==="min reversed"||he==="max reversed";if(!I&&B.range){var R=u.simpleMap(B.range,B.r2l);I=R[1]<R[0]}B.autorange==="reversed"&&(B.autorange=!0);var _=B.rangemode,i=_==="tozero",l=_==="nonnegative",k=B._length,y=k/10,n=0,q,J,se,ye,we,ke;for(X=0;X<oe.length;X++)for(q=oe[X],K=0;K<W.length;K++)J=W[K],ke=J.val-q.val-p(B,q.val,J.val),ke>0&&(we=k-ne(q)-ie(J),we>y?ke/we>n&&(se=q,ye=J,n=ke/we):ke/k>n&&(se={val:q.val,nopad:1},ye={val:J.val,nopad:1},n=ke/k));function ue($,ce){return Math.max($,ie(ce))}if(ee===de){var Me=ee-1,Ne=ee+1;if(i)if(ee===0)H=[0,1];else{var Ce=(ee>0?W:oe).reduce(ue,0),Le=ee/(1-Math.min(.5,Ce/k));H=ee>0?[0,Le]:[Le,0]}else l?H=[Math.max(0,Me),Math.max(1,Ne)]:H=[Me,Ne]}else i?(se.val>=0&&(se={val:0,nopad:1}),ye.val<=0&&(ye={val:0,nopad:1})):l&&(se.val-n*ne(se)<0&&(se={val:0,nopad:1}),ye.val<=0&&(ye={val:1,nopad:1})),n=(ye.val-se.val-p(B,q.val,J.val))/(k-ne(se)-ie(ye)),H=[se.val-n*ne(se),ye.val+n*ie(ye)];return H=d(H,B),B.limitRange&&B.limitRange(),I&&H.reverse(),u.simpleMap(H,B.l2r||Number)}function p(U,B,X){var K=0;if(U.rangebreaks)for(var H=U.locateBreaks(B,X),te=0;te<H.length;te++){var ne=H[te];K+=ne.max-ne.min}return K}function E(U,B,X){var K=.05*B._length,H=B._anchorAxis||{};if((B.ticklabelposition||"").indexOf("inside")!==-1||(H.ticklabelposition||"").indexOf("inside")!==-1){var te=B.isReversed();if(!te){var ne=u.simpleMap(B.range,B.r2l);te=ne[1]<ne[0]}te&&(X=!X)}var ie=0;return r(U,B._id)||(ie=F(U,B,X)),K=Math.max(ie,K),B.constrain==="domain"&&B._inputDomain&&(K*=(B._inputDomain[1]-B._inputDomain[0])/(B.domain[1]-B.domain[0])),function(oe){return oe.nopad?0:oe.pad+(oe.extrapad?K:ie)}}var S=3;function F(U,B,X){var K=0,H=B._id.charAt(0)==="x";for(var te in U._plots){var ne=U._plots[te];if(!(B._id!==ne.xaxis._id&&B._id!==ne.yaxis._id)){var ie=(H?ne.yaxis:ne.xaxis)||{};if((ie.ticklabelposition||"").indexOf("inside")!==-1&&(!X&&(ie.side==="left"||ie.side==="bottom")||X&&(ie.side==="top"||ie.side==="right"))){if(ie._vals){var re=u.deg2rad(ie._tickAngles[ie._id+"tick"]||0),oe=Math.abs(Math.cos(re)),W=Math.abs(Math.sin(re));if(!ie._vals[0].bb){var ee=ie._id+"tick",de=ie._selections[ee];de.each(function(l){var k=t.select(this),y=k.select(".text-math-group");y.empty()&&(l.bb=f.bBox(k.node()))})}for(var he=0;he<ie._vals.length;he++){var I=ie._vals[he],R=I.bb;if(R){var _=2*S+R.width,i=2*S+R.height;K=Math.max(K,H?Math.max(_*oe,i*W):Math.max(i*oe,_*W))}}}ie.ticks==="inside"&&ie.ticklabelposition==="inside"&&(K+=ie.ticklen||0)}}}return K}function x(U,B,X){var K=B._id,H=U._fullData,te=U._fullLayout,ne=[],ie=[],re,oe,W;function ee(_,i){for(re=0;re<i.length;re++){var l=_[i[re]],k=(l._extremes||{})[K];if(l.visible===!0&&k){for(oe=0;oe<k.min.length;oe++)W=k.min[oe],a(ne,W.val,W.pad,{extrapad:W.extrapad});for(oe=0;oe<k.max.length;oe++)W=k.max[oe],o(ie,W.val,W.pad,{extrapad:W.extrapad})}}}if(ee(H,B._traceIndices),ee(te.shapes||[],B._shapeIndices||[]),B._matchGroup&&!X){for(var de in B._matchGroup)if(de!==B._id){var he=c(U,de),I=x(U,he,!0),R=B._length/he._length;for(oe=0;oe<I.min.length;oe++)W=I.min[oe],a(ne,W.val,W.pad*R,{extrapad:W.extrapad});for(oe=0;oe<I.max.length;oe++)W=I.max[oe],o(ie,W.val,W.pad*R,{extrapad:W.extrapad})}}return{min:ne,max:ie}}function b(U,B,X){if(B.setScale(),B.autorange){B.range=X?X.slice():A(U,B),B._r=B.range.slice(),B._rl=u.simpleMap(B._r,B.r2l);var K=B._input,H={};H[B._attr+".range"]=B.range,H[B._attr+".autorange"]=B.autorange,g.call("_storeDirectGUIEdit",U.layout,U._fullLayout._preGUI,H),K.range=B.range.slice(),K.autorange=B.autorange}var te=B._anchorAxis;if(te&&te.rangeslider){var ne=te.rangeslider[B._name];ne&&ne.rangemode==="auto"&&(ne.range=A(U,B)),te._input.rangeslider[B._name]=u.extendFlat({},ne)}}function h(U,B,X){X||(X={}),U._m||U.setScale();var K=[],H=[],te=B.length,ne=X.padded||!1,ie=X.tozero&&(U.type==="linear"||U.type==="-"),re=U.type==="log",oe=!1,W=X.vpadLinearized||!1,ee,de,he,I,R,_,i,l,k;function y(ue){if(Array.isArray(ue))return oe=!0,function(Ne){return Math.max(Number(ue[Ne]||0),0)};var Me=Math.max(Number(ue||0),0);return function(){return Me}}var n=y((U._m>0?X.ppadplus:X.ppadminus)||X.ppad||0),q=y((U._m>0?X.ppadminus:X.ppadplus)||X.ppad||0),J=y(X.vpadplus||X.vpad),se=y(X.vpadminus||X.vpad);if(!oe){if(l=1/0,k=-1/0,re)for(ee=0;ee<te;ee++)de=B[ee],de<l&&de>0&&(l=de),de>k&&de<m&&(k=de);else for(ee=0;ee<te;ee++)de=B[ee],de<l&&de>-m&&(l=de),de>k&&de<m&&(k=de);B=[l,k],te=2}var ye={tozero:ie,extrapad:ne};function we(ue){he=B[ue],v(he)&&(_=n(ue),i=q(ue),W?(I=U.c2l(he)-se(ue),R=U.c2l(he)+J(ue)):(l=he-se(ue),k=he+J(ue),re&&l<k/10&&(l=k/10),I=U.c2l(l),R=U.c2l(k)),ie&&(I=Math.min(0,I),R=Math.max(0,R)),C(I)&&a(K,I,i,ye),C(R)&&o(H,R,_,ye))}var ke=Math.min(6,te);for(ee=0;ee<ke;ee++)we(ee);for(ee=te-1;ee>=ke;ee--)we(ee);return{min:K,max:H,opts:X}}function a(U,B,X,K){T(U,B,X,K,z)}function o(U,B,X,K){T(U,B,X,K,Y)}function T(U,B,X,K,H){for(var te=K.tozero,ne=K.extrapad,ie=!0,re=0;re<U.length&&ie;re++){var oe=U[re];if(H(oe.val,B)&&oe.pad>=X&&(oe.extrapad||!ne)){ie=!1;break}else H(B,oe.val)&&oe.pad<=X&&(ne||!oe.extrapad)&&(U.splice(re,1),re--)}if(ie){var W=te&&B===0;U.push({val:B,pad:W?0:X,extrapad:W?!1:ne})}}function C(U){return v(U)&&Math.abs(U)<m}function z(U,B){return U<=B}function Y(U,B){return U>=B}function L(U,B){var X=B.autorangeoptions;return X&&X.minallowed!==void 0&&D(B,X.minallowed,X.maxallowed)?X.minallowed:X&&X.clipmin!==void 0&&D(B,X.clipmin,X.clipmax)?Math.max(U,B.d2l(X.clipmin)):U}function O(U,B){var X=B.autorangeoptions;return X&&X.maxallowed!==void 0&&D(B,X.minallowed,X.maxallowed)?X.maxallowed:X&&X.clipmax!==void 0&&D(B,X.clipmin,X.clipmax)?Math.min(U,B.d2l(X.clipmax)):U}function D(U,B,X){return B!==void 0&&X!==void 0?(B=U.d2l(B),X=U.d2l(X),B<X):!0}function d(U,B){if(!B||!B.autorangeoptions)return U;var X=U[0],K=U[1],H=B.autorangeoptions.include;if(H!==void 0){var te=B.d2l(X),ne=B.d2l(K);u.isArrayOrTypedArray(H)||(H=[H]);for(var ie=0;ie<H.length;ie++){var re=B.d2l(H[ie]);te>=re&&(te=re,X=re),ne<=re&&(ne=re,K=re)}}return X=L(X,B),K=O(K,B),[X,K]}}}),An=Ke({"src/plots/cartesian/axes.js"(M,N){"use strict";var t=Yr(),v=Zr(),u=En(),m=Er(),g=Zt(),f=g.strTranslate,w=jn(),c=Bo(),r=$r(),A=un(),p=fa(),E=hn(),S=E.ONEMAXYEAR,F=E.ONEAVGYEAR,x=E.ONEMINYEAR,b=E.ONEMAXQUARTER,h=E.ONEAVGQUARTER,a=E.ONEMINQUARTER,o=E.ONEMAXMONTH,T=E.ONEAVGMONTH,C=E.ONEMINMONTH,z=E.ONEWEEK,Y=E.ONEDAY,L=Y/2,O=E.ONEHOUR,D=E.ONEMIN,d=E.ONESEC,U=E.ONEMILLI,B=E.ONEMICROSEC,X=E.MINUS_SIGN,K=E.BADNUM,H={K:"zeroline"},te={K:"gridline",L:"path"},ne={K:"minor-gridline",L:"path"},ie={K:"tick",L:"path"},re={K:"tick",L:"text"},oe={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W=zn(),ee=W.MID_SHIFT,de=W.CAP_SHIFT,he=W.LINE_SPACING,I=W.OPPOSITE_SIDE,R=3,_=N.exports={};_.setConvert=Gi();var i=Go(),l=Bn(),k=l.idSort,y=l.isLinked;_.id2name=l.id2name,_.name2id=l.name2id,_.cleanId=l.cleanId,_.list=l.list,_.listIds=l.listIds,_.getFromId=l.getFromId,_.getFromTrace=l.getFromTrace;var n=Ui();_.getAutoRange=n.getAutoRange,_.findExtremes=n.findExtremes;var q=1e-4;function J(Q){var j=(Q[1]-Q[0])*q;return[Q[0]-j,Q[1]+j]}_.coerceRef=function(Q,j,Fe,Re,Ge,Ue){var je=Re.charAt(Re.length-1),We=Fe._fullLayout._subplots[je+"axis"],Je=Re+"ref",ht={};return Ge||(Ge=We[0]||(typeof Ue=="string"?Ue:Ue[0])),Ue||(Ue=Ge),We=We.concat(We.map(function(dt){return dt+" domain"})),ht[Je]={valType:"enumerated",values:We.concat(Ue?typeof Ue=="string"?[Ue]:Ue:[]),dflt:Ge},g.coerce(Q,j,ht,Je)},_.getRefType=function(Q){return Q===void 0?Q:Q==="paper"?"paper":Q==="pixel"?"pixel":/( domain)$/.test(Q)?"domain":"range"},_.coercePosition=function(Q,j,Fe,Re,Ge,Ue){var je,We,Je=_.getRefType(Re);if(Je!=="range")je=g.ensureNumber,We=Fe(Ge,Ue);else{var ht=_.getFromId(j,Re);Ue=ht.fraction2r(Ue),We=Fe(Ge,Ue),je=ht.cleanPos}Q[Ge]=je(We)},_.cleanPosition=function(Q,j,Fe){var Re=Fe==="paper"||Fe==="pixel"?g.ensureNumber:_.getFromId(j,Fe).cleanPos;return Re(Q)},_.redrawComponents=function(Q,j){j=j||_.listIds(Q);var Fe=Q._fullLayout;function Re(Ge,Ue,je,We){for(var Je=m.getComponentMethod(Ge,Ue),ht={},dt=0;dt<j.length;dt++)for(var Pt=Fe[_.id2name(j[dt])],Nt=Pt[je],ae=0;ae<Nt.length;ae++){var be=Nt[ae];if(!ht[be]&&(Je(Q,be),ht[be]=1,We))return}}Re("shapes","drawOne","_shapeIndices"),Re("images","draw","_imgIndices",!0),Re("selections","drawOne","_selectionIndices")};var se=_.getDataConversions=function(Q,j,Fe,Re){var Ge,Ue=Fe==="x"||Fe==="y"||Fe==="z"?Fe:Re;if(g.isArrayOrTypedArray(Ue)){if(Ge={type:i(Re,void 0,{autotypenumbers:Q._fullLayout.autotypenumbers}),_categories:[]},_.setConvert(Ge),Ge.type==="category")for(var je=0;je<Re.length;je++)Ge.d2c(Re[je])}else Ge=_.getFromTrace(Q,j,Ue);return Ge?{d2c:Ge.d2c,c2d:Ge.c2d}:Ue==="ids"?{d2c:we,c2d:we}:{d2c:ye,c2d:ye}};function ye(Q){return+Q}function we(Q){return String(Q)}_.getDataToCoordFunc=function(Q,j,Fe,Re){return se(Q,j,Fe,Re).d2c},_.counterLetter=function(Q){var j=Q.charAt(0);if(j==="x")return"y";if(j==="y")return"x"},_.minDtick=function(Q,j,Fe,Re){["log","category","multicategory"].indexOf(Q.type)!==-1||!Re?Q._minDtick=0:Q._minDtick===void 0?(Q._minDtick=j,Q._forceTick0=Fe):Q._minDtick&&((Q._minDtick/j+1e-6)%1<2e-6&&((Fe-Q._forceTick0)/j%1+1.000001)%1<2e-6?(Q._minDtick=j,Q._forceTick0=Fe):((j/Q._minDtick+1e-6)%1>2e-6||((Fe-Q._forceTick0)/Q._minDtick%1+1.000001)%1>2e-6)&&(Q._minDtick=0))},_.saveRangeInitial=function(Q,j){for(var Fe=_.list(Q,"",!0),Re=!1,Ge=0;Ge<Fe.length;Ge++){var Ue=Fe[Ge],je=Ue._rangeInitial0===void 0&&Ue._rangeInitial1===void 0,We=je||Ue.range[0]!==Ue._rangeInitial0||Ue.range[1]!==Ue._rangeInitial1,Je=Ue.autorange;(je&&Je!==!0||j&&We)&&(Ue._rangeInitial0=Je==="min"||Je==="max reversed"?void 0:Ue.range[0],Ue._rangeInitial1=Je==="max"||Je==="min reversed"?void 0:Ue.range[1],Ue._autorangeInitial=Je,Re=!0)}return Re},_.saveShowSpikeInitial=function(Q,j){for(var Fe=_.list(Q,"",!0),Re=!1,Ge="on",Ue=0;Ue<Fe.length;Ue++){var je=Fe[Ue],We=je._showSpikeInitial===void 0,Je=We||je.showspikes!==je._showspikes;(We||j&&Je)&&(je._showSpikeInitial=je.showspikes,Re=!0),Ge==="on"&&!je.showspikes&&(Ge="off")}return Q._fullLayout._cartesianSpikesEnabled=Ge,Re},_.autoBin=function(Q,j,Fe,Re,Ge,Ue){var je=g.aggNums(Math.min,null,Q),We=g.aggNums(Math.max,null,Q);if(j.type==="category"||j.type==="multicategory")return{start:je-.5,end:We+.5,size:Math.max(1,Math.round(Ue)||1),_dataSpan:We-je};Ge||(Ge=j.calendar);var Je;if(j.type==="log"?Je={type:"linear",range:[je,We]}:Je={type:j.type,range:g.simpleMap([je,We],j.c2r,0,Ge),calendar:Ge},_.setConvert(Je),Ue=Ue&&cleanTicks.dtick(Ue,Je.type),Ue)Je.dtick=Ue,Je.tick0=cleanTicks.tick0(void 0,Je.type,Ge);else{var ht;if(Fe)ht=(We-je)/Fe;else{var dt=g.distinctVals(Q),Pt=Math.pow(10,Math.floor(Math.log(dt.minDiff)/Math.LN10)),Nt=Pt*g.roundUp(dt.minDiff/Pt,[.9,1.9,4.9,9.9],!0);ht=Math.max(Nt,2*g.stdev(Q)/Math.pow(Q.length,Re?.25:.4)),v(ht)||(ht=1)}_.autoTicks(Je,ht)}var ae=Je.dtick,be=_.tickIncrement(_.tickFirst(Je),ae,"reverse",Ge),Ee,De;if(typeof ae=="number")be=ke(be,Q,Je,je,We),De=1+Math.floor((We-be)/ae),Ee=be+De*ae;else for(Je.dtick.charAt(0)==="M"&&(be=ue(be,Q,ae,je,Ge)),Ee=be,De=0;Ee<=We;)Ee=_.tickIncrement(Ee,ae,!1,Ge),De++;return{start:j.c2r(be,0,Ge),end:j.c2r(Ee,0,Ge),size:ae,_dataSpan:We-je}};function ke(Q,j,Fe,Re,Ge){var Ue=0,je=0,We=0,Je=0;function ht(ae){return(1+(ae-Q)*100/Fe.dtick)%100<2}for(var dt=0;dt<j.length;dt++)j[dt]%1===0?We++:v(j[dt])||Je++,ht(j[dt])&&Ue++,ht(j[dt]+Fe.dtick/2)&&je++;var Pt=j.length-Je;if(We===Pt&&Fe.type!=="date")Fe.dtick<1?Q=Re-.5*Fe.dtick:(Q-=.5,Q+Fe.dtick<Re&&(Q+=Fe.dtick));else if(je<Pt*.1&&(Ue>Pt*.3||ht(Re)||ht(Ge))){var Nt=Fe.dtick/2;Q+=Q+Nt<Re?Nt:-Nt}return Q}function ue(Q,j,Fe,Re,Ge){var Ue=g.findExactDates(j,Ge),je=.8;if(Ue.exactDays>je){var We=Number(Fe.substr(1));Ue.exactYears>je&&We%12===0?Q=_.tickIncrement(Q,"M6","reverse")+Y*1.5:Ue.exactMonths>je?Q=_.tickIncrement(Q,"M1","reverse")+Y*15.5:Q-=L;var Je=_.tickIncrement(Q,Fe);if(Je<=Re)return Je}return Q}_.prepMinorTicks=function(Q,j,Fe){if(!j.minor.dtick){delete Q.dtick;var Re=j.dtick&&v(j._tmin),Ge;if(Re){var Ue=_.tickIncrement(j._tmin,j.dtick,!0);Ge=[j._tmin,Ue*.99+j._tmin*.01]}else{var je=g.simpleMap(j.range,j.r2l);Ge=[je[0],.8*je[0]+.2*je[1]]}if(Q.range=g.simpleMap(Ge,j.l2r),Q._isMinor=!0,_.prepTicks(Q,Fe),Re){var We=v(j.dtick),Je=v(Q.dtick),ht=We?j.dtick:+j.dtick.substring(1),dt=Je?Q.dtick:+Q.dtick.substring(1);We&&Je?Me(ht,dt)?ht===2*z&&dt===2*Y&&(Q.dtick=z):ht===2*z&&dt===3*Y?Q.dtick=z:ht===z&&!(j._input.minor||{}).nticks?Q.dtick=Y:Ne(ht/dt,2.5)?Q.dtick=ht/2:Q.dtick=ht:String(j.dtick).charAt(0)==="M"?Je?Q.dtick="M1":Me(ht,dt)?ht>=12&&dt===2&&(Q.dtick="M3"):Q.dtick=j.dtick:String(Q.dtick).charAt(0)==="L"?String(j.dtick).charAt(0)==="L"?Me(ht,dt)||(Q.dtick=Ne(ht/dt,2.5)?j.dtick/2:j.dtick):Q.dtick="D1":Q.dtick==="D2"&&+j.dtick>1&&(Q.dtick=1)}Q.range=j.range}j.minor._tick0Init===void 0&&(Q.tick0=j.tick0)};function Me(Q,j){return Math.abs((Q/j+.5)%1-.5)<.001}function Ne(Q,j){return Math.abs(Q/j-1)<.001}_.prepTicks=function(Q,j){var Fe=g.simpleMap(Q.range,Q.r2l,void 0,void 0,j);if(Q.tickmode==="auto"||!Q.dtick){var Re=Q.nticks,Ge;Re||(Q.type==="category"||Q.type==="multicategory"?(Ge=Q.tickfont?g.bigFont(Q.tickfont.size||12):15,Re=Q._length/Ge):(Ge=Q._id.charAt(0)==="y"?40:80,Re=g.constrain(Q._length/Ge,4,9)+1),Q._name==="radialaxis"&&(Re*=2)),Q.minor&&Q.minor.tickmode!=="array"||Q.tickmode==="array"&&(Re*=100),Q._roughDTick=Math.abs(Fe[1]-Fe[0])/Re,_.autoTicks(Q,Q._roughDTick),Q._minDtick>0&&Q.dtick<Q._minDtick*2&&(Q.dtick=Q._minDtick,Q.tick0=Q.l2r(Q._forceTick0))}Q.ticklabelmode==="period"&&Le(Q),Q.tick0||(Q.tick0=Q.type==="date"?"2000-01-01":0),Q.type==="date"&&Q.dtick<.1&&(Q.dtick=.1),Dt(Q)};function Ce(Q){return+Q.substring(1)}function Le(Q){var j;function Fe(){return!(v(Q.dtick)||Q.dtick.charAt(0)!=="M")}var Re=Fe(),Ge=_.getTickFormat(Q);if(Ge){var Ue=Q._dtickInit!==Q.dtick;/%[fLQsSMX]/.test(Ge)||(/%[HI]/.test(Ge)?(j=O,Ue&&!Re&&Q.dtick<O&&(Q.dtick=O)):/%p/.test(Ge)?(j=L,Ue&&!Re&&Q.dtick<L&&(Q.dtick=L)):/%[Aadejuwx]/.test(Ge)?(j=Y,Ue&&!Re&&Q.dtick<Y&&(Q.dtick=Y)):/%[UVW]/.test(Ge)?(j=z,Ue&&!Re&&Q.dtick<z&&(Q.dtick=z)):/%[Bbm]/.test(Ge)?(j=T,Ue&&(Re?Ce(Q.dtick)<1:Q.dtick<C)&&(Q.dtick="M1")):/%[q]/.test(Ge)?(j=h,Ue&&(Re?Ce(Q.dtick)<3:Q.dtick<a)&&(Q.dtick="M3")):/%[Yy]/.test(Ge)&&(j=F,Ue&&(Re?Ce(Q.dtick)<12:Q.dtick<x)&&(Q.dtick="M12")))}Re=Fe(),Re&&Q.tick0===Q._dowTick0&&(Q.tick0=Q._rawTick0),Q._definedDelta=j}function $(Q,j,Fe){for(var Re=0;Re<Q.length;Re++){var Ge=Q[Re].value,Ue=Re,je=Re+1;Re<Q.length-1?(Ue=Re,je=Re+1):Re>0?(Ue=Re-1,je=Re):(Ue=Re,je=Re);var We=Q[Ue].value,Je=Q[je].value,ht=Math.abs(Je-We),dt=Fe||ht,Pt=0;dt>=x?ht>=x&&ht<=S?Pt=ht:Pt=F:Fe===h&&dt>=a?ht>=a&&ht<=b?Pt=ht:Pt=h:dt>=C?ht>=C&&ht<=o?Pt=ht:Pt=T:Fe===z&&dt>=z?Pt=z:dt>=Y?Pt=Y:Fe===L&&dt>=L?Pt=L:Fe===O&&dt>=O&&(Pt=O);var Nt;Pt>=ht&&(Pt=ht,Nt=!0);var ae=Ge+Pt;if(j.rangebreaks&&Pt>0){for(var be=84,Ee=0,De=0;De<be;De++){var it=(De+.5)/be;j.maskBreaks(Ge*(1-it)+it*ae)!==K&&Ee++}Pt*=Ee/be,Pt||(Q[Re].drop=!0),Nt&&ht>z&&(Pt=ht)}(Pt>0||Re===0)&&(Q[Re].periodX=Ge+Pt/2)}}_.calcTicks=function(j,Fe){for(var Re=j.type,Ge=j.calendar,Ue=j.ticklabelstep,je=j.ticklabelmode==="period",We=j.range[0]>j.range[1],Je=!j.ticklabelindex||g.isArrayOrTypedArray(j.ticklabelindex)?j.ticklabelindex:[j.ticklabelindex],ht=g.simpleMap(j.range,j.r2l,void 0,void 0,Fe),dt=ht[1]<ht[0],Pt=Math.min(ht[0],ht[1]),Nt=Math.max(ht[0],ht[1]),ae=Math.max(1e3,j._length||0),be=[],Ee=[],De=[],it=[],ft=[],At=j.minor&&(j.minor.ticks||j.minor.showgrid),nt=1;nt>=(At?0:1);nt--){var St=!nt;nt?(j._dtickInit=j.dtick,j._tick0Init=j.tick0):(j.minor._dtickInit=j.minor.dtick,j.minor._tick0Init=j.minor.tick0);var Et=nt?j:g.extendFlat({},j,j.minor);if(St?_.prepMinorTicks(Et,j,Fe):_.prepTicks(Et,Fe),Et.tickmode==="array"){nt?(De=[],be=pe(j,!St)):(it=[],Ee=pe(j,!St));continue}if(Et.tickmode==="sync"){De=[],be=me(j);continue}var Ft=J(ht),Ht=Ft[0],$t=Ft[1],yr=v(Et.dtick),mr=Re==="log"&&!(yr||Et.dtick.charAt(0)==="L"),lr=_.tickFirst(Et,Fe);if(nt){if(j._tmin=lr,lr<Ht!==dt)break;(Re==="category"||Re==="multicategory")&&($t=dt?Math.max(-.5,$t):Math.min(j._categories.length-.5,$t))}var ur=null,zt=lr,Ar;if(nt){var gr;yr?gr=j.dtick:Re==="date"?typeof j.dtick=="string"&&j.dtick.charAt(0)==="M"&&(gr=T*j.dtick.substring(1)):gr=j._roughDTick,Ar=Math.round((j.r2l(zt)-j.r2l(j.tick0))/gr)-1}var Mr=Et.dtick;for(Et.rangebreaks&&Et._tick0Init!==Et.tick0&&(zt=It(zt,j),dt||(zt=_.tickIncrement(zt,Mr,!dt,Ge))),nt&&je&&(zt=_.tickIncrement(zt,Mr,!dt,Ge),Ar--);dt?zt>=$t:zt<=$t;zt=_.tickIncrement(zt,Mr,dt,Ge)){if(nt&&Ar++,Et.rangebreaks&&!dt){if(zt<Ht)continue;if(Et.maskBreaks(zt)===K&&It(zt,Et)>=Nt)break}if(De.length>ae||zt===ur)break;ur=zt;var ir={value:zt};nt?(mr&&zt!==(zt|0)&&(ir.simpleLabel=!0),Ue>1&&Ar%Ue&&(ir.skipLabel=!0),De.push(ir)):(ir.minor=!0,it.push(ir))}}if(!it||it.length<2)Je=!1;else{var vr=(it[1].value-it[0].value)*(We?-1:1);Rt(vr,j.tickformat)||(Je=!1)}if(!Je)ft=De;else{var nr=De.concat(it);je&&De.length&&(nr=nr.slice(1)),nr=nr.sort(function(Gr,Wr){return Gr.value-Wr.value}).filter(function(Gr,Wr,Lr){return Wr===0||Gr.value!==Lr[Wr-1].value});var kr=nr.map(function(Gr,Wr){return Gr.minor===void 0&&!Gr.skipLabel?Wr:null}).filter(function(Gr){return Gr!==null});kr.forEach(function(Gr){Je.map(function(Wr){var Lr=Gr+Wr;Lr>=0&&Lr<nr.length&&g.pushUnique(ft,nr[Lr])})})}if(At){var Pr=j.minor.ticks==="inside"&&j.ticks==="outside"||j.minor.ticks==="outside"&&j.ticks==="inside";if(!Pr){for(var Dr=De.map(function(Gr){return Gr.value}),Cr=[],tr=0;tr<it.length;tr++){var pr=it[tr],Ir=pr.value;if(Dr.indexOf(Ir)===-1){for(var Or=!1,zr=0;!Or&&zr<De.length;zr++)1e7+De[zr].value===1e7+Ir&&(Or=!0);Or||Cr.push(pr)}}it=Cr}}je&&$(ft,j,j._definedDelta);var Sr;if(j.rangebreaks){var Jr=j._id.charAt(0)==="y",Kr=1;j.tickmode==="auto"&&(Kr=j.tickfont?j.tickfont.size:12);var Xr=NaN;for(Sr=De.length-1;Sr>-1;Sr--){if(De[Sr].drop){De.splice(Sr,1);continue}De[Sr].value=It(De[Sr].value,j);var en=j.c2p(De[Sr].value);(Jr?Xr>en-Kr:Xr<en+Kr)?De.splice(dt?Sr+1:Sr,1):Xr=en}}xr(j)&&Math.abs(ht[1]-ht[0])===360&&De.pop(),j._tmax=(De[De.length-1]||{}).value,j._prevDateHead="",j._inCalcTicks=!0;var rn,Vr=function(Gr){Gr.text="",j._prevDateHead=rn};De=De.concat(it);function nn(Gr,Wr){var Lr=_.tickText(Gr,Wr.value,!1,Wr.simpleLabel),Br=Wr.periodX;return Br!==void 0&&(Lr.periodX=Br,(Br>Nt||Br<Pt)&&(Br>Nt&&(Lr.periodX=Nt),Br<Pt&&(Lr.periodX=Pt),Vr(Lr))),Lr}var sn;for(Sr=0;Sr<De.length;Sr++){var jr=De[Sr].minor,ln=De[Sr].value;jr?(Je&&ft.indexOf(De[Sr])!==-1?sn=nn(j,De[Sr]):sn={x:ln},sn.minor=!0,Ee.push(sn)):(rn=j._prevDateHead,sn=nn(j,De[Sr]),(De[Sr].skipLabel||Je&&ft.indexOf(De[Sr])===-1)&&Vr(sn),be.push(sn))}return be=be.concat(Ee),j._inCalcTicks=!1,je&&be.length&&(be[0].noTick=!0),be};function ce(Q,j){return Q.rangebreaks&&(j=j.filter(function(Fe){return Q.maskBreaks(Fe.x)!==K})),j}function me(Q){var j=Q._mainAxis,Fe=[];if(j._vals){for(var Re=0;Re<j._vals.length;Re++)if(!j._vals[Re].noTick){var Ge=j.l2p(j._vals[Re].x),Ue=Q.p2l(Ge),je=_.tickText(Q,Ue);j._vals[Re].minor&&(je.minor=!0,je.text=""),Fe.push(je)}}return Fe=ce(Q,Fe),Fe}function pe(Q,j){var Fe=g.simpleMap(Q.range,Q.r2l),Re=J(Fe),Ge=Math.min(Re[0],Re[1]),Ue=Math.max(Re[0],Re[1]),je=Q.type==="category"?Q.d2l_noadd:Q.d2l;Q.type==="log"&&String(Q.dtick).charAt(0)!=="L"&&(Q.dtick="L"+Math.pow(10,Math.floor(Math.min(Q.range[0],Q.range[1]))-1));for(var We=[],Je=0;Je<=1;Je++)if(!(j!==void 0&&(j&&Je||j===!1&&!Je))&&!(Je&&!Q.minor)){var ht=Je?Q.minor.tickvals:Q.tickvals,dt=Je?[]:Q.ticktext;if(ht){g.isArrayOrTypedArray(dt)||(dt=[]);for(var Pt=0;Pt<ht.length;Pt++){var Nt=je(ht[Pt]);if(Nt>Ge&&Nt<Ue){var ae=_.tickText(Q,Nt,!1,String(dt[Pt]));Je&&(ae.minor=!0,ae.text=""),We.push(ae)}}}}return We=ce(Q,We),We}var xe=[2,5,10],Oe=[1,2,3,6,12],Xe=[1,2,5,10,15,30],$e=[1,2,3,7,14],pt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],rt=[-.301,0,.301,.699,1],kt=[15,30,45,90,180];function Mt(Q,j,Fe){return j*g.roundUp(Q/j,Fe)}_.autoTicks=function(Q,j,Fe){var Re;function Ge(Pt){return Math.pow(Pt,Math.floor(Math.log(j)/Math.LN10))}if(Q.type==="date"){Q.tick0=g.dateTick0(Q.calendar,0);var Ue=2*j;if(Ue>F)j/=F,Re=Ge(10),Q.dtick="M"+12*Mt(j,Re,xe);else if(Ue>T)j/=T,Q.dtick="M"+Mt(j,1,Oe);else if(Ue>Y){if(Q.dtick=Mt(j,Y,Q._hasDayOfWeekBreaks?[1,2,7,14]:$e),!Fe){var je=_.getTickFormat(Q),We=Q.ticklabelmode==="period";We&&(Q._rawTick0=Q.tick0),/%[uVW]/.test(je)?Q.tick0=g.dateTick0(Q.calendar,2):Q.tick0=g.dateTick0(Q.calendar,1),We&&(Q._dowTick0=Q.tick0)}}else Ue>O?Q.dtick=Mt(j,O,Oe):Ue>D?Q.dtick=Mt(j,D,Xe):Ue>d?Q.dtick=Mt(j,d,Xe):(Re=Ge(10),Q.dtick=Mt(j,Re,xe))}else if(Q.type==="log"){Q.tick0=0;var Je=g.simpleMap(Q.range,Q.r2l);if(Q._isMinor&&(j*=1.5),j>.7)Q.dtick=Math.ceil(j);else if(Math.abs(Je[1]-Je[0])<1){var ht=1.5*Math.abs((Je[1]-Je[0])/j);j=Math.abs(Math.pow(10,Je[1])-Math.pow(10,Je[0]))/ht,Re=Ge(10),Q.dtick="L"+Mt(j,Re,xe)}else Q.dtick=j>.3?"D2":"D1"}else Q.type==="category"||Q.type==="multicategory"?(Q.tick0=0,Q.dtick=Math.ceil(Math.max(j,1))):xr(Q)?(Q.tick0=0,Re=1,Q.dtick=Mt(j,Re,kt)):(Q.tick0=0,Re=Ge(10),Q.dtick=Mt(j,Re,xe));if(Q.dtick===0&&(Q.dtick=1),!v(Q.dtick)&&typeof Q.dtick!="string"){var dt=Q.dtick;throw Q.dtick=1,"ax.dtick error: "+String(dt)}};function Dt(Q){var j=Q.dtick;if(Q._tickexponent=0,!v(j)&&typeof j!="string"&&(j=1),(Q.type==="category"||Q.type==="multicategory")&&(Q._tickround=null),Q.type==="date"){var Fe=Q.r2l(Q.tick0),Re=Q.l2r(Fe).replace(/(^-|i)/g,""),Ge=Re.length;if(String(j).charAt(0)==="M")Ge>10||Re.substr(5)!=="01-01"?Q._tickround="d":Q._tickround=+j.substr(1)%12===0?"y":"m";else if(j>=Y&&Ge<=10||j>=Y*15)Q._tickround="d";else if(j>=D&&Ge<=16||j>=O)Q._tickround="M";else if(j>=d&&Ge<=19||j>=D)Q._tickround="S";else{var Ue=Q.l2r(Fe+j).replace(/^-/,"").length;Q._tickround=Math.max(Ge,Ue)-20,Q._tickround<0&&(Q._tickround=4)}}else if(v(j)||j.charAt(0)==="L"){var je=Q.range.map(Q.r2d||Number);v(j)||(j=Number(j.substr(1))),Q._tickround=2-Math.floor(Math.log(j)/Math.LN10+.01);var We=Math.max(Math.abs(je[0]),Math.abs(je[1])),Je=Math.floor(Math.log(We)/Math.LN10+.01),ht=Q.minexponent===void 0?3:Q.minexponent;Math.abs(Je)>ht&&(_e(Q.exponentformat)&&!Te(Je)?Q._tickexponent=3*Math.round((Je-1)/3):Q._tickexponent=Je)}else Q._tickround=null}_.tickIncrement=function(Q,j,Fe,Re){var Ge=Fe?-1:1;if(v(j))return g.increment(Q,Ge*j);var Ue=j.charAt(0),je=Ge*Number(j.substr(1));if(Ue==="M")return g.incrementMonth(Q,je,Re);if(Ue==="L")return Math.log(Math.pow(10,Q)+je)/Math.LN10;if(Ue==="D"){var We=j==="D2"?rt:pt,Je=Q+Ge*.01,ht=g.roundUp(g.mod(Je,1),We,Fe);return Math.floor(Je)+Math.log(t.round(Math.pow(10,ht),1))/Math.LN10}throw"unrecognized dtick "+String(j)},_.tickFirst=function(Q,j){var Fe=Q.r2l||Number,Re=g.simpleMap(Q.range,Fe,void 0,void 0,j),Ge=Re[1]<Re[0],Ue=Ge?Math.floor:Math.ceil,je=J(Re)[0],We=Q.dtick,Je=Fe(Q.tick0);if(v(We)){var ht=Ue((je-Je)/We)*We+Je;return(Q.type==="category"||Q.type==="multicategory")&&(ht=g.constrain(ht,0,Q._categories.length-1)),ht}var dt=We.charAt(0),Pt=Number(We.substr(1));if(dt==="M"){for(var Nt=0,ae=Je,be,Ee,De;Nt<10;){if(be=_.tickIncrement(ae,We,Ge,Q.calendar),(be-je)*(ae-je)<=0)return Ge?Math.min(ae,be):Math.max(ae,be);Ee=(je-(ae+be)/2)/(be-ae),De=dt+(Math.abs(Math.round(Ee))||1)*Pt,ae=_.tickIncrement(ae,De,Ee<0?!Ge:Ge,Q.calendar),Nt++}return g.error("tickFirst did not converge",Q),ae}else{if(dt==="L")return Math.log(Ue((Math.pow(10,je)-Je)/Pt)*Pt+Je)/Math.LN10;if(dt==="D"){var it=We==="D2"?rt:pt,ft=g.roundUp(g.mod(je,1),it,Ge);return Math.floor(je)+Math.log(t.round(Math.pow(10,ft),1))/Math.LN10}else throw"unrecognized dtick "+String(We)}},_.tickText=function(Q,j,Fe,Re){var Ge=lt(Q,j),Ue=Q.tickmode==="array",je=Fe||Ue,We=Q.type,Je=We==="category"?Q.d2l_noadd:Q.d2l,ht,dt=function(De){var it=Q.l2p(De);return it>=0&&it<=Q._length?De:null};if(Ue&&g.isArrayOrTypedArray(Q.ticktext)){var Pt=g.simpleMap(Q.range,Q.r2l),Nt=(Math.abs(Pt[1]-Pt[0])-(Q._lBreaks||0))/1e4;for(ht=0;ht<Q.ticktext.length&&!(Math.abs(j-Je(Q.tickvals[ht]))<Nt);ht++);if(ht<Q.ticktext.length)return Ge.text=String(Q.ticktext[ht]),Ge.xbnd=[dt(Ge.x-.5),dt(Ge.x+Q.dtick-.5)],Ge}function ae(De){if(De===void 0)return!0;if(Fe)return De==="none";var it={first:Q._tmin,last:Q._tmax}[De];return De!=="all"&&j!==it}var be=Fe?"never":Q.exponentformat!=="none"&&ae(Q.showexponent)?"hide":"";if(We==="date"?wt(Q,Ge,Fe,je):We==="log"?ut(Q,Ge,Fe,je,be):We==="category"?yt(Q,Ge):We==="multicategory"?et(Q,Ge,Fe):xr(Q)?ct(Q,Ge,Fe,je,be):tt(Q,Ge,Fe,je,be),Re||(Q.tickprefix&&!ae(Q.showtickprefix)&&(Ge.text=Q.tickprefix+Ge.text),Q.ticksuffix&&!ae(Q.showticksuffix)&&(Ge.text+=Q.ticksuffix)),Q.labelalias&&Q.labelalias.hasOwnProperty(Ge.text)){var Ee=Q.labelalias[Ge.text];typeof Ee=="string"&&(Ge.text=Ee)}return(Q.tickson==="boundaries"||Q.showdividers)&&(Ge.xbnd=[dt(Ge.x-.5),dt(Ge.x+Q.dtick-.5)]),Ge},_.hoverLabelText=function(Q,j,Fe){Fe&&(Q=g.extendFlat({},Q,{hoverformat:Fe}));var Re=g.isArrayOrTypedArray(j)?j[0]:j,Ge=g.isArrayOrTypedArray(j)?j[1]:void 0;if(Ge!==void 0&&Ge!==Re)return _.hoverLabelText(Q,Re,Fe)+" - "+_.hoverLabelText(Q,Ge,Fe);var Ue=Q.type==="log"&&Re<=0,je=_.tickText(Q,Q.c2l(Ue?-Re:Re),"hover").text;return Ue?Re===0?"0":X+je:je};function lt(Q,j,Fe){var Re=Q.tickfont||{};return{x:j,dx:0,dy:0,text:Fe||"",fontSize:Re.size,font:Re.family,fontWeight:Re.weight,fontStyle:Re.style,fontVariant:Re.variant,fontTextcase:Re.textcase,fontLineposition:Re.lineposition,fontShadow:Re.shadow,fontColor:Re.color}}function wt(Q,j,Fe,Re){var Ge=Q._tickround,Ue=Fe&&Q.hoverformat||_.getTickFormat(Q);Re=!Ue&&Re,Re&&(v(Ge)?Ge=4:Ge={y:"m",m:"d",d:"M",M:"S",S:4}[Ge]);var je=g.formatDate(j.x,Ue,Ge,Q._dateFormat,Q.calendar,Q._extraFormat),We,Je=je.indexOf(`
`);if(Je!==-1&&(We=je.substr(Je+1),je=je.substr(0,Je)),Re&&(We!==void 0&&(je==="00:00:00"||je==="00:00")?(je=We,We=""):je.length===8&&(je=je.replace(/:00$/,""))),We)if(Fe)Ge==="d"?je+=", "+We:je=We+(je?", "+je:"");else if(!Q._inCalcTicks||Q._prevDateHead!==We)Q._prevDateHead=We,je+="<br>"+We;else{var ht=cr(Q),dt=Q._trueSide||Q.side;(!ht&&dt==="top"||ht&&dt==="bottom")&&(je+="<br> ")}j.text=je}function ut(Q,j,Fe,Re,Ge){var Ue=Q.dtick,je=j.x,We=Q.tickformat,Je=typeof Ue=="string"&&Ue.charAt(0);if(Ge==="never"&&(Ge=""),Re&&Je!=="L"&&(Ue="L3",Je="L"),We||Je==="L")j.text=He(Math.pow(10,je),Q,Ge,Re);else if(v(Ue)||Je==="D"&&g.mod(je+.01,1)<.1){var ht=Math.round(je),dt=Math.abs(ht),Pt=Q.exponentformat;Pt==="power"||_e(Pt)&&Te(ht)?(ht===0?j.text=1:ht===1?j.text="10":j.text="10<sup>"+(ht>1?"":X)+dt+"</sup>",j.fontSize*=1.25):(Pt==="e"||Pt==="E")&&dt>2?j.text="1"+Pt+(ht>0?"+":X)+dt:(j.text=He(Math.pow(10,je),Q,"","fakehover"),Ue==="D1"&&Q._id.charAt(0)==="y"&&(j.dy-=j.fontSize/6))}else if(Je==="D")j.text=String(Math.round(Math.pow(10,g.mod(je,1)))),j.fontSize*=.75;else throw"unrecognized dtick "+String(Ue);if(Q.dtick==="D1"){var Nt=String(j.text).charAt(0);(Nt==="0"||Nt==="1")&&(Q._id.charAt(0)==="y"?j.dx-=j.fontSize/4:(j.dy+=j.fontSize/2,j.dx+=(Q.range[1]>Q.range[0]?1:-1)*j.fontSize*(je<0?.5:.25)))}}function yt(Q,j){var Fe=Q._categories[Math.round(j.x)];Fe===void 0&&(Fe=""),j.text=String(Fe)}function et(Q,j,Fe){var Re=Math.round(j.x),Ge=Q._categories[Re]||[],Ue=Ge[1]===void 0?"":String(Ge[1]),je=Ge[0]===void 0?"":String(Ge[0]);Fe?j.text=je+" - "+Ue:(j.text=Ue,j.text2=je)}function tt(Q,j,Fe,Re,Ge){Ge==="never"?Ge="":Q.showexponent==="all"&&Math.abs(j.x/Q.dtick)<1e-6&&(Ge="hide"),j.text=He(j.x,Q,Ge,Re)}function ct(Q,j,Fe,Re,Ge){if(Q.thetaunit==="radians"&&!Fe){var Ue=j.x/180;if(Ue===0)j.text="0";else{var je=le(Ue);if(je[1]>=100)j.text=He(g.deg2rad(j.x),Q,Ge,Re);else{var We=j.x<0;je[1]===1?je[0]===1?j.text="\u03C0":j.text=je[0]+"\u03C0":j.text=["<sup>",je[0],"</sup>","\u2044","<sub>",je[1],"</sub>","\u03C0"].join(""),We&&(j.text=X+j.text)}}}else j.text=He(j.x,Q,Ge,Re)}function le(Q){function j(We,Je){return Math.abs(We-Je)<=1e-6}function Fe(We,Je){return j(Je,0)?We:Fe(Je,We%Je)}function Re(We){for(var Je=1;!j(Math.round(We*Je)/Je,We);)Je*=10;return Je}var Ge=Re(Q),Ue=Q*Ge,je=Math.abs(Fe(Ue,Ge));return[Math.round(Ue/je),Math.round(Ge/je)]}var ge=["f","p","n","\u03BC","m","","k","M","G","T"];function _e(Q){return Q==="SI"||Q==="B"}function Te(Q){return Q>14||Q<-15}function He(Q,j,Fe,Re){var Ge=Q<0,Ue=j._tickround,je=Fe||j.exponentformat||"B",We=j._tickexponent,Je=_.getTickFormat(j),ht=j.separatethousands;if(Re){var dt={exponentformat:je,minexponent:j.minexponent,dtick:j.showexponent==="none"?j.dtick:v(Q)&&Math.abs(Q)||1,range:j.showexponent==="none"?j.range.map(j.r2d):[0,Q||1]};Dt(dt),Ue=(Number(dt._tickround)||0)+4,We=dt._tickexponent,j.hoverformat&&(Je=j.hoverformat)}if(Je)return j._numFormat(Je)(Q).replace(/-/g,X);var Pt=Math.pow(10,-Ue)/2;if(je==="none"&&(We=0),Q=Math.abs(Q),Q<Pt)Q="0",Ge=!1;else{if(Q+=Pt,We&&(Q*=Math.pow(10,-We),Ue+=We),Ue===0)Q=String(Math.floor(Q));else if(Ue<0){Q=String(Math.round(Q)),Q=Q.substr(0,Q.length+Ue);for(var Nt=Ue;Nt<0;Nt++)Q+="0"}else{Q=String(Q);var ae=Q.indexOf(".")+1;ae&&(Q=Q.substr(0,ae+Ue).replace(/\.?0+$/,""))}Q=g.numSeparate(Q,j._separators,ht)}if(We&&je!=="hide"){_e(je)&&Te(We)&&(je="power");var be;We<0?be=X+-We:je!=="power"?be="+"+We:be=String(We),je==="e"||je==="E"?Q+=je+be:je==="power"?Q+="\xD710<sup>"+be+"</sup>":je==="B"&&We===9?Q+="B":_e(je)&&(Q+=ge[We/3+5])}return Ge?X+Q:Q}_.getTickFormat=function(Q){var j;function Fe(Je){return typeof Je!="string"?Je:Number(Je.replace("M",""))*T}function Re(Je,ht){var dt=["L","D"];if(typeof Je==typeof ht){if(typeof Je=="number")return Je-ht;var Pt=dt.indexOf(Je.charAt(0)),Nt=dt.indexOf(ht.charAt(0));return Pt===Nt?Number(Je.replace(/(L|D)/g,""))-Number(ht.replace(/(L|D)/g,"")):Pt-Nt}else return typeof Je=="number"?1:-1}function Ge(Je,ht,dt){var Pt=dt||function(be){return be},Nt=ht[0],ae=ht[1];return(!Nt&&typeof Nt!="number"||Pt(Nt)<=Pt(Je))&&(!ae&&typeof ae!="number"||Pt(ae)>=Pt(Je))}function Ue(Je,ht){var dt=ht[0]===null,Pt=ht[1]===null,Nt=Re(Je,ht[0])>=0,ae=Re(Je,ht[1])<=0;return(dt||Nt)&&(Pt||ae)}var je,We;if(Q.tickformatstops&&Q.tickformatstops.length>0)switch(Q.type){case"date":case"linear":{for(j=0;j<Q.tickformatstops.length;j++)if(We=Q.tickformatstops[j],We.enabled&&Ge(Q.dtick,We.dtickrange,Fe)){je=We;break}break}case"log":{for(j=0;j<Q.tickformatstops.length;j++)if(We=Q.tickformatstops[j],We.enabled&&Ue(Q.dtick,We.dtickrange)){je=We;break}break}default:}return je?je.value:Q.tickformat},_.getSubplots=function(Q,j){var Fe=Q._fullLayout._subplots,Re=Fe.cartesian.concat(Fe.gl2d||[]),Ge=j?_.findSubplotsWithAxis(Re,j):Re;return Ge.sort(function(Ue,je){var We=Ue.substr(1).split("y"),Je=je.substr(1).split("y");return We[0]===Je[0]?+We[1]-+Je[1]:+We[0]-+Je[0]}),Ge},_.findSubplotsWithAxis=function(Q,j){for(var Fe=new RegExp(j._id.charAt(0)==="x"?"^"+j._id+"y":j._id+"$"),Re=[],Ge=0;Ge<Q.length;Ge++){var Ue=Q[Ge];Fe.test(Ue)&&Re.push(Ue)}return Re},_.makeClipPaths=function(Q){var j=Q._fullLayout;if(!j._hasOnlyLargeSploms){var Fe={_offset:0,_length:j.width,_id:""},Re={_offset:0,_length:j.height,_id:""},Ge=_.list(Q,"x",!0),Ue=_.list(Q,"y",!0),je=[],We,Je;for(We=0;We<Ge.length;We++)for(je.push({x:Ge[We],y:Re}),Je=0;Je<Ue.length;Je++)We===0&&je.push({x:Fe,y:Ue[Je]}),je.push({x:Ge[We],y:Ue[Je]});var ht=j._clips.selectAll(".axesclip").data(je,function(dt){return dt.x._id+dt.y._id});ht.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dt){return"clip"+j._uid+dt.x._id+dt.y._id}).append("rect"),ht.exit().remove(),ht.each(function(dt){t.select(this).select("rect").attr({x:dt.x._offset||0,y:dt.y._offset||0,width:dt.x._length||1,height:dt.y._length||1})})}},_.draw=function(Q,j,Fe){var Re=Q._fullLayout;j==="redraw"&&Re._paper.selectAll("g.subplot").each(function(Je){var ht=Je[0],dt=Re._plots[ht];if(dt){var Pt=dt.xaxis,Nt=dt.yaxis;dt.xaxislayer.selectAll("."+Pt._id+"tick").remove(),dt.yaxislayer.selectAll("."+Nt._id+"tick").remove(),dt.xaxislayer.selectAll("."+Pt._id+"tick2").remove(),dt.yaxislayer.selectAll("."+Nt._id+"tick2").remove(),dt.xaxislayer.selectAll("."+Pt._id+"divider").remove(),dt.yaxislayer.selectAll("."+Nt._id+"divider").remove(),dt.minorGridlayer&&dt.minorGridlayer.selectAll("path").remove(),dt.gridlayer&&dt.gridlayer.selectAll("path").remove(),dt.zerolinelayer&&dt.zerolinelayer.selectAll("path").remove(),Re._infolayer.select(".g-"+Pt._id+"title").remove(),Re._infolayer.select(".g-"+Nt._id+"title").remove()}});var Ge=!j||j==="redraw"?_.listIds(Q):j,Ue=_.list(Q),je=Ue.filter(function(Je){return Je.autoshift}).map(function(Je){return Je.overlaying});Ge.map(function(Je){var ht=_.getFromId(Q,Je);if(ht.tickmode==="sync"&&ht.overlaying){var dt=Ge.findIndex(function(Pt){return Pt===ht.overlaying});dt>=0&&Ge.unshift(Ge.splice(dt,1).shift())}});var We={false:{left:0,right:0}};return g.syncOrAsync(Ge.map(function(Je){return function(){if(Je){var ht=_.getFromId(Q,Je);Fe||(Fe={}),Fe.axShifts=We,Fe.overlayingShiftedAx=je;var dt=_.drawOne(Q,ht,Fe);return ht._shiftPusher&&qr(ht,ht._fullDepth||0,We,!0),ht._r=ht.range.slice(),ht._rl=g.simpleMap(ht._r,ht.r2l),dt}}}))},_.drawOne=function(Q,j,Fe){Fe=Fe||{};var Re=Fe.axShifts||{},Ge=Fe.overlayingShiftedAx||[],Ue,je,We;j.setScale();var Je=Q._fullLayout,ht=j._id,dt=ht.charAt(0),Pt=_.counterLetter(ht),Nt=Je._plots[j._mainSubplot];if(!Nt)return;if(j._shiftPusher=j.autoshift||Ge.indexOf(j._id)!==-1||Ge.indexOf(j.overlaying)!==-1,j._shiftPusher&j.anchor==="free"){var ae=j.linewidth/2||0;j.ticks==="inside"&&(ae+=j.ticklen),qr(j,ae,Re,!0),qr(j,j.shift||0,Re,!1)}(Fe.skipTitle!==!0||j._shift===void 0)&&(j._shift=Fr(j,Re));var be=Nt[dt+"axislayer"],Ee=j._mainLinePosition,De=Ee+=j._shift,it=j._mainMirrorPosition,ft=j._vals=_.calcTicks(j),At=[j.mirror,De,it].join("_");for(Ue=0;Ue<ft.length;Ue++)ft[Ue].axInfo=At;j._selections={},j._tickAngles&&(j._prevTickAngles=j._tickAngles),j._tickAngles={},j._depth=null;var nt={};function St(jr){var ln=ht+(jr||"tick");return nt[ln]||(nt[ln]=ze(j,ln,De)),nt[ln]}if(j.visible){var Et=_.makeTransTickFn(j),Ft=_.makeTransTickLabelFn(j),Ht,$t,yr=j.ticks==="inside",mr=j.ticks==="outside";if(j.tickson==="boundaries"){var lr=Ze(j,ft);$t=_.clipEnds(j,lr),Ht=yr?$t:lr}else $t=_.clipEnds(j,ft),Ht=yr&&j.ticklabelmode!=="period"?$t:ft;var ur=j._gridVals=$t,zt=Be(j,ft);if(!Je._hasOnlyLargeSploms){var Ar=j._subplotsWith,gr={};for(Ue=0;Ue<Ar.length;Ue++){je=Ar[Ue],We=Je._plots[je];var Mr=We[Pt+"axis"],ir=Mr._mainAxis._id;if(!gr[ir]){gr[ir]=1;var vr=dt==="x"?"M0,"+Mr._offset+"v"+Mr._length:"M"+Mr._offset+",0h"+Mr._length;_.drawGrid(Q,j,{vals:ur,counterAxis:Mr,layer:We.gridlayer.select("."+ht),minorLayer:We.minorGridlayer.select("."+ht),path:vr,transFn:Et}),_.drawZeroLine(Q,j,{counterAxis:Mr,layer:We.zerolinelayer,path:vr,transFn:Et})}}}var nr,kr=_.getTickSigns(j),Pr=_.getTickSigns(j,"minor");if(j.ticks||j.minor&&j.minor.ticks){var Dr=_.makeTickPath(j,De,kr[2]),Cr=_.makeTickPath(j,De,Pr[2],{minor:!0}),tr,pr,Ir,Or;if(j._anchorAxis&&j.mirror&&j.mirror!==!0?(tr=_.makeTickPath(j,it,kr[3]),pr=_.makeTickPath(j,it,Pr[3],{minor:!0}),Ir=Dr+tr,Or=Cr+pr):(tr="",pr="",Ir=Dr,Or=Cr),j.showdividers&&mr&&j.tickson==="boundaries"){var zr={};for(Ue=0;Ue<zt.length;Ue++)zr[zt[Ue].x]=1;nr=function(jr){return zr[jr.x]?tr:Ir}}else nr=function(jr){return jr.minor?Or:Ir}}if(_.drawTicks(Q,j,{vals:Ht,layer:be,path:nr,transFn:Et}),j.mirror==="allticks"){var Sr=Object.keys(j._linepositions||{});for(Ue=0;Ue<Sr.length;Ue++){je=Sr[Ue],We=Je._plots[je];var Jr=j._linepositions[je]||[],Kr=Jr[0],Xr=Jr[1],en=Jr[2],rn=_.makeTickPath(j,Kr,en?kr[0]:Pr[0],{minor:en})+_.makeTickPath(j,Xr,en?kr[1]:Pr[1],{minor:en});_.drawTicks(Q,j,{vals:Ht,layer:We[dt+"axislayer"],path:rn,transFn:Et})}}var Vr=[];if(Vr.push(function(){return _.drawLabels(Q,j,{vals:ft,layer:be,plotinfo:We,transFn:Ft,labelFns:_.makeLabelFns(j,De)})}),j.type==="multicategory"){var nn={x:2,y:10}[dt];Vr.push(function(){var jr={x:"height",y:"width"}[dt],ln=St()[jr]+nn+(j._tickAngles[ht+"tick"]?j.tickfont.size*he:0);return _.drawLabels(Q,j,{vals:Ie(j,ft),layer:be,cls:ht+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Et,labelFns:_.makeLabelFns(j,De+ln*kr[4])})}),Vr.push(function(){return j._depth=kr[4]*(St("tick2")[j.side]-De),Lt(Q,j,{vals:zt,layer:be,path:_.makeTickPath(j,De,kr[4],{len:j._depth}),transFn:Et})})}else j.title.hasOwnProperty("standoff")&&Vr.push(function(){j._depth=kr[4]*(St()[j.side]-De)});var sn=m.getComponentMethod("rangeslider","isVisible")(j);return!Fe.skipTitle&&!(sn&&j.side==="bottom")&&Vr.push(function(){return Vt(Q,j)}),Vr.push(function(){var jr=j.side.charAt(0),ln=I[j.side].charAt(0),Gr=_.getPxPosition(Q,j),Wr=mr?j.ticklen:0,Lr,Br,Tn,Vn;(j.automargin||sn||j._shiftPusher)&&(j.type==="multicategory"?Lr=St("tick2"):(Lr=St(),dt==="x"&&jr==="b"&&(j._depth=Math.max(Lr.width>0?Lr.bottom-Gr:0,Wr))));var fi=0,Ca=0;if(j._shiftPusher&&(fi=Math.max(Wr,Lr.height>0?jr==="l"?Gr-Lr.left:Lr.right-Gr:0),j.title.text!==Je._dfltTitle[dt]&&(Ca=(j._titleStandoff||0)+(j._titleScoot||0),jr==="l"&&(Ca+=Wt(j))),j._fullDepth=Math.max(fi,Ca)),j.automargin){Br={x:0,y:0,r:0,l:0,t:0,b:0};var ra=[0,1],ci=typeof j._shift=="number"?j._shift:0;if(dt==="x"){if(jr==="b"?Br[jr]=j._depth:(Br[jr]=j._depth=Math.max(Lr.width>0?Gr-Lr.top:0,Wr),ra.reverse()),Lr.width>0){var vi=Lr.right-(j._offset+j._length);vi>0&&(Br.xr=1,Br.r=vi);var hi=j._offset-Lr.left;hi>0&&(Br.xl=0,Br.l=hi)}}else if(jr==="l"?(j._depth=Math.max(Lr.height>0?Gr-Lr.left:0,Wr),Br[jr]=j._depth-ci):(j._depth=Math.max(Lr.height>0?Lr.right-Gr:0,Wr),Br[jr]=j._depth+ci,ra.reverse()),Lr.height>0){var di=Lr.bottom-(j._offset+j._length);di>0&&(Br.yb=0,Br.b=di);var Da=j._offset-Lr.top;Da>0&&(Br.yt=1,Br.t=Da)}Br[Pt]=j.anchor==="free"?j.position:j._anchorAxis.domain[ra[0]],j.title.text!==Je._dfltTitle[dt]&&(Br[jr]+=Wt(j)+(j.title.standoff||0)),j.mirror&&j.anchor!=="free"&&(Tn={x:0,y:0,r:0,l:0,t:0,b:0},Tn[ln]=j.linewidth,j.mirror&&j.mirror!==!0&&(Tn[ln]+=Wr),j.mirror===!0||j.mirror==="ticks"?Tn[Pt]=j._anchorAxis.domain[ra[1]]:(j.mirror==="all"||j.mirror==="allticks")&&(Tn[Pt]=[j._counterDomainMin,j._counterDomainMax][ra[1]]))}sn&&(Vn=m.getComponentMethod("rangeslider","autoMarginOpts")(Q,j)),typeof j.automargin=="string"&&(qe(Br,j.automargin),qe(Tn,j.automargin)),u.autoMargin(Q,or(j),Br),u.autoMargin(Q,sr(j),Tn),u.autoMargin(Q,er(j),Vn)}),g.syncOrAsync(Vr)}};function qe(Q,j){if(Q){var Fe=Object.keys(oe).reduce(function(Re,Ge){return j.indexOf(Ge)!==-1&&oe[Ge].forEach(function(Ue){Re[Ue]=1}),Re},{});Object.keys(Q).forEach(function(Re){Fe[Re]||(Re.length===1?Q[Re]=0:delete Q[Re])})}}function Ze(Q,j){var Fe=[],Re,Ge=function(Ue,je){var We=Ue.xbnd[je];We!==null&&Fe.push(g.extendFlat({},Ue,{x:We}))};if(j.length){for(Re=0;Re<j.length;Re++)Ge(j[Re],0);Ge(j[Re-1],1)}return Fe}function Ie(Q,j){for(var Fe=[],Re={},Ge=0;Ge<j.length;Ge++){var Ue=j[Ge];Re[Ue.text2]?Re[Ue.text2].push(Ue.x):Re[Ue.text2]=[Ue.x]}for(var je in Re)Fe.push(lt(Q,g.interp(Re[je],.5),je));return Fe}function Be(Q,j){var Fe=[],Re,Ge,Ue=j.length&&j[j.length-1].x<j[0].x,je=function(Je,ht){var dt=Je.xbnd[ht];dt!==null&&Fe.push(g.extendFlat({},Je,{x:dt}))};if(Q.showdividers&&j.length){for(Re=0;Re<j.length;Re++){var We=j[Re];We.text2!==Ge&&je(We,Ue?1:0),Ge=We.text2}je(j[Re-1],Ue?0:1)}return Fe}function ze(Q,j,Fe){var Re,Ge,Ue,je;if(Q._selections[j].size())Re=1/0,Ge=-1/0,Ue=1/0,je=-1/0,Q._selections[j].each(function(){var Je=jt(this),ht=A.bBox(Je.node().parentNode);Re=Math.min(Re,ht.top),Ge=Math.max(Ge,ht.bottom),Ue=Math.min(Ue,ht.left),je=Math.max(je,ht.right)});else{var We=_.makeLabelFns(Q,Fe);Re=Ge=We.yFn({dx:0,dy:0,fontSize:0}),Ue=je=We.xFn({dx:0,dy:0,fontSize:0})}return{top:Re,bottom:Ge,left:Ue,right:je,height:Ge-Re,width:je-Ue}}_.getTickSigns=function(Q,j){var Fe=Q._id.charAt(0),Re={x:"top",y:"right"}[Fe],Ge=Q.side===Re?1:-1,Ue=[-1,1,Ge,-Ge],je=j?(Q.minor||{}).ticks:Q.ticks;return je!=="inside"==(Fe==="x")&&(Ue=Ue.map(function(We){return-We})),Q.side&&Ue.push({l:-1,t:-1,r:1,b:1}[Q.side.charAt(0)]),Ue},_.makeTransTickFn=function(Q){return Q._id.charAt(0)==="x"?function(j){return f(Q._offset+Q.l2p(j.x),0)}:function(j){return f(0,Q._offset+Q.l2p(j.x))}},_.makeTransTickLabelFn=function(Q){var j=vt(Q),Fe=Q.ticklabelshift||0,Re=Q.ticklabelstandoff||0,Ge=j[0],Ue=j[1],je=Q.range[0]>Q.range[1],We=Q.ticklabelposition&&Q.ticklabelposition.indexOf("inside")!==-1,Je=!We;if(Fe){var ht=je?-1:1;Fe=Fe*ht}if(Re){var dt=Q.side,Pt=We&&(dt==="top"||dt==="left")||Je&&(dt==="bottom"||dt==="right")?1:-1;Re=Re*Pt}return Q._id.charAt(0)==="x"?function(Nt){return f(Ge+Q._offset+Q.l2p(st(Nt))+Fe,Ue+Re)}:function(Nt){return f(Ue+Re,Ge+Q._offset+Q.l2p(st(Nt))+Fe)}};function st(Q){return Q.periodX!==void 0?Q.periodX:Q.x}function vt(Q){var j=Q.ticklabelposition||"",Fe=function(ae){return j.indexOf(ae)!==-1},Re=Fe("top"),Ge=Fe("left"),Ue=Fe("right"),je=Fe("bottom"),We=Fe("inside"),Je=je||Ge||Re||Ue;if(!Je&&!We)return[0,0];var ht=Q.side,dt=Je?(Q.tickwidth||0)/2:0,Pt=R,Nt=Q.tickfont?Q.tickfont.size:12;return(je||Re)&&(dt+=Nt*de,Pt+=(Q.linewidth||0)/2),(Ge||Ue)&&(dt+=(Q.linewidth||0)/2,Pt+=R),We&&ht==="top"&&(Pt-=Nt*(1-de)),(Ge||Re)&&(dt=-dt),(ht==="bottom"||ht==="right")&&(Pt=-Pt),[Je?dt:0,We?Pt:0]}_.makeTickPath=function(Q,j,Fe,Re){Re||(Re={});var Ge=Re.minor;if(Ge&&!Q.minor)return"";var Ue=Re.len!==void 0?Re.len:Ge?Q.minor.ticklen:Q.ticklen,je=Q._id.charAt(0),We=(Q.linewidth||1)/2;return je==="x"?"M0,"+(j+We*Fe)+"v"+Ue*Fe:"M"+(j+We*Fe)+",0h"+Ue*Fe},_.makeLabelFns=function(Q,j,Fe){var Re=Q.ticklabelposition||"",Ge=function(lr){return Re.indexOf(lr)!==-1},Ue=Ge("top"),je=Ge("left"),We=Ge("right"),Je=Ge("bottom"),ht=Je||je||Ue||We,dt=Ge("inside"),Pt=Re==="inside"&&Q.ticks==="inside"||!dt&&Q.ticks==="outside"&&Q.tickson!=="boundaries",Nt=0,ae=0,be=Pt?Q.ticklen:0;if(dt?be*=-1:ht&&(be=0),Pt&&(Nt+=be,Fe)){var Ee=g.deg2rad(Fe);Nt=be*Math.cos(Ee)+1,ae=be*Math.sin(Ee)}Q.showticklabels&&(Pt||Q.showline)&&(Nt+=.2*Q.tickfont.size),Nt+=(Q.linewidth||1)/2*(dt?-1:1);var De={labelStandoff:Nt,labelShift:ae},it,ft,At,nt,St=0,Et=Q.side,Ft=Q._id.charAt(0),Ht=Q.tickangle,$t;if(Ft==="x")$t=!dt&&Et==="bottom"||dt&&Et==="top",nt=$t?1:-1,dt&&(nt*=-1),it=ae*nt,ft=j+Nt*nt,At=$t?1:-.2,Math.abs(Ht)===90&&(dt?At+=ee:Ht===-90&&Et==="bottom"?At=de:Ht===90&&Et==="top"?At=ee:At=.5,St=ee/2*(Ht/90)),De.xFn=function(lr){return lr.dx+it+St*lr.fontSize},De.yFn=function(lr){return lr.dy+ft+lr.fontSize*At},De.anchorFn=function(lr,ur){if(ht){if(je)return"end";if(We)return"start"}return!v(ur)||ur===0||ur===180?"middle":ur*nt<0!==dt?"end":"start"},De.heightFn=function(lr,ur,zt){return ur<-60||ur>60?-.5*zt:Q.side==="top"!==dt?-zt:0};else if(Ft==="y"){if($t=!dt&&Et==="left"||dt&&Et==="right",nt=$t?1:-1,dt&&(nt*=-1),it=Nt,ft=ae*nt,At=0,!dt&&Math.abs(Ht)===90&&(Ht===-90&&Et==="left"||Ht===90&&Et==="right"?At=de:At=.5),dt){var yr=v(Ht)?+Ht:0;if(yr!==0){var mr=g.deg2rad(yr);St=Math.abs(Math.sin(mr))*de*nt,At=0}}De.xFn=function(lr){return lr.dx+j-(it+lr.fontSize*At)*nt+St*lr.fontSize},De.yFn=function(lr){return lr.dy+ft+lr.fontSize*ee},De.anchorFn=function(lr,ur){return v(ur)&&Math.abs(ur)===90?"middle":$t?"end":"start"},De.heightFn=function(lr,ur,zt){return Q.side==="right"&&(ur*=-1),ur<-30?-zt:ur<30?-.5*zt:0}}return De};function xt(Q){return[Q.text,Q.x,Q.axInfo,Q.font,Q.fontSize,Q.fontColor].join("_")}_.drawTicks=function(Q,j,Fe){Fe=Fe||{};var Re=j._id+"tick",Ge=[].concat(j.minor&&j.minor.ticks?Fe.vals.filter(function(je){return je.minor&&!je.noTick}):[]).concat(j.ticks?Fe.vals.filter(function(je){return!je.minor&&!je.noTick}):[]),Ue=Fe.layer.selectAll("path."+Re).data(Ge,xt);Ue.exit().remove(),Ue.enter().append("path").classed(Re,1).classed("ticks",1).classed("crisp",Fe.crisp!==!1).each(function(je){return r.stroke(t.select(this),je.minor?j.minor.tickcolor:j.tickcolor)}).style("stroke-width",function(je){return A.crispRound(Q,je.minor?j.minor.tickwidth:j.tickwidth,1)+"px"}).attr("d",Fe.path).style("display",null),wr(j,[ie]),Ue.attr("transform",Fe.transFn)},_.drawGrid=function(Q,j,Fe){if(Fe=Fe||{},j.tickmode!=="sync"){var Re=j._id+"grid",Ge=j.minor&&j.minor.showgrid,Ue=Ge?Fe.vals.filter(function(it){return it.minor}):[],je=j.showgrid?Fe.vals.filter(function(it){return!it.minor}):[],We=Fe.counterAxis;if(We&&_.shouldShowZeroLine(Q,j,We))for(var Je=j.tickmode==="array",ht=0;ht<je.length;ht++){var dt=je[ht].x;if(Je?!dt:Math.abs(dt)<j.dtick/100)if(je=je.slice(0,ht).concat(je.slice(ht+1)),Je)ht--;else break}j._gw=A.crispRound(Q,j.gridwidth,1);for(var Pt=Ge?A.crispRound(Q,j.minor.gridwidth,1):0,Nt=Fe.layer,ae=Fe.minorLayer,be=1;be>=0;be--){var Ee=be?Nt:ae;if(Ee){var De=Ee.selectAll("path."+Re).data(be?je:Ue,xt);De.exit().remove(),De.enter().append("path").classed(Re,1).classed("crisp",Fe.crisp!==!1),De.attr("transform",Fe.transFn).attr("d",Fe.path).each(function(it){return r.stroke(t.select(this),it.minor?j.minor.gridcolor:j.gridcolor||"#ddd")}).style("stroke-dasharray",function(it){return A.dashStyle(it.minor?j.minor.griddash:j.griddash,it.minor?j.minor.gridwidth:j.gridwidth)}).style("stroke-width",function(it){return(it.minor?Pt:j._gw)+"px"}).style("display",null),typeof Fe.path=="function"&&De.attr("d",Fe.path)}}wr(j,[te,ne])}},_.drawZeroLine=function(Q,j,Fe){Fe=Fe||Fe;var Re=j._id+"zl",Ge=_.shouldShowZeroLine(Q,j,Fe.counterAxis),Ue=Fe.layer.selectAll("path."+Re).data(Ge?[{x:0,id:j._id}]:[]);Ue.exit().remove(),Ue.enter().append("path").classed(Re,1).classed("zl",1).classed("crisp",Fe.crisp!==!1).each(function(){Fe.layer.selectAll("path").sort(function(je,We){return k(je.id,We.id)})}),Ue.attr("transform",Fe.transFn).attr("d",Fe.path).call(r.stroke,j.zerolinecolor||r.defaultLine).style("stroke-width",A.crispRound(Q,j.zerolinewidth,j._gw||1)+"px").style("display",null),wr(j,[H])},_.drawLabels=function(Q,j,Fe){Fe=Fe||{};var Re=Q._fullLayout,Ge=j._id,Ue=Fe.cls||Ge+"tick",je=Fe.vals.filter(function(ir){return ir.text}),We=Fe.labelFns,Je=Fe.secondary?0:j.tickangle,ht=(j._prevTickAngles||{})[Ue],dt=Fe.layer.selectAll("g."+Ue).data(j.showticklabels?je:[],xt),Pt=[];dt.enter().append("g").classed(Ue,1).append("text").attr("text-anchor","middle").each(function(ir){var vr=t.select(this),nr=Q._promises.length;vr.call(w.positionText,We.xFn(ir),We.yFn(ir)).call(A.font,{family:ir.font,size:ir.fontSize,color:ir.fontColor,weight:ir.fontWeight,style:ir.fontStyle,variant:ir.fontVariant,textcase:ir.fontTextcase,lineposition:ir.fontLineposition,shadow:ir.fontShadow}).text(ir.text).call(w.convertToTspans,Q),Q._promises[nr]?Pt.push(Q._promises.pop().then(function(){Nt(vr,Je)})):Nt(vr,Je)}),wr(j,[re]),dt.exit().remove(),Fe.repositionOnUpdate&&dt.each(function(ir){t.select(this).select("text").call(w.positionText,We.xFn(ir),We.yFn(ir))});function Nt(ir,vr){ir.each(function(nr){var kr=t.select(this),Pr=kr.select(".text-math-group"),Dr=We.anchorFn(nr,vr),Cr=Fe.transFn.call(kr.node(),nr)+(v(vr)&&+vr!=0?" rotate("+vr+","+We.xFn(nr)+","+(We.yFn(nr)-nr.fontSize/2)+")":""),tr=w.lineCount(kr),pr=he*nr.fontSize,Ir=We.heightFn(nr,v(vr)?+vr:0,(tr-1)*pr);if(Ir&&(Cr+=f(0,Ir)),Pr.empty()){var Or=kr.select("text");Or.attr({transform:Cr,"text-anchor":Dr}),Or.style("opacity",1),j._adjustTickLabelsOverflow&&j._adjustTickLabelsOverflow()}else{var zr=A.bBox(Pr.node()).width,Sr=zr*{end:-.5,start:.5}[Dr];Pr.attr("transform",Cr+f(Sr,0))}})}j._adjustTickLabelsOverflow=function(){var ir=j.ticklabeloverflow;if(!(!ir||ir==="allow")){var vr=ir.indexOf("hide")!==-1,nr=j._id.charAt(0)==="x",kr=0,Pr=nr?Q._fullLayout.width:Q._fullLayout.height;if(ir.indexOf("domain")!==-1){var Dr=g.simpleMap(j.range,j.r2l);kr=j.l2p(Dr[0])+j._offset,Pr=j.l2p(Dr[1])+j._offset}var Cr=Math.min(kr,Pr),tr=Math.max(kr,Pr),pr=j.side,Ir=1/0,Or=-1/0;dt.each(function(Kr){var Xr=t.select(this),en=Xr.select(".text-math-group");if(en.empty()){var rn=A.bBox(Xr.node()),Vr=0;nr?(rn.right>tr||rn.left<Cr)&&(Vr=1):(rn.bottom>tr||rn.top+(j.tickangle?0:Kr.fontSize/4)<Cr)&&(Vr=1);var nn=Xr.select("text");Vr?vr&&nn.style("opacity",0):(nn.style("opacity",1),pr==="bottom"||pr==="right"?Ir=Math.min(Ir,nr?rn.top:rn.left):Ir=-1/0,pr==="top"||pr==="left"?Or=Math.max(Or,nr?rn.bottom:rn.right):Or=1/0)}});for(var zr in Re._plots){var Sr=Re._plots[zr];if(!(j._id!==Sr.xaxis._id&&j._id!==Sr.yaxis._id)){var Jr=nr?Sr.yaxis:Sr.xaxis;Jr&&(Jr["_visibleLabelMin_"+j._id]=Ir,Jr["_visibleLabelMax_"+j._id]=Or)}}}},j._hideCounterAxisInsideTickLabels=function(ir){var vr=j._id.charAt(0)==="x",nr=[];for(var kr in Re._plots){var Pr=Re._plots[kr];j._id!==Pr.xaxis._id&&j._id!==Pr.yaxis._id||nr.push(vr?Pr.yaxis:Pr.xaxis)}nr.forEach(function(Dr,Cr){Dr&&cr(Dr)&&(ir||[H,ne,te,ie,re]).forEach(function(tr){var pr=tr.K==="tick"&&tr.L==="text"&&j.ticklabelmode==="period",Ir=Re._plots[j._mainSubplot],Or;tr.K===H.K?Or=Ir.zerolinelayer.selectAll("."+j._id+"zl"):tr.K===ne.K?Or=Ir.minorGridlayer.selectAll("."+j._id):tr.K===te.K?Or=Ir.gridlayer.selectAll("."+j._id):Or=Ir[j._id.charAt(0)+"axislayer"],Or.each(function(){var zr=t.select(this);tr.L&&(zr=zr.selectAll(tr.L)),zr.each(function(Sr){var Jr=j.l2p(pr?st(Sr):Sr.x)+j._offset,Kr=t.select(this);Jr<j["_visibleLabelMax_"+Dr._id]&&Jr>j["_visibleLabelMin_"+Dr._id]?Kr.style("display","none"):tr.K==="tick"&&!Cr&&Kr.style("display",null)})})})})},Nt(dt,ht+1?ht:Je);function ae(){return Pt.length&&Promise.all(Pt)}var be=null;function Ee(){if(Nt(dt,Je),je.length&&j.autotickangles&&(j.type!=="log"||String(j.dtick).charAt(0)!=="D")){be=j.autotickangles[0];var ir=0,vr=[],nr,kr=1;dt.each(function(Lr){ir=Math.max(ir,Lr.fontSize);var Br=j.l2p(Lr.x),Tn=jt(this),Vn=A.bBox(Tn.node());kr=Math.max(kr,w.lineCount(Tn)),vr.push({top:0,bottom:10,height:10,left:Br-Vn.width/2,right:Br+Vn.width/2+2,width:Vn.width+2})});var Pr=(j.tickson==="boundaries"||j.showdividers)&&!Fe.secondary,Dr=je.length,Cr=Math.abs((je[Dr-1].x-je[0].x)*j._m)/(Dr-1),tr=Pr?Cr/2:Cr,pr=Pr?j.ticklen:ir*1.25*kr,Ir=Math.sqrt(Math.pow(tr,2)+Math.pow(pr,2)),Or=tr/Ir,zr=j.autotickangles.map(function(Lr){return Lr*Math.PI/180}),Sr=zr.find(function(Lr){return Math.abs(Math.cos(Lr))<=Or});Sr===void 0&&(Sr=zr.reduce(function(Lr,Br){return Math.abs(Math.cos(Lr))<Math.abs(Math.cos(Br))?Lr:Br},zr[0]));var Jr=Sr*(180/Math.PI);if(Pr){var Kr=2;for(j.ticks&&(Kr+=j.tickwidth/2),nr=0;nr<vr.length;nr++){var Xr=je[nr].xbnd,en=vr[nr];if(Xr[0]!==null&&en.left-j.l2p(Xr[0])<Kr||Xr[1]!==null&&j.l2p(Xr[1])-en.right<Kr){be=Jr;break}}}else{var rn=j.ticklabelposition||"",Vr=function(Lr){return rn.indexOf(Lr)!==-1},nn=Vr("top"),sn=Vr("left"),jr=Vr("right"),ln=Vr("bottom"),Gr=ln||sn||nn||jr,Wr=Gr?(j.tickwidth||0)+2*R:0;for(nr=0;nr<vr.length-1;nr++)if(g.bBoxIntersect(vr[nr],vr[nr+1],Wr)){be=Jr;break}}be&&Nt(dt,be)}}j._selections&&(j._selections[Ue]=dt);var De=[ae];j.automargin&&Re._redrawFromAutoMarginCount&&ht===90?(be=ht,De.push(function(){Nt(dt,ht)})):De.push(Ee),j._tickAngles&&De.push(function(){j._tickAngles[Ue]=be===null?v(Je)?Je:0:be});var it=function(){var ir=0,vr=0;return dt.each(function(nr,kr){var Pr=jt(this),Dr=Pr.select(".text-math-group");if(Dr.empty()){var Cr;j._vals[kr]&&(Cr=j._vals[kr].bb||A.bBox(Pr.node()),j._vals[kr].bb=Cr),ir=Math.max(ir,Cr.width),vr=Math.max(vr,Cr.height)}}),{labelsMaxW:ir,labelsMaxH:vr}},ft=j._anchorAxis;if(ft&&(ft.autorange||ft.insiderange)&&cr(j)&&!y(Re,j._id)&&(Re._insideTickLabelsUpdaterange||(Re._insideTickLabelsUpdaterange={}),ft.autorange&&(Re._insideTickLabelsUpdaterange[ft._name+".autorange"]=ft.autorange,De.push(it)),ft.insiderange)){var At=it(),nt=j._id.charAt(0)==="y"?At.labelsMaxW:At.labelsMaxH;nt+=2*R,j.ticklabelposition==="inside"&&(nt+=j.ticklen||0);var St=j.side==="right"||j.side==="top"?1:-1,Et=St===1?1:0,Ft=St===1?0:1,Ht=[];Ht[Ft]=ft.range[Ft];var $t=ft.range,yr=ft.r2p($t[Et]),mr=ft.r2p($t[Ft]),lr=Re._insideTickLabelsUpdaterange[ft._name+".range"];if(lr){var ur=ft.r2p(lr[Et]),zt=ft.r2p(lr[Ft]),Ar=St*(j._id.charAt(0)==="y"?1:-1);Ar*yr<Ar*ur&&(yr=ur,Ht[Et]=$t[Et]=lr[Et]),Ar*mr>Ar*zt&&(mr=zt,Ht[Ft]=$t[Ft]=lr[Ft])}var gr=Math.abs(mr-yr);gr-nt>0?(gr-=nt,nt*=1+nt/gr):nt=0,j._id.charAt(0)!=="y"&&(nt=-nt),Ht[Et]=ft.p2r(ft.r2p($t[Et])+St*nt),ft.autorange==="min"||ft.autorange==="max reversed"?(Ht[0]=null,ft._rangeInitial0=void 0,ft._rangeInitial1=void 0):(ft.autorange==="max"||ft.autorange==="min reversed")&&(Ht[1]=null,ft._rangeInitial0=void 0,ft._rangeInitial1=void 0),Re._insideTickLabelsUpdaterange[ft._name+".range"]=Ht}var Mr=g.syncOrAsync(De);return Mr&&Mr.then&&Q._promises.push(Mr),Mr};function Lt(Q,j,Fe){var Re=j._id+"divider",Ge=Fe.vals,Ue=Fe.layer.selectAll("path."+Re).data(Ge,xt);Ue.exit().remove(),Ue.enter().insert("path",":first-child").classed(Re,1).classed("crisp",1).call(r.stroke,j.dividercolor).style("stroke-width",A.crispRound(Q,j.dividerwidth,1)+"px"),Ue.attr("transform",Fe.transFn).attr("d",Fe.path)}_.getPxPosition=function(Q,j){var Fe=Q._fullLayout._size,Re=j._id.charAt(0),Ge=j.side,Ue;if(j.anchor!=="free"?Ue=j._anchorAxis:Re==="x"?Ue={_offset:Fe.t+(1-(j.position||0))*Fe.h,_length:0}:Re==="y"&&(Ue={_offset:Fe.l+(j.position||0)*Fe.w+j._shift,_length:0}),Ge==="top"||Ge==="left")return Ue._offset;if(Ge==="bottom"||Ge==="right")return Ue._offset+Ue._length};function Wt(Q){var j=Q.title.font.size,Fe=(Q.title.text.match(w.BR_TAG_ALL)||[]).length;return Q.title.hasOwnProperty("standoff")?j*(de+Fe*he):Fe?j*(Fe+1)*he:j}function Vt(Q,j){var Fe=Q._fullLayout,Re=j._id,Ge=Re.charAt(0),Ue=j.title.font.size,je,We=(j.title.text.match(w.BR_TAG_ALL)||[]).length;if(j.title.hasOwnProperty("standoff"))j.side==="bottom"||j.side==="right"?je=j._depth+j.title.standoff+Ue*de:(j.side==="top"||j.side==="left")&&(je=j._depth+j.title.standoff+Ue*(ee+We*he));else{var Je=cr(j);if(j.type==="multicategory")je=j._depth;else{var ht=1.5*Ue;Je&&(ht=.5*Ue,j.ticks==="outside"&&(ht+=j.ticklen)),je=10+ht+(j.linewidth?j.linewidth-1:0)}Je||(Ge==="x"?je+=j.side==="top"?Ue*(j.showticklabels?1:0):Ue*(j.showticklabels?1.5:.5):je+=j.side==="right"?Ue*(j.showticklabels?1:.5):Ue*(j.showticklabels?.5:0))}var dt=_.getPxPosition(Q,j),Pt,Nt,ae;Ge==="x"?(Nt=j._offset+j._length/2,ae=j.side==="top"?dt-je:dt+je):(ae=j._offset+j._length/2,Nt=j.side==="right"?dt+je:dt-je,Pt={rotate:"-90",offset:0});var be;if(j.type!=="multicategory"){var Ee=j._selections[j._id+"tick"];if(be={selection:Ee,side:j.side},Ee&&Ee.node()&&Ee.node().parentNode){var De=A.getTranslate(Ee.node().parentNode);be.offsetLeft=De.x,be.offsetTop=De.y}j.title.hasOwnProperty("standoff")&&(be.pad=0)}return j._titleStandoff=je,c.draw(Q,Re+"title",{propContainer:j,propName:j._name+".title.text",placeholder:Fe._dfltTitle[Ge],avoid:be,transform:Pt,attributes:{x:Nt,y:ae,"text-anchor":"middle"}})}_.shouldShowZeroLine=function(Q,j,Fe){var Re=g.simpleMap(j.range,j.r2l);return Re[0]*Re[1]<=0&&j.zeroline&&(j.type==="linear"||j.type==="-")&&!(j.rangebreaks&&j.maskBreaks(0)===K)&&(Gt(j,0)||!hr(Q,j,Fe,Re)||Kt(Q,j))},_.clipEnds=function(Q,j){return j.filter(function(Fe){return Gt(Q,Fe.x)})};function Gt(Q,j){var Fe=Q.l2p(j);return Fe>1&&Fe<Q._length-1}function hr(Q,j,Fe,Re){var Ge=Fe._mainAxis;if(!Ge)return;var Ue=Q._fullLayout,je=j._id.charAt(0),We=_.counterLetter(j._id),Je=j._offset+(Math.abs(Re[0])<Math.abs(Re[1])==(je==="x")?0:j._length);function ht(be){if(!be.showline||!be.linewidth)return!1;var Ee=Math.max((be.linewidth+j.zerolinewidth)/2,1);function De(At){return typeof At=="number"&&Math.abs(At-Je)<Ee}if(De(be._mainLinePosition)||De(be._mainMirrorPosition))return!0;var it=be._linepositions||{};for(var ft in it)if(De(it[ft][0])||De(it[ft][1]))return!0}var dt=Ue._plots[Fe._mainSubplot];if(!(dt.mainplotinfo||dt).overlays.length)return ht(Fe,Je);for(var Pt=_.list(Q,We),Nt=0;Nt<Pt.length;Nt++){var ae=Pt[Nt];if(ae._mainAxis===Ge&&ht(ae,Je))return!0}}function Kt(Q,j){for(var Fe=Q._fullData,Re=j._mainSubplot,Ge=j._id.charAt(0),Ue=0;Ue<Fe.length;Ue++){var je=Fe[Ue];if(je.visible===!0&&je.xaxis+je.yaxis===Re&&(m.traceIs(je,"bar-like")&&je.orientation==={x:"h",y:"v"}[Ge]||je.fill&&je.fill.charAt(je.fill.length-1)===Ge))return!0}return!1}function jt(Q){var j=t.select(Q),Fe=j.select(".text-math-group");return Fe.empty()?j.select("text"):Fe}_.allowAutoMargin=function(Q){for(var j=_.list(Q,"",!0),Fe=0;Fe<j.length;Fe++){var Re=j[Fe];Re.automargin&&(u.allowAutoMargin(Q,or(Re)),Re.mirror&&u.allowAutoMargin(Q,sr(Re))),m.getComponentMethod("rangeslider","isVisible")(Re)&&u.allowAutoMargin(Q,er(Re))}};function or(Q){return Q._id+".automargin"}function sr(Q){return or(Q)+".mirror"}function er(Q){return Q._id+".rangeslider"}_.swap=function(Q,j){for(var Fe=ar(Q,j),Re=0;Re<Fe.length;Re++)Yt(Q,Fe[Re].x,Fe[Re].y)};function ar(Q,j){var Fe=[],Re,Ge;for(Re=0;Re<j.length;Re++){var Ue=[],je=Q._fullData[j[Re]].xaxis,We=Q._fullData[j[Re]].yaxis;if(!(!je||!We)){for(Ge=0;Ge<Fe.length;Ge++)(Fe[Ge].x.indexOf(je)!==-1||Fe[Ge].y.indexOf(We)!==-1)&&Ue.push(Ge);if(!Ue.length){Fe.push({x:[je],y:[We]});continue}var Je=Fe[Ue[0]],ht;if(Ue.length>1)for(Ge=1;Ge<Ue.length;Ge++)ht=Fe[Ue[Ge]],Ot(Je.x,ht.x),Ot(Je.y,ht.y);Ot(Je.x,[je]),Ot(Je.y,[We])}}return Fe}function Ot(Q,j){for(var Fe=0;Fe<j.length;Fe++)Q.indexOf(j[Fe])===-1&&Q.push(j[Fe])}function Yt(Q,j,Fe){var Re=[],Ge=[],Ue=Q.layout,je,We;for(je=0;je<j.length;je++)Re.push(_.getFromId(Q,j[je]));for(je=0;je<Fe.length;je++)Ge.push(_.getFromId(Q,Fe[je]));var Je=Object.keys(p),ht=["anchor","domain","overlaying","position","side","tickangle","editType"],dt=["linear","log"];for(je=0;je<Je.length;je++){var Pt=Je[je],Nt=Re[0][Pt],ae=Ge[0][Pt],be=!0,Ee=!1,De=!1;if(!(Pt.charAt(0)==="_"||typeof Nt=="function"||ht.indexOf(Pt)!==-1)){for(We=1;We<Re.length&&be;We++){var it=Re[We][Pt];Pt==="type"&&dt.indexOf(Nt)!==-1&&dt.indexOf(it)!==-1&&Nt!==it?Ee=!0:it!==Nt&&(be=!1)}for(We=1;We<Ge.length&&be;We++){var ft=Ge[We][Pt];Pt==="type"&&dt.indexOf(ae)!==-1&&dt.indexOf(ft)!==-1&&ae!==ft?De=!0:Ge[We][Pt]!==ae&&(be=!1)}be&&(Ee&&(Ue[Re[0]._name].type="linear"),De&&(Ue[Ge[0]._name].type="linear"),fr(Ue,Pt,Re,Ge,Q._fullLayout._dfltTitle))}}}function fr(Q,j,Fe,Re,Ge){var Ue=g.nestedProperty,je=Ue(Q[Fe[0]._name],j).get(),We=Ue(Q[Re[0]._name],j).get(),Je;for(j==="title"&&(je&&je.text===Ge.x&&(je.text=Ge.y),We&&We.text===Ge.y&&(We.text=Ge.x)),Je=0;Je<Fe.length;Je++)Ue(Q,Fe[Je]._name+"."+j).set(We);for(Je=0;Je<Re.length;Je++)Ue(Q,Re[Je]._name+"."+j).set(je)}function xr(Q){return Q._id==="angularaxis"}function It(Q,j){for(var Fe=j._rangebreaks.length,Re=0;Re<Fe;Re++){var Ge=j._rangebreaks[Re];if(Q>=Ge.min&&Q<Ge.max)return Ge.max}return Q}function cr(Q){return(Q.ticklabelposition||"").indexOf("inside")!==-1}function wr(Q,j){cr(Q._anchorAxis||{})&&Q._hideCounterAxisInsideTickLabels&&Q._hideCounterAxisInsideTickLabels(j)}function qr(Q,j,Fe,Re){var Ge=Q.anchor!=="free"&&(Q.overlaying===void 0||Q.overlaying===!1)?Q._id:Q.overlaying,Ue;Re?Ue=Q.side==="right"?j:-j:Ue=j,Ge in Fe||(Fe[Ge]={}),Q.side in Fe[Ge]||(Fe[Ge][Q.side]=0),Fe[Ge][Q.side]+=Ue}function Fr(Q,j){return Q.autoshift?j[Q.overlaying][Q.side]:Q.shift||0}function Rt(Q,j){return/%f/.test(j)?Q>=B:/%L/.test(j)?Q>=U:/%[SX]/.test(j)?Q>=d:/%M/.test(j)?Q>=D:/%[HI]/.test(j)?Q>=O:/%p/.test(j)?Q>=L:/%[Aadejuwx]/.test(j)?Q>=Y:/%[UVW]/.test(j)?Q>=z:/%[Bbm]/.test(j)?Q>=C:/%[q]/.test(j)?Q>=a:/%[Yy]/.test(j)?Q>=x:!0}}}),$u=Ke({"src/plots/cartesian/autorange_options_defaults.js"(M,N){"use strict";N.exports=function(v,u,m){var g,f;if(m){var w=u==="reversed"||u==="min reversed"||u==="max reversed";g=m[w?1:0],f=m[w?0:1]}var c=v("autorangeoptions.minallowed",f===null?g:void 0),r=v("autorangeoptions.maxallowed",g===null?f:void 0);c===void 0&&v("autorangeoptions.clipmin"),r===void 0&&v("autorangeoptions.clipmax"),v("autorangeoptions.include")}}}),Uo=Ke({"src/plots/cartesian/range_defaults.js"(M,N){"use strict";var t=$u();N.exports=function(u,m,g,f){var w=m._template||{},c=m.type||w.type||"-";g("minallowed"),g("maxallowed");var r=g("range");if(!r){var A;!f.noInsiderange&&c!=="log"&&(A=g("insiderange"),A&&(A[0]===null||A[1]===null)&&(m.insiderange=!1,A=void 0),A&&(r=g("range",A)))}var p=m.getAutorangeDflt(r,f),E=g("autorange",p),S;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(E==="reversed"||E===!0)||r[0]!==null&&(E==="min"||E==="max reversed")||r[1]!==null&&(E==="max"||E==="min reversed"))&&(r=void 0,delete m.range,m.autorange=!0,S=!0),S||(p=m.getAutorangeDflt(r,f),E=g("autorange",p)),E&&(t(g,E,r),(c==="linear"||c==="-")&&g("rangemode")),m.cleanRange()}}}),Qu=Ke({"node_modules/mouse-event-offset/index.js"(M,N){var t={left:0,top:0};N.exports=v;function v(m,g,f){g=g||m.currentTarget||m.srcElement,Array.isArray(f)||(f=[0,0]);var w=m.clientX||0,c=m.clientY||0,r=u(g);return f[0]=w-r.left,f[1]=c-r.top,f}function u(m){return m===window||m===document||m===document.body?t:m.getBoundingClientRect()}}}),Ju=Ke({"node_modules/has-passive-events/index.js"(M,N){"use strict";var t=Io();function v(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("test",null,m),window.removeEventListener("test",null,m)}catch{u=!1}return u}N.exports=t&&v()}}),Ku=Ke({"src/components/dragelement/align.js"(M,N){"use strict";N.exports=function(v,u,m,g,f){var w=(v-m)/(g-m),c=w+u/(g-m),r=(w+c)/2;return f==="left"||f==="bottom"?w:f==="center"||f==="middle"?r:f==="right"||f==="top"?c:w<2/3-r?w:c>4/3-r?c:r}}}),ef=Ke({"src/components/dragelement/cursor.js"(M,N){"use strict";var t=Zt(),v=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];N.exports=function(m,g,f,w){return f==="left"?m=0:f==="center"?m=1:f==="right"?m=2:m=t.constrain(Math.floor(m*3),0,2),w==="bottom"?g=0:w==="middle"?g=1:w==="top"?g=2:g=t.constrain(Math.floor(g*3),0,2),v[g][m]}}}),tf=Ke({"src/components/dragelement/unhover.js"(M,N){"use strict";var t=qa(),v=zo(),u=Ha().getGraphDiv,m=Ia(),g=N.exports={};g.wrapped=function(f,w,c){f=u(f),f._fullLayout&&v.clear(f._fullLayout._uid+m.HOVERID),g.raw(f,w,c)},g.raw=function(w,c){var r=w._fullLayout,A=w._hoverdata;c||(c={}),!(c.target&&!w._dragged&&t.triggerHandler(w,"plotly_beforehover",c)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),w._hoverdata=void 0,c.target&&A&&w.emit("plotly_unhover",{event:c,points:A}))}}}),$n=Ke({"src/components/dragelement/index.js"(M,N){"use strict";var t=Qu(),v=Oo(),u=Ju(),m=Zt().removeElement,g=xn(),f=N.exports={};f.align=Ku(),f.getCursor=ef();var w=tf();f.unhover=w.wrapped,f.unhoverRaw=w.raw,f.init=function(p){var E=p.gd,S=1,F=E._context.doubleClickDelay,x=p.element,b,h,a,o,T,C,z,Y;E._mouseDownTime||(E._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=D,u?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=D,x.addEventListener("touchstart",D,{passive:!1})):x.ontouchstart=D;function L(B,X,K){return Math.abs(B)<K&&(B=0),Math.abs(X)<K&&(X=0),[B,X]}var O=p.clampFn||L;function D(B){E._dragged=!1,E._dragging=!0;var X=r(B);b=X[0],h=X[1],z=B.target,C=B,Y=B.buttons===2||B.ctrlKey,typeof B.clientX>"u"&&typeof B.clientY>"u"&&(B.clientX=b,B.clientY=h),a=new Date().getTime(),a-E._mouseDownTime<F?S+=1:(S=1,E._mouseDownTime=a),p.prepFn&&p.prepFn(B,b,h),v&&!Y?(T=c(),T.style.cursor=window.getComputedStyle(x).cursor):v||(T=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",U),document.addEventListener("touchend",U),p.dragmode!==!1&&(B.preventDefault(),document.addEventListener("mousemove",d),document.addEventListener("touchmove",d,{passive:!1}))}function d(B){B.preventDefault();var X=r(B),K=p.minDrag||g.MINDRAG,H=O(X[0]-b,X[1]-h,K),te=H[0],ne=H[1];(te||ne)&&(E._dragged=!0,f.unhover(E,B)),E._dragged&&p.moveFn&&!Y&&(E._dragdata={element:x,dx:te,dy:ne},p.moveFn(te,ne))}function U(B){if(delete E._dragdata,p.dragmode!==!1&&(B.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("touchmove",d)),document.removeEventListener("mouseup",U),document.removeEventListener("touchend",U),v?m(T):o&&(T.documentElement.style.cursor=o,o=null),!E._dragging){E._dragged=!1;return}if(E._dragging=!1,new Date().getTime()-E._mouseDownTime>F&&(S=Math.max(S-1,1)),E._dragged)p.doneFn&&p.doneFn();else{var X;C.target===z?X=C:(X={target:z,srcElement:z,toElement:z},Object.keys(C).concat(Object.keys(C.__proto__)).forEach(K=>{var H=C[K];!X[K]&&typeof H!="function"&&(X[K]=H)})),p.clickFn&&p.clickFn(S,X),Y||z.dispatchEvent(new MouseEvent("click",B))}E._dragging=!1,E._dragged=!1}};function c(){var A=document.createElement("div");A.className="dragcover";var p=A.style;return p.position="fixed",p.left=0,p.right=0,p.top=0,p.bottom=0,p.zIndex=999999999,p.background="none",document.body.appendChild(A),A}f.coverSlip=c;function r(A){return t(A.changedTouches?A.changedTouches[0]:A,document.body)}}}),Ga=Ke({"src/lib/setcursor.js"(M,N){"use strict";N.exports=function(v,u){(v.attr("class")||"").split(" ").forEach(function(m){m.indexOf("cursor-")===0&&v.classed(m,!1)}),u&&v.classed("cursor-"+u,!0)}}}),rf=Ke({"src/lib/override_cursor.js"(M,N){"use strict";var t=Ga(),v="data-savedcursor",u="!!";N.exports=function(g,f){var w=g.attr(v);if(f){if(!w){for(var c=(g.attr("class")||"").split(" "),r=0;r<c.length;r++){var A=c[r];A.indexOf("cursor-")===0&&g.attr(v,A.substr(7)).classed(A,!1)}g.attr(v)||g.attr(v,u)}t(g,f)}else w&&(g.attr(v,null),w===u?t(g):t(g,w))}}}),jo=Ke({"src/components/legend/attributes.js"(M,N){"use strict";var t=Sn(),v=sa();N.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:t({editType:"legend"}),grouptitlefont:t({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:t({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}}),ji=Ke({"src/components/legend/helpers.js"(M){"use strict";M.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},M.isVertical=function(t){return t.orientation!=="h"},M.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}}}),Xo=Ke({"src/components/legend/defaults.js"(M,N){"use strict";var t=Er(),v=Zt(),u=Pn(),m=Fn(),g=jo(),f=xa(),w=ji();function c(r,A,p,E){var S=A[r]||{},F=u.newContainer(p,r);function x(I,R){return v.coerce(S,F,g,I,R)}var b=v.coerceFont(x,"font",p.font);x("bgcolor",p.paper_bgcolor),x("bordercolor");var h=x("visible");if(h){for(var a,o=function(I,R){var _=a._input,i=a;return v.coerce(_,i,m,I,R)},T=p.font||{},C=v.coerceFont(x,"grouptitlefont",T,{overrideDflt:{size:Math.round(T.size*1.1)}}),z=0,Y=!1,L="normal",O=(p.shapes||[]).filter(function(I){return I.showlegend}),D=E.concat(O).filter(function(I){return r===(I.legend||"legend")}),d=0;d<D.length;d++)if(a=D[d],!!a.visible){var U=a._isShape;(a.showlegend||a._dfltShowLegend&&!(a._module&&a._module.attributes&&a._module.attributes.showlegend&&a._module.attributes.showlegend.dflt===!1))&&(z++,a.showlegend&&(Y=!0,(!U&&t.traceIs(a,"pie-like")||a._input.showlegend===!0)&&z++),v.coerceFont(o,"legendgrouptitle.font",C)),(!U&&t.traceIs(a,"bar")&&p.barmode==="stack"||["tonextx","tonexty"].indexOf(a.fill)!==-1)&&(L=w.isGrouped({traceorder:L})?"grouped+reversed":"reversed"),a.legendgroup!==void 0&&a.legendgroup!==""&&(L=w.isReversed({traceorder:L})?"reversed+grouped":"grouped")}var B=v.coerce(A,p,f,"showlegend",Y&&z>(r==="legend"?1:0));if(B===!1&&(p[r]=void 0),!(B===!1&&!S.uirevision)&&(x("uirevision",p.uirevision),B!==!1)){x("borderwidth");var X=x("orientation"),K=x("yref"),H=x("xref"),te=X==="h",ne=K==="paper",ie=H==="paper",re,oe,W,ee="left";te?(re=0,t.getComponentMethod("rangeslider","isVisible")(A.xaxis)?ne?(oe=1.1,W="bottom"):(oe=1,W="top"):ne?(oe=-.1,W="top"):(oe=0,W="bottom")):(oe=1,W="auto",ie?re=1.02:(re=1,ee="right")),v.coerce(S,F,{x:{valType:"number",editType:"legend",min:ie?-2:0,max:ie?3:1,dflt:re}},"x"),v.coerce(S,F,{y:{valType:"number",editType:"legend",min:ne?-2:0,max:ne?3:1,dflt:oe}},"y"),x("traceorder",L),w.isGrouped(p[r])&&x("tracegroupgap"),x("entrywidth"),x("entrywidthmode"),x("indentation"),x("itemsizing"),x("itemwidth"),x("itemclick"),x("itemdoubleclick"),x("groupclick"),x("xanchor",ee),x("yanchor",W),x("valign"),v.noneOrAll(S,F,["x","y"]);var de=x("title.text");if(de){x("title.side",te?"left":"top");var he=v.extendFlat({},b,{size:v.bigFont(b.size)});v.coerceFont(x,"title.font",he)}}}}N.exports=function(A,p,E){var S,F=E.slice(),x=p.shapes;if(x)for(S=0;S<x.length;S++){var b=x[S];if(b.showlegend){var h={_input:b._input,visible:b.visible,showlegend:b.showlegend,legend:b.legend};F.push(h)}}var a=["legend"];for(S=0;S<F.length;S++)v.pushUnique(a,F[S].legend);for(p._legends=[],S=0;S<a.length;S++){var o=a[S];c(o,A,p,F),p[o]&&p[o].visible&&(p[o]._id=o),p._legends.push(o)}}}}),nf=Ke({"src/components/legend/handle_click.js"(M,N){"use strict";var t=Er(),v=Zt(),u=v.pushUnique,m=!0;N.exports=function(f,w,c){var r=w._fullLayout;if(w._dragged||w._editing)return;var A=r.legend.itemclick,p=r.legend.itemdoubleclick,E=r.legend.groupclick;c===1&&A==="toggle"&&p==="toggleothers"&&m&&w.data&&w._context.showTips,m=!1;var S;if(c===1?S=A:c===2&&(S=p),!S)return;var F=E==="togglegroup",x=r.hiddenlabels?r.hiddenlabels.slice():[],b=f.data()[0][0];if(b.groupTitle&&b.noClick)return;var h=w._fullData,a=(r.shapes||[]).filter(function(ce){return ce.showlegend}),o=h.concat(a),T=b.trace;T._isShape&&(T=T._fullInput);var C=T.legendgroup,z,Y,L,O,D,d,U={},B=[],X=[],K=[];function H(ce,me){var pe=B.indexOf(ce),xe=U.visible;return xe||(xe=U.visible=[]),B.indexOf(ce)===-1&&(B.push(ce),pe=B.length-1),xe[pe]=me,pe}var te=(r.shapes||[]).map(function(ce){return ce._input}),ne=!1;function ie(ce,me){te[ce].visible=me,ne=!0}function re(ce,me){if(!(b.groupTitle&&!F)){var pe=ce._fullInput||ce,xe=pe._isShape,Oe=pe.index;Oe===void 0&&(Oe=pe._index);var Xe=pe.visible===!1?!1:me;xe?ie(Oe,Xe):H(Oe,Xe)}}var oe=T.legend,W=T._fullInput,ee=W&&W._isShape;if(!ee&&t.traceIs(T,"pie-like")){var de=b.label,he=x.indexOf(de);if(S==="toggle")he===-1?x.push(de):x.splice(he,1);else if(S==="toggleothers"){var I=he!==-1,R=[];for(z=0;z<w.calcdata.length;z++){var _=w.calcdata[z];for(Y=0;Y<_.length;Y++){var i=_[Y],l=i.label;oe===_[0].trace.legend&&de!==l&&(x.indexOf(l)===-1&&(I=!0),u(x,l),R.push(l))}}if(!I)for(var k=0;k<R.length;k++){var y=x.indexOf(R[k]);y!==-1&&x.splice(y,1)}}t.call("_guiRelayout",w,"hiddenlabels",x)}else{var n=C&&C.length,q=[],J;if(n)for(z=0;z<o.length;z++)J=o[z],J.visible&&J.legendgroup===C&&q.push(z);if(S==="toggle"){var se;switch(T.visible){case!0:se="legendonly";break;case!1:se=!1;break;case"legendonly":se=!0;break}if(n)if(F)for(z=0;z<o.length;z++){var ye=o[z];ye.visible!==!1&&ye.legendgroup===C&&re(ye,se)}else re(T,se);else re(T,se)}else if(S==="toggleothers"){var we,ke,ue,Me,Ne,Ce=!0;for(z=0;z<o.length;z++)if(Ne=o[z],we=Ne===T,ue=Ne.showlegend!==!0,!(we||ue)&&(ke=n&&Ne.legendgroup===C,!ke&&Ne.legend===oe&&Ne.visible===!0&&!t.traceIs(Ne,"notLegendIsolatable"))){Ce=!1;break}for(z=0;z<o.length;z++)if(Ne=o[z],!(Ne.visible===!1||Ne.legend!==oe)&&!t.traceIs(Ne,"notLegendIsolatable"))switch(T.visible){case"legendonly":re(Ne,!0);break;case!0:Me=Ce?!0:"legendonly",we=Ne===T,ue=Ne.showlegend!==!0&&!Ne.legendgroup,ke=we||n&&Ne.legendgroup===C,re(Ne,ke||ue?!0:Me);break}}for(z=0;z<X.length;z++)if(L=X[z],!!L){var Le=L.constructUpdate(),$=Object.keys(Le);for(Y=0;Y<$.length;Y++)O=$[Y],d=U[O]=U[O]||[],d[K[z]]=Le[O]}for(D=Object.keys(U),z=0;z<D.length;z++)for(O=D[z],Y=0;Y<B.length;Y++)U[O].hasOwnProperty(Y)||(U[O][Y]=void 0);ne?t.call("_guiUpdate",w,U,{shapes:te},B):t.call("_guiRestyle",w,U,B)}}}}),Vo=Ke({"src/components/legend/constants.js"(M,N){"use strict";N.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}}),af=Ke({"src/components/legend/get_legend_data.js"(M,N){"use strict";var t=Er(),v=ji();N.exports=function(m,g,f){var w=g._inHover,c=v.isGrouped(g),r=v.isReversed(g),A={},p=[],E=!1,S={},F=0,x=0,b,h;function a(re,oe,W){if(g.visible!==!1&&!(f&&re!==g._id))if(oe===""||!v.isGrouped(g)){var ee="~~i"+F;p.push(ee),A[ee]=[W],F++}else p.indexOf(oe)===-1?(p.push(oe),E=!0,A[oe]=[W]):A[oe].push(W)}for(b=0;b<m.length;b++){var o=m[b],T=o[0],C=T.trace,z=C.legend,Y=C.legendgroup;if(!(!w&&(!C.visible||!C.showlegend)))if(t.traceIs(C,"pie-like"))for(S[Y]||(S[Y]={}),h=0;h<o.length;h++){var L=o[h].label;S[Y][L]||(a(z,Y,{label:L,color:o[h].color,i:o[h].i,trace:C,pts:o[h].pts}),S[Y][L]=!0,x=Math.max(x,(L||"").length))}else a(z,Y,T),x=Math.max(x,(C.name||"").length)}if(!p.length)return[];var O=!E||!c,D=[];for(b=0;b<p.length;b++){var d=A[p[b]];O?D.push(d[0]):D.push(d)}for(O&&(D=[D]),b=0;b<D.length;b++){var U=1/0;for(h=0;h<D[b].length;h++){var B=D[b][h].trace.legendrank;U>B&&(U=B)}D[b][0]._groupMinRank=U,D[b][0]._preGroupSort=b}var X=function(re,oe){return re[0]._groupMinRank-oe[0]._groupMinRank||re[0]._preGroupSort-oe[0]._preGroupSort},K=function(re,oe){return re.trace.legendrank-oe.trace.legendrank||re._preSort-oe._preSort};for(D.forEach(function(re,oe){re[0]._preGroupSort=oe}),D.sort(X),b=0;b<D.length;b++){D[b].forEach(function(re,oe){re._preSort=oe}),D[b].sort(K);var H=D[b][0].trace,te=null;for(h=0;h<D[b].length;h++){var ne=D[b][h].trace.legendgrouptitle;if(ne&&ne.text){te=ne,w&&(ne.font=g._groupTitleFont);break}}if(r&&D[b].reverse(),te){var ie=!1;for(h=0;h<D[b].length;h++)if(t.traceIs(D[b][h].trace,"pie-like")){ie=!0;break}D[b].unshift({i:-1,groupTitle:te,noClick:ie,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:g.groupclick==="toggleitem"?!0:H.visible}})}for(h=0;h<D[b].length;h++)D[b][h]=[D[b][h]]}return g._lgroupsLength=D.length,g._maxNameLength=x,D}}}),Yo=Ke({"src/components/legend/style.js"(M,N){"use strict";var t=Yr(),v=Er(),u=Zt(),m=u.strTranslate,g=un(),f=$r(),w=Yu().extractOpts,c=Gn(),r=Vo(),A=12,p=5,E=2,S=10,F=5;N.exports=function(o,T,C){var z=T._fullLayout;C||(C=z.legend);var Y=C.itemsizing==="constant",L=C.itemwidth,O=(L+r.itemGap*2)/2,D=m(O,0),d=function(W,ee,de,he){var I;if(W+1)I=W;else if(ee&&ee.width>0)I=ee.width;else return 0;return Y?he:Math.min(I,de)};o.each(function(W){var ee=t.select(this),de=u.ensureSingle(ee,"g","layers");de.style("opacity",W[0].trace.opacity);var he=C.indentation,I=C.valign,R=W[0].lineHeight,_=W[0].height;if(I==="middle"&&he===0||!R||!_)de.attr("transform",null);else{var i={top:1,bottom:-1}[I],l=i*(.5*(R-_+3))||0,k=C.indentation;de.attr("transform",m(k,l))}var y=de.selectAll("g.legendfill").data([W]);y.enter().append("g").classed("legendfill",!0);var n=de.selectAll("g.legendlines").data([W]);n.enter().append("g").classed("legendlines",!0);var q=de.selectAll("g.legendsymbols").data([W]);q.enter().append("g").classed("legendsymbols",!0),q.selectAll("g.legendpoints").data([W]).enter().append("g").classed("legendpoints",!0)}).each(oe).each(X).each(H).each(K).each(ne).each(U).each(B).each(ie).each(re);function U(W){var ee=b(W),de=ee.showFill,he=ee.showLine,I=ee.showGradientLine,R=ee.showGradientFill,_=ee.anyFill,i=ee.anyLine,l=W[0],k=l.trace,y,n,q=w(k),J=q.colorscale,se=q.reversescale,ye=function(Le){if(Le.size())if(de)g.fillGroupStyle(Le,T,!0);else{var $="legendfill-"+k.uid;g.gradient(Le,T,$,x(se),J,"fill")}},we=function(Le){if(Le.size()){var $="legendline-"+k.uid;g.lineGroupStyle(Le),g.gradient(Le,T,$,x(se),J,"stroke")}},ke=c.hasMarkers(k)||!_?"M5,0":i?"M5,-2":"M5,-3",ue=t.select(this),Me=ue.select(".legendfill").selectAll("path").data(de||R?[W]:[]);if(Me.enter().append("path").classed("js-fill",!0),Me.exit().remove(),Me.attr("d",ke+"h"+L+"v6h-"+L+"z").call(ye),he||I){var Ne=d(void 0,k.line,S,p);n=u.minExtend(k,{line:{width:Ne}}),y=[u.minExtend(l,{trace:n})]}var Ce=ue.select(".legendlines").selectAll("path").data(he||I?[y]:[]);Ce.enter().append("path").classed("js-line",!0),Ce.exit().remove(),Ce.attr("d",ke+(I?"l"+L+",0.0001":"h"+L)).call(he?g.lineGroupStyle:we)}function B(W){var ee=b(W),de=ee.anyFill,he=ee.anyLine,I=ee.showLine,R=ee.showMarker,_=W[0],i=_.trace,l=!R&&!he&&!de&&c.hasText(i),k,y;function n(Me,Ne,Ce,Le){var $=u.nestedProperty(i,Me).get(),ce=u.isArrayOrTypedArray($)&&Ne?Ne($):$;if(Y&&ce&&Le!==void 0&&(ce=Le),Ce){if(ce<Ce[0])return Ce[0];if(ce>Ce[1])return Ce[1]}return ce}function q(Me){return _._distinct&&_.index&&Me[_.index]?Me[_.index]:Me[0]}if(R||l||I){var J={},se={};if(R){J.mc=n("marker.color",q),J.mx=n("marker.symbol",q),J.mo=n("marker.opacity",u.mean,[.2,1]),J.mlc=n("marker.line.color",q),J.mlw=n("marker.line.width",u.mean,[0,5],E),se.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ye=n("marker.size",u.mean,[2,16],A);J.ms=ye,se.marker.size=ye}I&&(se.line={width:n("line.width",q,[0,10],p)}),l&&(J.tx="Aa",J.tp=n("textposition",q),J.ts=10,J.tc=n("textfont.color",q),J.tf=n("textfont.family",q),J.tw=n("textfont.weight",q),J.ty=n("textfont.style",q),J.tv=n("textfont.variant",q),J.tC=n("textfont.textcase",q),J.tE=n("textfont.lineposition",q),J.tS=n("textfont.shadow",q)),k=[u.minExtend(_,J)],y=u.minExtend(i,se),y.selectedpoints=null,y.texttemplate=null}var we=t.select(this).select("g.legendpoints"),ke=we.selectAll("path.scatterpts").data(R?k:[]);ke.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",D),ke.exit().remove(),ke.call(g.pointStyle,y,T),R&&(k[0].mrc=3);var ue=we.selectAll("g.pointtext").data(l?k:[]);ue.enter().append("g").classed("pointtext",!0).append("text").attr("transform",D),ue.exit().remove(),ue.selectAll("text").call(g.textPointStyle,y,T)}function X(W){var ee=W[0].trace,de=ee.type==="waterfall";if(W[0]._distinct&&de){var he=W[0].trace[W[0].dir].marker;return W[0].mc=he.color,W[0].mlw=he.line.width,W[0].mlc=he.line.color,te(W,this,"waterfall")}var I=[];ee.visible&&de&&(I=W[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=t.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",D).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(_){var i=t.select(this),l=ee[_[0]].marker,k=d(void 0,l.line,F,E);i.attr("d",_[1]).style("stroke-width",k+"px").call(f.fill,l.color),k&&i.call(f.stroke,l.line.color)})}function K(W){te(W,this)}function H(W){te(W,this,"funnel")}function te(W,ee,de){var he=W[0].trace,I=he.marker||{},R=I.line||{},_=I.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",i=de?he.visible&&he.type===de:v.traceIs(he,"bar"),l=t.select(ee).select("g.legendpoints").selectAll("path.legend"+de).data(i?[W]:[]);l.enter().append("path").classed("legend"+de,!0).attr("d",_).attr("transform",D),l.exit().remove(),l.each(function(k){var y=t.select(this),n=k[0],q=d(n.mlw,I.line,F,E);y.style("stroke-width",q+"px");var J=n.mcc;if(!C._inHover&&"mc"in n){var se=w(I),ye=se.mid;ye===void 0&&(ye=(se.max+se.min)/2),J=g.tryColorscale(I,"")(ye)}var we=J||n.mc||I.color,ke=I.pattern,ue=ke&&g.getPatternAttr(ke.shape,0,"");if(ue){var Me=g.getPatternAttr(ke.bgcolor,0,null),Ne=g.getPatternAttr(ke.fgcolor,0,null),Ce=ke.fgopacity,Le=h(ke.size,8,10),$=h(ke.solidity,.5,1),ce="legend-"+he.uid;y.call(g.pattern,"legend",T,ce,ue,Le,$,J,ke.fillmode,Me,Ne,Ce)}else y.call(f.fill,we);q&&f.stroke(y,n.mlc||R.color)})}function ne(W){var ee=W[0].trace,de=t.select(this).select("g.legendpoints").selectAll("path.legendbox").data(ee.visible&&v.traceIs(ee,"box-violin")?[W]:[]);de.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),de.exit().remove(),de.each(function(){var he=t.select(this);if((ee.boxpoints==="all"||ee.points==="all")&&f.opacity(ee.fillcolor)===0&&f.opacity((ee.line||{}).color)===0){var I=u.minExtend(ee,{marker:{size:Y?A:u.constrain(ee.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});de.call(g.pointStyle,I,T)}else{var R=d(void 0,ee.line,F,E);he.style("stroke-width",R+"px").call(f.fill,ee.fillcolor),R&&f.stroke(he,ee.line.color)}})}function ie(W){var ee=W[0].trace,de=t.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(ee.visible&&ee.type==="candlestick"?[W,W]:[]);de.enter().append("path").classed("legendcandle",!0).attr("d",function(he,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",D).style("stroke-miterlimit",1),de.exit().remove(),de.each(function(he,I){var R=t.select(this),_=ee[I?"increasing":"decreasing"],i=d(void 0,_.line,F,E);R.style("stroke-width",i+"px").call(f.fill,_.fillcolor),i&&f.stroke(R,_.line.color)})}function re(W){var ee=W[0].trace,de=t.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(ee.visible&&ee.type==="ohlc"?[W,W]:[]);de.enter().append("path").classed("legendohlc",!0).attr("d",function(he,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",D).style("stroke-miterlimit",1),de.exit().remove(),de.each(function(he,I){var R=t.select(this),_=ee[I?"increasing":"decreasing"],i=d(void 0,_.line,F,E);R.style("fill","none").call(g.dashLine,_.line.dash,i),i&&f.stroke(R,_.line.color)})}function oe(W){var ee=W[0].trace,de,he=[];if(ee.visible)switch(ee.type){case"histogram2d":case"heatmap":he=[["M-15,-2V4H15V-2Z"]],de=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":he=[["M-6,-6V6H6V-6Z"]],de=!0;break;case"densitymapbox":case"densitymap":he=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],de="radial";break;case"cone":he=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],de=!1;break;case"streamtube":he=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],de=!1;break;case"surface":he=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],de=!0;break;case"mesh3d":he=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],de=!1;break;case"volume":he=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],de=!0;break;case"isosurface":he=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],de=!1;break}var I=t.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(he);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",D).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(R,_){var i=t.select(this),l=w(ee),k=l.colorscale,y=l.reversescale,n=function(ye){if(ye.size()){var we="legendfill-"+ee.uid;g.gradient(ye,T,we,x(y,de==="radial"),k,"fill")}},q;if(k){if(!de){var se=k.length;q=_===0?k[y?se-1:0][1]:_===1?k[y?0:se-1][1]:k[Math.floor((se-1)/2)][1]}}else{var J=ee.vertexcolor||ee.facecolor||ee.color;q=u.isArrayOrTypedArray(J)?J[_]||J[0]:J}i.attr("d",R[0]),q?i.call(f.fill,q):i.call(n)})}};function x(a,o){var T=o?"radial":"horizontal";return T+(a?"":"reversed")}function b(a){var o=a[0].trace,T=o.contours,C=c.hasLines(o),z=c.hasMarkers(o),Y=o.visible&&o.fill&&o.fill!=="none",L=!1,O=!1;if(T){var D=T.coloring;D==="lines"?L=!0:C=D==="none"||D==="heatmap"||T.showlines,T.type==="constraint"?Y=T._operation!=="=":(D==="fill"||D==="heatmap")&&(O=!0)}return{showMarker:z,showLine:C,showFill:Y,showGradientLine:L,showGradientFill:O,anyLine:C||L,anyFill:Y||O}}function h(a,o,T){return a&&u.isArrayOrTypedArray(a)?o:a>T?T:a}}}),Zo=Ke({"src/components/legend/draw.js"(M,N){"use strict";var t=Yr(),v=Zt(),u=En(),m=Er(),g=qa(),f=$n(),w=un(),c=$r(),r=jn(),A=nf(),p=Vo(),E=zn(),S=E.LINE_SPACING,F=E.FROM_TL,x=E.FROM_BR,b=af(),h=Yo(),a=ji(),o=1,T=/^legend[0-9]*$/;N.exports=function(oe,W){if(W)z(oe,W);else{var ee=oe._fullLayout,de=ee._legends,he=ee._infolayer.selectAll('[class^="legend"]');he.each(function(){var i=t.select(this),l=i.attr("class"),k=l.split(" ")[0];k.match(T)&&de.indexOf(k)===-1&&i.remove()});for(var I=0;I<de.length;I++){var R=de[I],_=oe._fullLayout[R];z(oe,_)}}};function C(re,oe,W){if(!(oe.title.side!=="top center"&&oe.title.side!=="top right")){var ee=oe.title.font,de=ee.size*S,he=0,I=re.node(),R=w.bBox(I).width;oe.title.side==="top center"?he=.5*(oe._width-2*W-2*p.titlePad-R):oe.title.side==="top right"&&(he=oe._width-2*W-2*p.titlePad-R),r.positionText(re,W+p.titlePad+he,W+de)}}function z(re,oe){var W=oe||{},ee=re._fullLayout,de=ie(W),he,I,R=W._inHover;if(R?(I=W.layer,he="hover"):(I=ee._infolayer,he=de),!!I){he+=ee._uid,re._legendMouseDownTime||(re._legendMouseDownTime=0);var _;if(R){if(!W.entries)return;_=b(W.entries,W)}else{for(var i=(re.calcdata||[]).slice(),l=ee.shapes,k=0;k<l.length;k++){var y=l[k];if(y.showlegend){var n={_isShape:!0,_fullInput:y,index:y._index,name:y.name||y.label.text||"shape "+y._index,legend:y.legend,legendgroup:y.legendgroup,legendgrouptitle:y.legendgrouptitle,legendrank:y.legendrank,legendwidth:y.legendwidth,showlegend:y.showlegend,visible:y.visible,opacity:y.opacity,mode:y.type==="line"?"lines":"markers",line:y.line,marker:{line:y.line,color:y.fillcolor,size:12,symbol:y.type==="rect"?"square":y.type==="circle"?"circle":"hexagon2"}};i.push([{trace:n}])}}_=ee.showlegend&&b(i,W,ee._legends.length>1)}var q=ee.hiddenlabels||[];if(!R&&(!ee.showlegend||!_.length))return I.selectAll("."+de).remove(),ee._topdefs.select("#"+he).remove(),u.autoMargin(re,de);var J=v.ensureSingle(I,"g",de,function(Le){R||Le.attr("pointer-events","all")}),se=v.ensureSingleById(ee._topdefs,"clipPath",he,function(Le){Le.append("rect")}),ye=v.ensureSingle(J,"rect","bg",function(Le){Le.attr("shape-rendering","crispEdges")});ye.call(c.stroke,W.bordercolor).call(c.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var we=v.ensureSingle(J,"g","scrollbox"),ke=W.title;W._titleWidth=0,W._titleHeight=0;var ue;ke.text?(ue=v.ensureSingle(we,"text",de+"titletext"),ue.attr("text-anchor","start").call(w.font,ke.font).text(ke.text),U(ue,we,re,W,o)):we.selectAll("."+de+"titletext").remove();var Me=v.ensureSingle(J,"rect","scrollbar",function(Le){Le.attr(p.scrollBarEnterAttrs).call(c.fill,p.scrollBarColor)}),Ne=we.selectAll("g.groups").data(_);Ne.enter().append("g").attr("class","groups"),Ne.exit().remove();var Ce=Ne.selectAll("g.traces").data(v.identity);Ce.enter().append("g").attr("class","traces"),Ce.exit().remove(),Ce.style("opacity",function(Le){var $=Le[0].trace;return m.traceIs($,"pie-like")?q.indexOf(Le[0].label)!==-1?.5:1:$.visible==="legendonly"?.5:1}).each(function(){t.select(this).call(O,re,W)}).call(h,re,W).each(function(){R||t.select(this).call(d,re,de)}),v.syncOrAsync([u.previousPromises,function(){return K(re,Ne,Ce,W)},function(){var Le=ee._size,$=W.borderwidth,ce=W.xref==="paper",me=W.yref==="paper";if(ke.text&&C(ue,W,$),!R){var pe,xe;ce?pe=Le.l+Le.w*W.x-F[te(W)]*W._width:pe=ee.width*W.x-F[te(W)]*W._width,me?xe=Le.t+Le.h*(1-W.y)-F[ne(W)]*W._effHeight:xe=ee.height*(1-W.y)-F[ne(W)]*W._effHeight;var Oe=H(re,de,pe,xe);if(Oe)return;if(ee.margin.autoexpand){var Xe=pe,$e=xe;pe=ce?v.constrain(pe,0,ee.width-W._width):Xe,xe=me?v.constrain(xe,0,ee.height-W._effHeight):$e,pe!==Xe&&v.log("Constrain "+de+".x to make legend fit inside graph"),xe!==$e&&v.log("Constrain "+de+".y to make legend fit inside graph")}w.setTranslate(J,pe,xe)}if(Me.on(".drag",null),J.on("wheel",null),R||W._height<=W._maxHeight||re._context.staticPlot){var pt=W._effHeight;R&&(pt=W._height),ye.attr({width:W._width-$,height:pt-$,x:$/2,y:$/2}),w.setTranslate(we,0,0),se.select("rect").attr({width:W._width-2*$,height:pt-2*$,x:$,y:$}),w.setClipUrl(we,he,re),w.setRect(Me,0,0,0,0),delete W._scrollY}else{var rt=Math.max(p.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),kt=W._effHeight-rt-2*p.scrollBarMargin,Mt=W._height-W._effHeight,Dt=kt/Mt,lt=Math.min(W._scrollY||0,Mt);ye.attr({width:W._width-2*$+p.scrollBarWidth+p.scrollBarMargin,height:W._effHeight-$,x:$/2,y:$/2}),se.select("rect").attr({width:W._width-2*$+p.scrollBarWidth+p.scrollBarMargin,height:W._effHeight-2*$,x:$,y:$+lt}),w.setClipUrl(we,he,re),ge(lt,rt,Dt),J.on("wheel",function(){lt=v.constrain(W._scrollY+t.event.deltaY/kt*Mt,0,Mt),ge(lt,rt,Dt),lt!==0&&lt!==Mt&&t.event.preventDefault()});var wt,ut,yt,et=function(Ze,Ie,Be){var ze=(Be-Ie)/Dt+Ze;return v.constrain(ze,0,Mt)},tt=function(Ze,Ie,Be){var ze=(Ie-Be)/Dt+Ze;return v.constrain(ze,0,Mt)},ct=t.behavior.drag().on("dragstart",function(){var Ze=t.event.sourceEvent;Ze.type==="touchstart"?wt=Ze.changedTouches[0].clientY:wt=Ze.clientY,yt=lt}).on("drag",function(){var Ze=t.event.sourceEvent;Ze.buttons===2||Ze.ctrlKey||(Ze.type==="touchmove"?ut=Ze.changedTouches[0].clientY:ut=Ze.clientY,lt=et(yt,wt,ut),ge(lt,rt,Dt))});Me.call(ct);var le=t.behavior.drag().on("dragstart",function(){var Ze=t.event.sourceEvent;Ze.type==="touchstart"&&(wt=Ze.changedTouches[0].clientY,yt=lt)}).on("drag",function(){var Ze=t.event.sourceEvent;Ze.type==="touchmove"&&(ut=Ze.changedTouches[0].clientY,lt=tt(yt,wt,ut),ge(lt,rt,Dt))});we.call(le)}function ge(Ze,Ie,Be){W._scrollY=re._fullLayout[de]._scrollY=Ze,w.setTranslate(we,0,-Ze),w.setRect(Me,W._width,p.scrollBarMargin+Ze*Be,p.scrollBarWidth,Ie),se.select("rect").attr("y",$+Ze)}if(re._context.edits.legendPosition){var _e,Te,He,qe;J.classed("cursor-move",!0),f.init({element:J.node(),gd:re,prepFn:function(Ze){if(Ze.target!==Me.node()){var Ie=w.getTranslate(J);He=Ie.x,qe=Ie.y}},moveFn:function(Ze,Ie){if(He!==void 0&&qe!==void 0){var Be=He+Ze,ze=qe+Ie;w.setTranslate(J,Be,ze),_e=f.align(Be,W._width,Le.l,Le.l+Le.w,W.xanchor),Te=f.align(ze+W._height,-W._height,Le.t+Le.h,Le.t,W.yanchor)}},doneFn:function(){if(_e!==void 0&&Te!==void 0){var Ze={};Ze[de+".x"]=_e,Ze[de+".y"]=Te,m.call("_guiRelayout",re,Ze)}},clickFn:function(Ze,Ie){var Be=I.selectAll("g.traces").filter(function(){var ze=this.getBoundingClientRect();return Ie.clientX>=ze.left&&Ie.clientX<=ze.right&&Ie.clientY>=ze.top&&Ie.clientY<=ze.bottom});Be.size()>0&&L(re,J,Be,Ze,Ie)}})}}],re)}}function Y(re,oe,W){var ee=re[0],de=ee.width,he=oe.entrywidthmode,I=ee.trace.legendwidth||oe.entrywidth;return he==="fraction"?oe._maxWidth*I:W+(I||de)}function L(re,oe,W,ee,de){var he=W.data()[0][0].trace,I={event:de,node:W.node(),curveNumber:he.index,expandedIndex:he.index,data:re.data,layout:re.layout,frames:re._transitionData._frames,config:re._context,fullData:re._fullData,fullLayout:re._fullLayout};he._group&&(I.group=he._group),m.traceIs(he,"pie-like")&&(I.label=W.datum()[0].label);var R=g.triggerHandler(re,"plotly_legendclick",I);if(ee===1){if(R===!1)return;oe._clickTimeout=setTimeout(function(){re._fullLayout&&A(W,re,ee)},re._context.doubleClickDelay)}else if(ee===2){oe._clickTimeout&&clearTimeout(oe._clickTimeout),re._legendMouseDownTime=0;var _=g.triggerHandler(re,"plotly_legenddoubleclick",I);_!==!1&&R!==!1&&A(W,re,ee)}}function O(re,oe,W){var ee=ie(W),de=re.data()[0][0],he=de.trace,I=m.traceIs(he,"pie-like"),R=!W._inHover&&oe._context.edits.legendText&&!I,_=W._maxNameLength,i,l;de.groupTitle?(i=de.groupTitle.text,l=de.groupTitle.font):(l=W.font,W.entries?i=de.text:(i=I?de.label:he.name,he._meta&&(i=v.templateString(i,he._meta))));var k=v.ensureSingle(re,"text",ee+"text");k.attr("text-anchor","start").call(w.font,l).text(R?D(i,_):i);var y=W.indentation+W.itemwidth+p.itemGap*2;r.positionText(k,y,0),R?k.call(r.makeEditable,{gd:oe,text:i}).call(U,re,oe,W).on("edit",function(n){this.text(D(n,_)).call(U,re,oe,W);var q=de.trace._fullInput||{},J={};return J.name=n,q._isShape?m.call("_guiRelayout",oe,"shapes["+he.index+"].name",J.name):m.call("_guiRestyle",oe,J,he.index)}):U(k,re,oe,W)}function D(re,oe){var W=Math.max(4,oe);if(re&&re.trim().length>=W/2)return re;re=re||"";for(var ee=W-re.length;ee>0;ee--)re+=" ";return re}function d(re,oe,W){var ee=oe._context.doubleClickDelay,de,he=1,I=v.ensureSingle(re,"rect",W+"toggle",function(R){oe._context.staticPlot||R.style("cursor","pointer").attr("pointer-events","all"),R.call(c.fill,"rgba(0,0,0,0)")});oe._context.staticPlot||(I.on("mousedown",function(){de=new Date().getTime(),de-oe._legendMouseDownTime<ee?he+=1:(he=1,oe._legendMouseDownTime=de)}),I.on("mouseup",function(){if(!(oe._dragged||oe._editing)){var R=oe._fullLayout[W];new Date().getTime()-oe._legendMouseDownTime>ee&&(he=Math.max(he-1,1)),L(oe,R,re,he,t.event)}}))}function U(re,oe,W,ee,de){ee._inHover&&re.attr("data-notex",!0),r.convertToTspans(re,W,function(){B(oe,W,ee,de)})}function B(re,oe,W,ee){var de=re.data()[0][0];if(!W._inHover&&de&&!de.trace.showlegend){re.remove();return}var he=re.select("g[class*=math-group]"),I=he.node(),R=ie(W);W||(W=oe._fullLayout[R]);var _=W.borderwidth,i;ee===o?i=W.title.font:de.groupTitle?i=de.groupTitle.font:i=W.font;var l=i.size*S,k,y;if(I){var n=w.bBox(I);k=n.height,y=n.width,ee===o?w.setTranslate(he,_,_+k*.75):w.setTranslate(he,0,k*.25)}else{var q="."+R+(ee===o?"title":"")+"text",J=re.select(q),se=r.lineCount(J),ye=J.node();if(k=l*se,y=ye?w.bBox(ye).width:0,ee===o)W.title.side==="left"&&(y+=p.itemGap*2),r.positionText(J,_+p.titlePad,_+l);else{var we=p.itemGap*2+W.indentation+W.itemwidth;de.groupTitle&&(we=p.itemGap,y-=W.indentation+W.itemwidth),r.positionText(J,we,-l*((se-1)/2-.3))}}ee===o?(W._titleWidth=y,W._titleHeight=k):(de.lineHeight=l,de.height=Math.max(k,16)+3,de.width=y)}function X(re){var oe=0,W=0,ee=re.title.side;return ee&&(ee.indexOf("left")!==-1&&(oe=re._titleWidth),ee.indexOf("top")!==-1&&(W=re._titleHeight)),[oe,W]}function K(re,oe,W,ee){var de=re._fullLayout,he=ie(ee);ee||(ee=de[he]);var I=de._size,R=a.isVertical(ee),_=a.isGrouped(ee),i=ee.entrywidthmode==="fraction",l=ee.borderwidth,k=2*l,y=p.itemGap,n=ee.indentation+ee.itemwidth+y*2,q=2*(l+y),J=ne(ee),se=ee.y<0||ee.y===0&&J==="top",ye=ee.y>1||ee.y===1&&J==="bottom",we=ee.tracegroupgap,ke={};ee._maxHeight=Math.max(se||ye?de.height/2:I.h,30);var ue=0;ee._width=0,ee._height=0;var Me=X(ee);if(R)W.each(function(yt){var et=yt[0].height;w.setTranslate(this,l+Me[0],l+Me[1]+ee._height+et/2+y),ee._height+=et,ee._width=Math.max(ee._width,yt[0].width)}),ue=n+ee._width,ee._width+=y+n+k,ee._height+=q,_&&(oe.each(function(yt,et){w.setTranslate(this,0,et*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var Ne=te(ee),Ce=ee.x<0||ee.x===0&&Ne==="right",Le=ee.x>1||ee.x===1&&Ne==="left",$=ye||se,ce=de.width/2;ee._maxWidth=Math.max(Ce?$&&Ne==="left"?I.l+I.w:ce:Le?$&&Ne==="right"?I.r+I.w:ce:I.w,2*n);var me=0,pe=0;W.each(function(yt){var et=Y(yt,ee,n);me=Math.max(me,et),pe+=et}),ue=null;var xe=0;if(_){var Oe=0,Xe=0,$e=0;oe.each(function(){var yt=0,et=0;t.select(this).selectAll("g.traces").each(function(ct){var le=Y(ct,ee,n),ge=ct[0].height;w.setTranslate(this,Me[0],Me[1]+l+y+ge/2+et),et+=ge,yt=Math.max(yt,le),ke[ct[0].trace.legendgroup]=yt});var tt=yt+y;Xe>0&&tt+l+Xe>ee._maxWidth?(xe=Math.max(xe,Xe),Xe=0,$e+=Oe+we,Oe=et):Oe=Math.max(Oe,et),w.setTranslate(this,Xe,$e),Xe+=tt}),ee._width=Math.max(xe,Xe)+l,ee._height=$e+Oe+q}else{var pt=W.size(),rt=pe+k+(pt-1)*y<ee._maxWidth,kt=0,Mt=0,Dt=0,lt=0;W.each(function(yt){var et=yt[0].height,tt=Y(yt,ee,n,_),ct=rt?tt:me;i||(ct+=y),ct+l+Mt-y>=ee._maxWidth&&(xe=Math.max(xe,lt),Mt=0,Dt+=kt,ee._height+=kt,kt=0),w.setTranslate(this,Me[0]+l+Mt,Me[1]+l+Dt+et/2+y),lt=Mt+tt+y,Mt+=ct,kt=Math.max(kt,et)}),rt?(ee._width=Mt+k,ee._height=kt+q):(ee._width=Math.max(xe,lt)+k,ee._height+=kt+q)}}ee._width=Math.ceil(Math.max(ee._width+Me[0],ee._titleWidth+2*(l+p.titlePad))),ee._height=Math.ceil(Math.max(ee._height+Me[1],ee._titleHeight+2*(l+p.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var wt=re._context.edits,ut=wt.legendText||wt.legendPosition;W.each(function(yt){var et=t.select(this).select("."+he+"toggle"),tt=yt[0].height,ct=yt[0].trace.legendgroup,le=Y(yt,ee,n);_&&ct!==""&&(le=ke[ct]);var ge=ut?n:ue||le;!R&&!i&&(ge+=y/2),w.setRect(et,0,-tt/2,ge,tt)})}function H(re,oe,W,ee){var de=re._fullLayout,he=de[oe],I=te(he),R=ne(he),_=he.xref==="paper",i=he.yref==="paper";re._fullLayout._reservedMargin[oe]={};var l=he.y<.5?"b":"t",k=he.x<.5?"l":"r",y={r:de.width-W,l:W+he._width,b:de.height-ee,t:ee+he._effHeight};if(_&&i)return u.autoMargin(re,oe,{x:he.x,y:he.y,l:he._width*F[I],r:he._width*x[I],b:he._effHeight*x[R],t:he._effHeight*F[R]});_?re._fullLayout._reservedMargin[oe][l]=y[l]:i||he.orientation==="v"?re._fullLayout._reservedMargin[oe][k]=y[k]:re._fullLayout._reservedMargin[oe][l]=y[l]}function te(re){return v.isRightAnchor(re)?"right":v.isCenterAnchor(re)?"center":"left"}function ne(re){return v.isBottomAnchor(re)?"bottom":v.isMiddleAnchor(re)?"middle":"top"}function ie(re){return re._id||"legend"}}}),Wo=Ke({"src/components/fx/hover.js"(M){"use strict";var N=Yr(),t=Zr(),v=Un(),u=Zt(),m=u.pushUnique,g=u.strTranslate,f=u.strRotate,w=qa(),c=jn(),r=rf(),A=un(),p=$r(),E=$n(),S=An(),F=xn().zindexSeparator,x=Er(),b=Ta(),h=Ia(),a=Xo(),o=Zo(),T=h.YANGLE,C=Math.PI*T/180,z=1/Math.sin(C),Y=Math.cos(C),L=Math.sin(C),O=h.HOVERARROWSIZE,D=h.HOVERTEXTPAD,d={box:!0,ohlc:!0,violin:!0,candlestick:!0},U={scatter:!0,scattergl:!0,splom:!0};function B(n,q){return n.distance-q.distance}M.hover=function(q,J,se,ye){q=u.getGraphDiv(q);var we=J.target;u.throttle(q._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){X(q,J,se,ye,we)})},M.loneHover=function(q,J){var se=!0;Array.isArray(q)||(se=!1,q=[q]);var ye=J.gd,we=l(ye),ke=k(ye),ue=q.map(function(xe){var Oe=xe._x0||xe.x0||xe.x||0,Xe=xe._x1||xe.x1||xe.x||0,$e=xe._y0||xe.y0||xe.y||0,pt=xe._y1||xe.y1||xe.y||0,rt=xe.eventData;if(rt){var kt=Math.min(Oe,Xe),Mt=Math.max(Oe,Xe),Dt=Math.min($e,pt),lt=Math.max($e,pt),wt=xe.trace;if(x.traceIs(wt,"gl3d")){var ut=ye._fullLayout[wt.scene]._scene.container,yt=ut.offsetLeft,et=ut.offsetTop;kt+=yt,Mt+=yt,Dt+=et,lt+=et}rt.bbox={x0:kt+ke,x1:Mt+ke,y0:Dt+we,y1:lt+we},J.inOut_bbox&&J.inOut_bbox.push(rt.bbox)}else rt=!1;return{color:xe.color||p.defaultLine,x0:xe.x0||xe.x||0,x1:xe.x1||xe.x||0,y0:xe.y0||xe.y||0,y1:xe.y1||xe.y||0,xLabel:xe.xLabel,yLabel:xe.yLabel,zLabel:xe.zLabel,text:xe.text,name:xe.name,idealAlign:xe.idealAlign,borderColor:xe.borderColor,fontFamily:xe.fontFamily,fontSize:xe.fontSize,fontColor:xe.fontColor,fontWeight:xe.fontWeight,fontStyle:xe.fontStyle,fontVariant:xe.fontVariant,nameLength:xe.nameLength,textAlign:xe.textAlign,trace:xe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:xe.hovertemplate||!1,hovertemplateLabels:xe.hovertemplateLabels||!1,eventData:rt}}),Me=!1,Ne=te(ue,{gd:ye,hovermode:"closest",rotateLabels:Me,bgColor:J.bgColor||p.background,container:N.select(J.container),outerContainer:J.outerContainer||J.container}),Ce=Ne.hoverLabels,Le=5,$=0,ce=0;Ce.sort(function(xe,Oe){return xe.y0-Oe.y0}).each(function(xe,Oe){var Xe=xe.y0-xe.by/2;Xe-Le<$?xe.offset=$-Xe+Le:xe.offset=0,$=Xe+xe.by+xe.offset,Oe===J.anchorIndex&&(ce=xe.offset)}).each(function(xe){xe.offset-=ce});var me=ye._fullLayout._invScaleX,pe=ye._fullLayout._invScaleY;return W(Ce,Me,me,pe),se?Ce:Ce.node()};function X(n,q,J,se,ye){J||(J="xy"),typeof J=="string"&&(J=J.split(F)[0]);var we=Array.isArray(J)?J:[J],ke,ue=n._fullLayout,Me=ue.hoversubplots,Ne=ue._plots||[],Ce=Ne[J],Le=ue._has("cartesian"),$=q.hovermode||ue.hovermode,ce=($||"").charAt(0)==="x",me=($||"").charAt(0)==="y",pe,xe;if(Le&&(ce||me)&&Me==="axis"){for(var Oe=we.length,Xe=0;Xe<Oe;Xe++)if(ke=we[Xe],Ne[ke]){pe=S.getFromId(n,ke,"x"),xe=S.getFromId(n,ke,"y");var $e=(ce?pe:xe)._subplotsWith;if($e&&$e.length)for(var pt=0;pt<$e.length;pt++)m(we,$e[pt])}}if(Ce&&Me!=="single"){var rt=Ce.overlays.map(function(zt){return zt.id});we=we.concat(rt)}for(var kt=we.length,Mt=new Array(kt),Dt=new Array(kt),lt=!1,wt=0;wt<kt;wt++)if(ke=we[wt],Ne[ke])lt=!0,Mt[wt]=Ne[ke].xaxis,Dt[wt]=Ne[ke].yaxis;else if(ue[ke]&&ue[ke]._subplot){var ut=ue[ke]._subplot;Mt[wt]=ut.xaxis,Dt[wt]=ut.yaxis}else{u.warn("Unrecognized subplot: "+ke);return}if($&&!lt&&($="closest"),["x","y","closest","x unified","y unified"].indexOf($)===-1||!n.calcdata||n.querySelector(".zoombox")||n._dragging)return E.unhoverRaw(n,q);var yt=ue.hoverdistance;yt===-1&&(yt=1/0);var et=ue.spikedistance;et===-1&&(et=1/0);var tt=[],ct=[],le,ge,_e,Te,He,qe,Ze,Ie,Be,ze,st,vt,xt,Lt={hLinePoint:null,vLinePoint:null},Wt=!1;if(Array.isArray(q))for($="array",_e=0;_e<q.length;_e++)He=n.calcdata[q[_e].curveNumber||0],He&&(qe=He[0].trace,He[0].trace.hoverinfo!=="skip"&&(ct.push(He),qe.orientation==="h"&&(Wt=!0)));else{var Vt=n.calcdata.slice();for(Vt.sort(function(zt,Ar){var gr=zt[0].trace.zorder||0,Mr=Ar[0].trace.zorder||0;return gr-Mr}),Te=0;Te<Vt.length;Te++)He=Vt[Te],qe=He[0].trace,qe.hoverinfo!=="skip"&&b.isTraceInSubplots(qe,we)&&(ct.push(He),qe.orientation==="h"&&(Wt=!0));var Gt=!ye,hr,Kt;if(Gt)"xpx"in q?hr=q.xpx:hr=Mt[0]._length/2,"ypx"in q?Kt=q.ypx:Kt=Dt[0]._length/2;else{if(w.triggerHandler(n,"plotly_beforehover",q)===!1)return;var jt=ye.getBoundingClientRect();hr=q.clientX-jt.left,Kt=q.clientY-jt.top,ue._calcInverseTransform(n);var or=u.apply3DTransform(ue._invTransform)(hr,Kt);if(hr=or[0],Kt=or[1],hr<0||hr>Mt[0]._length||Kt<0||Kt>Dt[0]._length)return E.unhoverRaw(n,q)}if(q.pointerX=hr+Mt[0]._offset,q.pointerY=Kt+Dt[0]._offset,"xval"in q?le=b.flat(we,q.xval):le=b.p2c(Mt,hr),"yval"in q?ge=b.flat(we,q.yval):ge=b.p2c(Dt,Kt),!t(le[0])||!t(ge[0]))return u.warn("Fx.hover failed",q,n),E.unhoverRaw(n,q)}var sr=1/0;function er(zt,Ar){for(Te=0;Te<ct.length;Te++)if(He=ct[Te],!(!He||!He[0]||!He[0].trace)&&(qe=He[0].trace,!(qe.visible!==!0||qe._length===0)&&["carpet","contourcarpet"].indexOf(qe._module.name)===-1)){if(Be=$,b.isUnifiedHover(Be)&&(Be=Be.charAt(0)),qe.type==="splom"?(Ie=0,Ze=we[Ie]):(Ze=b.getSubplot(qe),Ie=we.indexOf(Ze)),vt={cd:He,trace:qe,xa:Mt[Ie],ya:Dt[Ie],maxHoverDistance:yt,maxSpikeDistance:et,index:!1,distance:Math.min(sr,yt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:qe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ue[Ze]&&(vt.subplot=ue[Ze]._subplot),ue._splomScenes&&ue._splomScenes[qe.uid]&&(vt.scene=ue._splomScenes[qe.uid]),Be==="array"){var gr=q[Te];"pointNumber"in gr?(vt.index=gr.pointNumber,Be="closest"):(Be="","xval"in gr&&(ze=gr.xval,Be="x"),"yval"in gr&&(st=gr.yval,Be=Be?"closest":"y"))}else zt!==void 0&&Ar!==void 0?(ze=zt,st=Ar):(ze=le[Ie],st=ge[Ie]);if(xt=tt.length,yt!==0)if(qe._module&&qe._module.hoverPoints){var Mr=qe._module.hoverPoints(vt,ze,st,Be,{finiteRange:!0,hoverLayer:ue._hoverlayer,hoversubplots:Me,gd:n});if(Mr)for(var ir,vr=0;vr<Mr.length;vr++)ir=Mr[vr],t(ir.x0)&&t(ir.y0)&&tt.push(ee(ir,$))}else u.log("Unrecognized trace type in hover:",qe);if($==="closest"&&tt.length>xt&&(tt.splice(0,xt),sr=tt[0].distance),Le&&et!==0&&tt.length===0){vt.distance=et,vt.index=!1;var nr=qe._module.hoverPoints(vt,ze,st,"closest",{hoverLayer:ue._hoverlayer});if(nr&&(nr=nr.filter(function(pr){return pr.spikeDistance<=et})),nr&&nr.length){var kr,Pr=nr.filter(function(pr){return pr.xa.showspikes&&pr.xa.spikesnap!=="hovered data"});if(Pr.length){var Dr=Pr[0];t(Dr.x0)&&t(Dr.y0)&&(kr=Ot(Dr),(!Lt.vLinePoint||Lt.vLinePoint.spikeDistance>kr.spikeDistance)&&(Lt.vLinePoint=kr))}var Cr=nr.filter(function(pr){return pr.ya.showspikes&&pr.ya.spikesnap!=="hovered data"});if(Cr.length){var tr=Cr[0];t(tr.x0)&&t(tr.y0)&&(kr=Ot(tr),(!Lt.hLinePoint||Lt.hLinePoint.spikeDistance>kr.spikeDistance)&&(Lt.hLinePoint=kr))}}}}}er();function ar(zt,Ar,gr){for(var Mr=null,ir=1/0,vr,nr=0;nr<zt.length;nr++)pe&&pe._id!==zt[nr].xa._id||xe&&xe._id!==zt[nr].ya._id||(vr=zt[nr].spikeDistance,gr&&nr===0&&(vr=-1/0),vr<=ir&&vr<=Ar&&(Mr=zt[nr],ir=vr));return Mr}function Ot(zt){return zt?{xa:zt.xa,ya:zt.ya,x:zt.xSpike!==void 0?zt.xSpike:(zt.x0+zt.x1)/2,y:zt.ySpike!==void 0?zt.ySpike:(zt.y0+zt.y1)/2,distance:zt.distance,spikeDistance:zt.spikeDistance,curveNumber:zt.trace.index,color:zt.color,pointNumber:zt.index}:null}var Yt={fullLayout:ue,container:ue._hoverlayer,event:q},fr=n._spikepoints,xr={vLinePoint:Lt.vLinePoint,hLinePoint:Lt.hLinePoint};n._spikepoints=xr;var It=function(){var zt=tt.filter(function(gr){return pe&&pe._id===gr.xa._id&&xe&&xe._id===gr.ya._id}),Ar=tt.filter(function(gr){return!(pe&&pe._id===gr.xa._id&&xe&&xe._id===gr.ya._id)});zt.sort(B),Ar.sort(B),tt=zt.concat(Ar),tt=_(tt,$)};It();var cr=$.charAt(0),wr=(cr==="x"||cr==="y")&&tt[0]&&U[tt[0].trace.type];if(Le&&et!==0&&tt.length!==0){var qr=tt.filter(function(zt){return zt.ya.showspikes}),Fr=ar(qr,et,wr);Lt.hLinePoint=Ot(Fr);var Rt=tt.filter(function(zt){return zt.xa.showspikes}),Q=ar(Rt,et,wr);Lt.vLinePoint=Ot(Q)}if(tt.length===0){var j=E.unhoverRaw(n,q);return Le&&(Lt.hLinePoint!==null||Lt.vLinePoint!==null)&&I(fr)&&de(n,Lt,Yt),j}if(Le&&I(fr)&&de(n,Lt,Yt),b.isXYhover(Be)&&tt[0].length!==0&&tt[0].trace.type!=="splom"){var Fe=tt[0];d[Fe.trace.type]?tt=tt.filter(function(zt){return zt.trace.index===Fe.trace.index}):tt=[Fe];var Re=tt.length,Ge=i("x",Fe,ue),Ue=i("y",Fe,ue);er(Ge,Ue);var je=[],We={},Je=0,ht=function(zt){var Ar=d[zt.trace.type]?K(zt):zt.trace.index;if(!We[Ar])Je++,We[Ar]=Je,je.push(zt);else{var gr=We[Ar]-1,Mr=je[gr];gr>0&&Math.abs(zt.distance)<Math.abs(Mr.distance)&&(je[gr]=zt)}},dt;for(dt=0;dt<Re;dt++)ht(tt[dt]);for(dt=tt.length-1;dt>Re-1;dt--)ht(tt[dt]);tt=je,It()}var Pt=n._hoverdata,Nt=[],ae=l(n),be=k(n);for(_e=0;_e<tt.length;_e++){var Ee=tt[_e],De=b.makeEventData(Ee,Ee.trace,Ee.cd);if(Ee.hovertemplate!==!1){var it=!1;Ee.cd[Ee.index]&&Ee.cd[Ee.index].ht&&(it=Ee.cd[Ee.index].ht),Ee.hovertemplate=it||Ee.trace.hovertemplate||!1}if(Ee.xa&&Ee.ya){var ft=Ee.x0+Ee.xa._offset,At=Ee.x1+Ee.xa._offset,nt=Ee.y0+Ee.ya._offset,St=Ee.y1+Ee.ya._offset,Et=Math.min(ft,At),Ft=Math.max(ft,At),Ht=Math.min(nt,St),$t=Math.max(nt,St);De.bbox={x0:Et+be,x1:Ft+be,y0:Ht+ae,y1:$t+ae}}Ee.eventData=[De],Nt.push(De)}n._hoverdata=Nt;var yr=$==="y"&&(ct.length>1||tt.length>1)||$==="closest"&&Wt&&tt.length>1,mr=p.combine(ue.plot_bgcolor||p.background,ue.paper_bgcolor),lr=te(tt,{gd:n,hovermode:$,rotateLabels:yr,bgColor:mr,container:ue._hoverlayer,outerContainer:ue._paper.node(),commonLabelOpts:ue.hoverlabel,hoverdistance:ue.hoverdistance}),ur=lr.hoverLabels;b.isUnifiedHover($)||(ie(ur,yr,ue,lr.commonLabelBoundingBox),W(ur,yr,ue._invScaleX,ue._invScaleY)),ye&&ye.tagName&&r(N.select(ye),hasClickToShow?"pointer":""),!(!ye||se||!he(n,q,Pt))&&(Pt&&n.emit("plotly_unhover",{event:q,points:Pt}),n.emit("plotly_hover",{event:q,points:n._hoverdata,xaxes:Mt,yaxes:Dt,xvals:le,yvals:ge}))}function K(n){return[n.trace.index,n.index,n.x0,n.y0,n.name,n.attr,n.xa?n.xa._id:"",n.ya?n.ya._id:""].join(",")}var H=/<extra>([\s\S]*)<\/extra>/;function te(n,q){var J=q.gd,se=J._fullLayout,ye=q.hovermode,we=q.rotateLabels,ke=q.bgColor,ue=q.container,Me=q.outerContainer,Ne=q.commonLabelOpts||{};if(n.length===0)return[[]];var Ce=q.fontFamily||h.HOVERFONT,Le=q.fontSize||h.HOVERFONTSIZE,$=q.fontWeight||se.font.weight,ce=q.fontStyle||se.font.style,me=q.fontVariant||se.font.variant,pe=q.fontTextcase||se.font.textcase,xe=q.fontLineposition||se.font.lineposition,Oe=q.fontShadow||se.font.shadow,Xe=n[0],$e=Xe.xa,pt=Xe.ya,rt=ye.charAt(0),kt=rt+"Label",Mt=Xe[kt];if(Mt===void 0&&$e.type==="multicategory")for(var Dt=0;Dt<n.length&&(Mt=n[Dt][kt],Mt===void 0);Dt++);var lt=y(J,Me),wt=lt.top,ut=lt.width,yt=lt.height,et=Mt!==void 0&&Xe.distance<=q.hoverdistance&&(ye==="x"||ye==="y");if(et){var tt=!0,ct,le;for(ct=0;ct<n.length;ct++)if(tt&&n[ct].zLabel===void 0&&(tt=!1),le=n[ct].hoverinfo||n[ct].trace.hoverinfo,le){var ge=Array.isArray(le)?le:le.split("+");if(ge.indexOf("all")===-1&&ge.indexOf(ye)===-1){et=!1;break}}tt&&(et=!1)}var _e=ue.selectAll("g.axistext").data(et?[0]:[]);_e.enter().append("g").classed("axistext",!0),_e.exit().remove();var Te={minX:0,maxX:0,minY:0,maxY:0};if(_e.each(function(){var Rt=N.select(this),Q=u.ensureSingle(Rt,"path","",function(Et){Et.style({"stroke-width":"1px"})}),j=u.ensureSingle(Rt,"text","",function(Et){Et.attr("data-notex",1)}),Fe=Ne.bgcolor||p.defaultLine,Re=Ne.bordercolor||p.contrast(Fe),Ge=p.contrast(Fe),Ue=Ne.font,je={weight:Ue.weight||$,style:Ue.style||ce,variant:Ue.variant||me,textcase:Ue.textcase||pe,lineposition:Ue.lineposition||xe,shadow:Ue.shadow||Oe,family:Ue.family||Ce,size:Ue.size||Le,color:Ue.color||Ge};Q.style({fill:Fe,stroke:Re}),j.text(Mt).call(A.font,je).call(c.positionText,0,0).call(c.convertToTspans,J),Rt.attr("transform","");var We=y(J,j.node()),Je,ht;if(ye==="x"){var dt=$e.side==="top"?"-":"";j.attr("text-anchor","middle").call(c.positionText,0,$e.side==="top"?wt-We.bottom-O-D:wt-We.top+O+D),Je=$e._offset+(Xe.x0+Xe.x1)/2,ht=pt._offset+($e.side==="top"?0:pt._length);var Pt=We.width/2+D,Nt=Je;Je<Pt?Nt=Pt:Je>se.width-Pt&&(Nt=se.width-Pt),Q.attr("d","M"+(Je-Nt)+",0L"+(Je-Nt+O)+","+dt+O+"H"+Pt+"v"+dt+(D*2+We.height)+"H"+-Pt+"V"+dt+O+"H"+(Je-Nt-O)+"Z"),Je=Nt,Te.minX=Je-Pt,Te.maxX=Je+Pt,$e.side==="top"?(Te.minY=ht-(D*2+We.height),Te.maxY=ht-D):(Te.minY=ht+D,Te.maxY=ht+(D*2+We.height))}else{var ae,be,Ee;pt.side==="right"?(ae="start",be=1,Ee="",Je=$e._offset+$e._length):(ae="end",be=-1,Ee="-",Je=$e._offset),ht=pt._offset+(Xe.y0+Xe.y1)/2,j.attr("text-anchor",ae),Q.attr("d","M0,0L"+Ee+O+","+O+"V"+(D+We.height/2)+"h"+Ee+(D*2+We.width)+"V-"+(D+We.height/2)+"H"+Ee+O+"V-"+O+"Z"),Te.minY=ht-(D+We.height/2),Te.maxY=ht+(D+We.height/2),pt.side==="right"?(Te.minX=Je+O,Te.maxX=Je+O+(D*2+We.width)):(Te.minX=Je-O-(D*2+We.width),Te.maxX=Je-O);var De=We.height/2,it=wt-We.top-De,ft="clip"+se._uid+"commonlabel"+pt._id,At;if(Je<We.width+2*D+O){At="M-"+(O+D)+"-"+De+"h-"+(We.width-D)+"V"+De+"h"+(We.width-D)+"Z";var nt=We.width-Je+D;c.positionText(j,nt,it),ae==="end"&&j.selectAll("tspan").each(function(){var Et=N.select(this),Ft=A.tester.append("text").text(Et.text()).call(A.font,je),Ht=y(J,Ft.node());Math.round(Ht.width)<Math.round(We.width)&&Et.attr("x",nt-Ht.width),Ft.remove()})}else c.positionText(j,be*(D+O),it),At=null;var St=se._topclips.selectAll("#"+ft).data(At?[0]:[]);St.enter().append("clipPath").attr("id",ft).append("path"),St.exit().remove(),St.select("path").attr("d",At),A.setClipUrl(j,At?ft:null,J)}Rt.attr("transform",g(Je,ht))}),b.isUnifiedHover(ye)){ue.selectAll("g.hovertext").remove();var He=n.filter(function(Rt){return Rt.hoverinfo!=="none"});if(He.length===0)return[];var qe=se.hoverlabel,Ze=qe.font,Ie={showlegend:!0,legend:{title:{text:Mt,font:Ze},font:Ze,bgcolor:qe.bgcolor,bordercolor:qe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:se.legend?se.legend.traceorder:void 0,orientation:"v"}},Be={font:Ze};a(Ie,Be,J._fullData);var ze=Be.legend;ze.entries=[];for(var st=0;st<He.length;st++){var vt=He[st];if(vt.hoverinfo!=="none"){var xt=ne(vt,!0,ye,se,Mt),Lt=xt[0],Wt=xt[1];vt.name=Wt,Wt!==""?vt.text=Wt+" : "+Lt:vt.text=Lt;var Vt=vt.cd[vt.index];Vt&&(Vt.mc&&(vt.mc=Vt.mc),Vt.mcc&&(vt.mc=Vt.mcc),Vt.mlc&&(vt.mlc=Vt.mlc),Vt.mlcc&&(vt.mlc=Vt.mlcc),Vt.mlw&&(vt.mlw=Vt.mlw),Vt.mrc&&(vt.mrc=Vt.mrc),Vt.dir&&(vt.dir=Vt.dir)),vt._distinct=!0,ze.entries.push([vt])}}ze.entries.sort(function(Rt,Q){return Rt[0].trace.index-Q[0].trace.index}),ze.layer=ue,ze._inHover=!0,ze._groupTitleFont=qe.grouptitlefont,o(J,ze);var Gt=ue.select("g.legend"),hr=y(J,Gt.node()),Kt=hr.width+2*D,jt=hr.height+2*D,or=He[0],sr=(or.x0+or.x1)/2,er=(or.y0+or.y1)/2,ar=!(x.traceIs(or.trace,"bar-like")||x.traceIs(or.trace,"box-violin")),Ot,Yt;rt==="y"?ar?(Yt=er-D,Ot=er+D):(Yt=Math.min.apply(null,He.map(function(Rt){return Math.min(Rt.y0,Rt.y1)})),Ot=Math.max.apply(null,He.map(function(Rt){return Math.max(Rt.y0,Rt.y1)}))):Yt=Ot=u.mean(He.map(function(Rt){return(Rt.y0+Rt.y1)/2}))-jt/2;var fr,xr;rt==="x"?ar?(fr=sr+D,xr=sr-D):(fr=Math.max.apply(null,He.map(function(Rt){return Math.max(Rt.x0,Rt.x1)})),xr=Math.min.apply(null,He.map(function(Rt){return Math.min(Rt.x0,Rt.x1)}))):fr=xr=u.mean(He.map(function(Rt){return(Rt.x0+Rt.x1)/2}))-Kt/2;var It=$e._offset,cr=pt._offset;Ot+=cr,fr+=It,xr+=It-Kt,Yt+=cr-jt;var wr,qr;return fr+Kt<ut&&fr>=0?wr=fr:xr+Kt<ut&&xr>=0?wr=xr:It+Kt<ut?wr=It:fr-sr<sr-xr+Kt?wr=ut-Kt:wr=0,wr+=D,Ot+jt<yt&&Ot>=0?qr=Ot:Yt+jt<yt&&Yt>=0?qr=Yt:cr+jt<yt?qr=cr:Ot-er<er-Yt+jt?qr=yt-jt:qr=0,qr+=D,Gt.attr("transform",g(wr-1,qr-1)),Gt}var Fr=ue.selectAll("g.hovertext").data(n,function(Rt){return K(Rt)});return Fr.enter().append("g").classed("hovertext",!0).each(function(){var Rt=N.select(this);Rt.append("rect").call(p.fill,p.addOpacity(ke,.8)),Rt.append("text").classed("name",!0),Rt.append("path").style("stroke-width","1px"),Rt.append("text").classed("nums",!0).call(A.font,{weight:$,style:ce,variant:me,textcase:pe,lineposition:xe,shadow:Oe,family:Ce,size:Le})}),Fr.exit().remove(),Fr.each(function(Rt){var Q=N.select(this).attr("transform",""),j=Rt.color;Array.isArray(j)&&(j=j[Rt.eventData[0].pointNumber]);var Fe=Rt.bgcolor||j,Re=p.combine(p.opacity(Fe)?Fe:p.defaultLine,ke),Ge=p.combine(p.opacity(j)?j:p.defaultLine,ke),Ue=Rt.borderColor||p.contrast(Re),je=ne(Rt,et,ye,se,Mt,Q),We=je[0],Je=je[1],ht=Q.select("text.nums").call(A.font,{family:Rt.fontFamily||Ce,size:Rt.fontSize||Le,color:Rt.fontColor||Ue,weight:Rt.fontWeight||$,style:Rt.fontStyle||ce,variant:Rt.fontVariant||me,textcase:Rt.fontTextcase||pe,lineposition:Rt.fontLineposition||xe,shadow:Rt.fontShadow||Oe}).text(We).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,J),dt=Q.select("text.name"),Pt=0,Nt=0;if(Je&&Je!==We){dt.call(A.font,{family:Rt.fontFamily||Ce,size:Rt.fontSize||Le,color:Ge,weight:Rt.fontWeight||$,style:Rt.fontStyle||ce,variant:Rt.fontVariant||me,textcase:Rt.fontTextcase||pe,lineposition:Rt.fontLineposition||xe,shadow:Rt.fontShadow||Oe}).text(Je).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,J);var ae=y(J,dt.node());Pt=ae.width+2*D,Nt=ae.height+2*D}else dt.remove(),Q.select("rect").remove();Q.select("path").style({fill:Re,stroke:Ue});var be=Rt.xa._offset+(Rt.x0+Rt.x1)/2,Ee=Rt.ya._offset+(Rt.y0+Rt.y1)/2,De=Math.abs(Rt.x1-Rt.x0),it=Math.abs(Rt.y1-Rt.y0),ft=y(J,ht.node()),At=ft.width/se._invScaleX,nt=ft.height/se._invScaleY;Rt.ty0=(wt-ft.top)/se._invScaleY,Rt.bx=At+2*D,Rt.by=Math.max(nt+2*D,Nt),Rt.anchor="start",Rt.txwidth=At,Rt.tx2width=Pt,Rt.offset=0;var St=(At+O+D+Pt)*se._invScaleX,Et,Ft;if(we)Rt.pos=be,Et=Ee+it/2+St<=yt,Ft=Ee-it/2-St>=0,(Rt.idealAlign==="top"||!Et)&&Ft?(Ee-=it/2,Rt.anchor="end"):Et?(Ee+=it/2,Rt.anchor="start"):Rt.anchor="middle",Rt.crossPos=Ee;else{if(Rt.pos=Ee,Et=be+De/2+St<=ut,Ft=be-De/2-St>=0,(Rt.idealAlign==="left"||!Et)&&Ft)be-=De/2,Rt.anchor="end";else if(Et)be+=De/2,Rt.anchor="start";else{Rt.anchor="middle";var Ht=St/2,$t=be+Ht-ut,yr=be-Ht;$t>0&&(be-=$t),yr<0&&(be+=-yr)}Rt.crossPos=be}ht.attr("text-anchor",Rt.anchor),Pt&&dt.attr("text-anchor",Rt.anchor),Q.attr("transform",g(be,Ee)+(we?f(T):""))}),{hoverLabels:Fr,commonLabelBoundingBox:Te}}function ne(n,q,J,se,ye,we){var ke="",ue="";n.nameOverride!==void 0&&(n.name=n.nameOverride),n.name&&(n.trace._meta&&(n.name=u.templateString(n.name,n.trace._meta)),ke=R(n.name,n.nameLength));var Me=J.charAt(0),Ne=Me==="x"?"y":"x";n.zLabel!==void 0?(n.xLabel!==void 0&&(ue+="x: "+n.xLabel+"<br>"),n.yLabel!==void 0&&(ue+="y: "+n.yLabel+"<br>"),n.trace.type!=="choropleth"&&n.trace.type!=="choroplethmapbox"&&n.trace.type!=="choroplethmap"&&(ue+=(ue?"z: ":"")+n.zLabel)):q&&n[Me+"Label"]===ye?ue=n[Ne+"Label"]||"":n.xLabel===void 0?n.yLabel!==void 0&&n.trace.type!=="scattercarpet"&&(ue=n.yLabel):n.yLabel===void 0?ue=n.xLabel:ue="("+n.xLabel+", "+n.yLabel+")",(n.text||n.text===0)&&!Array.isArray(n.text)&&(ue+=(ue?"<br>":"")+n.text),n.extraText!==void 0&&(ue+=(ue?"<br>":"")+n.extraText),we&&ue===""&&!n.hovertemplate&&(ke===""&&we.remove(),ue=ke);var Ce=n.hovertemplate||!1;if(Ce){var Le=n.hovertemplateLabels||n;n[Me+"Label"]!==ye&&(Le[Me+"other"]=Le[Me+"Val"],Le[Me+"otherLabel"]=Le[Me+"Label"]),ue=u.hovertemplateString(Ce,Le,se._d3locale,n.eventData[0]||{},n.trace._meta),ue=ue.replace(H,function($,ce){return ke=R(ce,n.nameLength),""})}return[ue,ke]}function ie(n,q,J,se){var ye=q?"xa":"ya",we=q?"ya":"xa",ke=0,ue=1,Me=n.size(),Ne=new Array(Me),Ce=0,Le=se.minX,$=se.maxX,ce=se.minY,me=se.maxY,pe=function(le){return le*J._invScaleX},xe=function(le){return le*J._invScaleY};n.each(function(le){var ge=le[ye],_e=le[we],Te=ge._id.charAt(0)==="x",He=ge.range;Ce===0&&He&&He[0]>He[1]!==Te&&(ue=-1);var qe=0,Ze=Te?J.width:J.height;if(J.hovermode==="x"||J.hovermode==="y"){var Ie=re(le,q),Be=le.anchor,ze=Be==="end"?-1:1,st,vt;if(Be==="middle")st=le.crossPos+(Te?xe(Ie.y-le.by/2):pe(le.bx/2+le.tx2width/2)),vt=st+(Te?xe(le.by):pe(le.bx));else if(Te)st=le.crossPos+xe(O+Ie.y)-xe(le.by/2-O),vt=st+xe(le.by);else{var xt=pe(ze*O+Ie.x),Lt=xt+pe(ze*le.bx);st=le.crossPos+Math.min(xt,Lt),vt=le.crossPos+Math.max(xt,Lt)}Te?ce!==void 0&&me!==void 0&&Math.min(vt,me)-Math.max(st,ce)>1&&(_e.side==="left"?(qe=_e._mainLinePosition,Ze=J.width):Ze=_e._mainLinePosition):Le!==void 0&&$!==void 0&&Math.min(vt,$)-Math.max(st,Le)>1&&(_e.side==="top"?(qe=_e._mainLinePosition,Ze=J.height):Ze=_e._mainLinePosition)}Ne[Ce++]=[{datum:le,traceIndex:le.trace.index,dp:0,pos:le.pos,posref:le.posref,size:le.by*(Te?z:1)/2,pmin:qe,pmax:Ze}]}),Ne.sort(function(le,ge){return le[0].posref-ge[0].posref||ue*(ge[0].traceIndex-le[0].traceIndex)});var Oe,Xe,$e,pt,rt,kt,Mt;function Dt(le){var ge=le[0],_e=le[le.length-1];if(Xe=ge.pmin-ge.pos-ge.dp+ge.size,$e=_e.pos+_e.dp+_e.size-ge.pmax,Xe>.01){for(rt=le.length-1;rt>=0;rt--)le[rt].dp+=Xe;Oe=!1}if(!($e<.01)){if(Xe<-.01){for(rt=le.length-1;rt>=0;rt--)le[rt].dp-=$e;Oe=!1}if(Oe){var Te=0;for(pt=0;pt<le.length;pt++)kt=le[pt],kt.pos+kt.dp+kt.size>ge.pmax&&Te++;for(pt=le.length-1;pt>=0&&!(Te<=0);pt--)kt=le[pt],kt.pos>ge.pmax-1&&(kt.del=!0,Te--);for(pt=0;pt<le.length&&!(Te<=0);pt++)if(kt=le[pt],kt.pos<ge.pmin+1)for(kt.del=!0,Te--,$e=kt.size*2,rt=le.length-1;rt>=0;rt--)le[rt].dp-=$e;for(pt=le.length-1;pt>=0&&!(Te<=0);pt--)kt=le[pt],kt.pos+kt.dp+kt.size>ge.pmax&&(kt.del=!0,Te--)}}}for(;!Oe&&ke<=Me;){for(ke++,Oe=!0,pt=0;pt<Ne.length-1;){var lt=Ne[pt],wt=Ne[pt+1],ut=lt[lt.length-1],yt=wt[0];if(Xe=ut.pos+ut.dp+ut.size-yt.pos-yt.dp+yt.size,Xe>.01){for(rt=wt.length-1;rt>=0;rt--)wt[rt].dp+=Xe;for(lt.push.apply(lt,wt),Ne.splice(pt+1,1),Mt=0,rt=lt.length-1;rt>=0;rt--)Mt+=lt[rt].dp;for($e=Mt/lt.length,rt=lt.length-1;rt>=0;rt--)lt[rt].dp-=$e;Oe=!1}else pt++}Ne.forEach(Dt)}for(pt=Ne.length-1;pt>=0;pt--){var et=Ne[pt];for(rt=et.length-1;rt>=0;rt--){var tt=et[rt],ct=tt.datum;ct.offset=tt.dp,ct.del=tt.del}}}function re(n,q){var J=0,se=n.offset;return q&&(se*=-L,J=n.offset*Y),{x:J,y:se}}function oe(n){var q={start:1,end:-1,middle:0}[n.anchor],J=q*(O+D),se=J+q*(n.txwidth+D),ye=n.anchor==="middle";return ye&&(J-=n.tx2width/2,se+=n.txwidth/2+D),{alignShift:q,textShiftX:J,text2ShiftX:se}}function W(n,q,J,se){var ye=function(ke){return ke*J},we=function(ke){return ke*se};n.each(function(ke){var ue=N.select(this);if(ke.del)return ue.remove();var Me=ue.select("text.nums"),Ne=ke.anchor,Ce=Ne==="end"?-1:1,Le=oe(ke),$=re(ke,q),ce=$.x,me=$.y,pe=Ne==="middle";ue.select("path").attr("d",pe?"M-"+ye(ke.bx/2+ke.tx2width/2)+","+we(me-ke.by/2)+"h"+ye(ke.bx)+"v"+we(ke.by)+"h-"+ye(ke.bx)+"Z":"M0,0L"+ye(Ce*O+ce)+","+we(O+me)+"v"+we(ke.by/2-O)+"h"+ye(Ce*ke.bx)+"v-"+we(ke.by)+"H"+ye(Ce*O+ce)+"V"+we(me-O)+"Z");var xe=ce+Le.textShiftX,Oe=me+ke.ty0-ke.by/2+D,Xe=ke.textAlign||"auto";Xe!=="auto"&&(Xe==="left"&&Ne!=="start"?(Me.attr("text-anchor","start"),xe=pe?-ke.bx/2-ke.tx2width/2+D:-ke.bx-D):Xe==="right"&&Ne!=="end"&&(Me.attr("text-anchor","end"),xe=pe?ke.bx/2-ke.tx2width/2-D:ke.bx+D)),Me.call(c.positionText,ye(xe),we(Oe)),ke.tx2width&&(ue.select("text.name").call(c.positionText,ye(Le.text2ShiftX+Le.alignShift*D+ce),we(me+ke.ty0-ke.by/2+D)),ue.select("rect").call(A.setRect,ye(Le.text2ShiftX+(Le.alignShift-1)*ke.tx2width/2+ce),we(me-ke.by/2-1),ye(ke.tx2width),we(ke.by+2)))})}function ee(n,q){var J=n.index,se=n.trace||{},ye=n.cd[0],we=n.cd[J]||{};function ke($){return $||t($)&&$===0}var ue=Array.isArray(J)?function($,ce){var me=u.castOption(ye,J,$);return ke(me)?me:u.extractOption({},se,"",ce)}:function($,ce){return u.extractOption(we,se,$,ce)};function Me($,ce,me){var pe=ue(ce,me);ke(pe)&&(n[$]=pe)}if(Me("hoverinfo","hi","hoverinfo"),Me("bgcolor","hbg","hoverlabel.bgcolor"),Me("borderColor","hbc","hoverlabel.bordercolor"),Me("fontFamily","htf","hoverlabel.font.family"),Me("fontSize","hts","hoverlabel.font.size"),Me("fontColor","htc","hoverlabel.font.color"),Me("fontWeight","htw","hoverlabel.font.weight"),Me("fontStyle","hty","hoverlabel.font.style"),Me("fontVariant","htv","hoverlabel.font.variant"),Me("nameLength","hnl","hoverlabel.namelength"),Me("textAlign","hta","hoverlabel.align"),n.posref=q==="y"||q==="closest"&&se.orientation==="h"?n.xa._offset+(n.x0+n.x1)/2:n.ya._offset+(n.y0+n.y1)/2,n.x0=u.constrain(n.x0,0,n.xa._length),n.x1=u.constrain(n.x1,0,n.xa._length),n.y0=u.constrain(n.y0,0,n.ya._length),n.y1=u.constrain(n.y1,0,n.ya._length),n.xLabelVal!==void 0&&(n.xLabel="xLabel"in n?n.xLabel:S.hoverLabelText(n.xa,n.xLabelVal,se.xhoverformat),n.xVal=n.xa.c2d(n.xLabelVal)),n.yLabelVal!==void 0&&(n.yLabel="yLabel"in n?n.yLabel:S.hoverLabelText(n.ya,n.yLabelVal,se.yhoverformat),n.yVal=n.ya.c2d(n.yLabelVal)),n.zLabelVal!==void 0&&n.zLabel===void 0&&(n.zLabel=String(n.zLabelVal)),!isNaN(n.xerr)&&!(n.xa.type==="log"&&n.xerr<=0)){var Ne=S.tickText(n.xa,n.xa.c2l(n.xerr),"hover").text;n.xerrneg!==void 0?n.xLabel+=" +"+Ne+" / -"+S.tickText(n.xa,n.xa.c2l(n.xerrneg),"hover").text:n.xLabel+=" \xB1 "+Ne,q==="x"&&(n.distance+=1)}if(!isNaN(n.yerr)&&!(n.ya.type==="log"&&n.yerr<=0)){var Ce=S.tickText(n.ya,n.ya.c2l(n.yerr),"hover").text;n.yerrneg!==void 0?n.yLabel+=" +"+Ce+" / -"+S.tickText(n.ya,n.ya.c2l(n.yerrneg),"hover").text:n.yLabel+=" \xB1 "+Ce,q==="y"&&(n.distance+=1)}var Le=n.hoverinfo||n.trace.hoverinfo;return Le&&Le!=="all"&&(Le=Array.isArray(Le)?Le:Le.split("+"),Le.indexOf("x")===-1&&(n.xLabel=void 0),Le.indexOf("y")===-1&&(n.yLabel=void 0),Le.indexOf("z")===-1&&(n.zLabel=void 0),Le.indexOf("text")===-1&&(n.text=void 0),Le.indexOf("name")===-1&&(n.name=void 0)),n}function de(n,q,J){var se=J.container,ye=J.fullLayout,we=ye._size,ke=J.event,ue=!!q.hLinePoint,Me=!!q.vLinePoint,Ne,Ce;if(se.selectAll(".spikeline").remove(),!!(Me||ue)){var Le=p.combine(ye.plot_bgcolor,ye.paper_bgcolor);if(ue){var $=q.hLinePoint,ce,me;Ne=$&&$.xa,Ce=$&&$.ya;var pe=Ce.spikesnap;pe==="cursor"?(ce=ke.pointerX,me=ke.pointerY):(ce=Ne._offset+$.x,me=Ce._offset+$.y);var xe=v.readability($.color,Le)<1.5?p.contrast(Le):$.color,Oe=Ce.spikemode,Xe=Ce.spikethickness,$e=Ce.spikecolor||xe,pt=S.getPxPosition(n,Ce),rt,kt;if(Oe.indexOf("toaxis")!==-1||Oe.indexOf("across")!==-1){if(Oe.indexOf("toaxis")!==-1&&(rt=pt,kt=ce),Oe.indexOf("across")!==-1){var Mt=Ce._counterDomainMin,Dt=Ce._counterDomainMax;Ce.anchor==="free"&&(Mt=Math.min(Mt,Ce.position),Dt=Math.max(Dt,Ce.position)),rt=we.l+Mt*we.w,kt=we.l+Dt*we.w}se.insert("line",":first-child").attr({x1:rt,x2:kt,y1:me,y2:me,"stroke-width":Xe,stroke:$e,"stroke-dasharray":A.dashStyle(Ce.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:rt,x2:kt,y1:me,y2:me,"stroke-width":Xe+2,stroke:Le}).classed("spikeline",!0).classed("crisp",!0)}Oe.indexOf("marker")!==-1&&se.insert("circle",":first-child").attr({cx:pt+(Ce.side!=="right"?Xe:-Xe),cy:me,r:Xe,fill:$e}).classed("spikeline",!0)}if(Me){var lt=q.vLinePoint,wt,ut;Ne=lt&&lt.xa,Ce=lt&&lt.ya;var yt=Ne.spikesnap;yt==="cursor"?(wt=ke.pointerX,ut=ke.pointerY):(wt=Ne._offset+lt.x,ut=Ce._offset+lt.y);var et=v.readability(lt.color,Le)<1.5?p.contrast(Le):lt.color,tt=Ne.spikemode,ct=Ne.spikethickness,le=Ne.spikecolor||et,ge=S.getPxPosition(n,Ne),_e,Te;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(_e=ge,Te=ut),tt.indexOf("across")!==-1){var He=Ne._counterDomainMin,qe=Ne._counterDomainMax;Ne.anchor==="free"&&(He=Math.min(He,Ne.position),qe=Math.max(qe,Ne.position)),_e=we.t+(1-qe)*we.h,Te=we.t+(1-He)*we.h}se.insert("line",":first-child").attr({x1:wt,x2:wt,y1:_e,y2:Te,"stroke-width":ct,stroke:le,"stroke-dasharray":A.dashStyle(Ne.spikedash,ct)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:wt,x2:wt,y1:_e,y2:Te,"stroke-width":ct+2,stroke:Le}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&se.insert("circle",":first-child").attr({cx:wt,cy:ge-(Ne.side!=="top"?ct:-ct),r:ct,fill:le}).classed("spikeline",!0)}}}function he(n,q,J){if(!J||J.length!==n._hoverdata.length)return!0;for(var se=J.length-1;se>=0;se--){var ye=J[se],we=n._hoverdata[se];if(ye.curveNumber!==we.curveNumber||String(ye.pointNumber)!==String(we.pointNumber)||String(ye.pointNumbers)!==String(we.pointNumbers))return!0}return!1}function I(n,q){return!q||q.vLinePoint!==n._spikepoints.vLinePoint||q.hLinePoint!==n._spikepoints.hLinePoint}function R(n,q){return c.plainText(n||"",{len:q,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function _(n,q){for(var J=q.charAt(0),se=[],ye=[],we=[],ke=0;ke<n.length;ke++){var ue=n[ke];x.traceIs(ue.trace,"bar-like")||x.traceIs(ue.trace,"box-violin")?we.push(ue):ue.trace[J+"period"]?ye.push(ue):se.push(ue)}return se.concat(ye).concat(we)}function i(n,q,J){var se=q[n+"a"],ye=q[n+"Val"],we=q.cd[0];if(se.type==="category"||se.type==="multicategory")ye=se._categoriesMap[ye];else if(se.type==="date"){var ke=q.trace[n+"periodalignment"];if(ke){var ue=q.cd[q.index],Me=ue[n+"Start"];Me===void 0&&(Me=ue[n]);var Ne=ue[n+"End"];Ne===void 0&&(Ne=ue[n]);var Ce=Ne-Me;ke==="end"?ye+=Ce:ke==="middle"&&(ye+=Ce/2)}ye=se.d2c(ye)}return we&&we.t&&we.t.posLetter===se._id&&(J.boxmode==="group"||J.violinmode==="group")&&(ye+=we.t.dPos),ye}function l(n){return n.offsetTop+n.clientTop}function k(n){return n.offsetLeft+n.clientLeft}function y(n,q){var J=n._fullLayout,se=q.getBoundingClientRect(),ye=se.left,we=se.top,ke=ye+se.width,ue=we+se.height,Me=u.apply3DTransform(J._invTransform)(ye,we),Ne=u.apply3DTransform(J._invTransform)(ke,ue),Ce=Me[0],Le=Me[1],$=Ne[0],ce=Ne[1];return{x:Ce,y:Le,width:$-Ce,height:ce-Le,top:Math.min(Le,ce),left:Math.min(Ce,$),right:Math.max(Ce,$),bottom:Math.max(Le,ce)}}}}),Ua=Ke({"src/components/fx/hoverlabel_defaults.js"(M,N){"use strict";var t=Zt(),v=$r(),u=Ta().isUnifiedHover;N.exports=function(g,f,w,c){c=c||{};var r=f.legend;function A(p){c.font[p]||(c.font[p]=r?f.legend.font[p]:f.font[p])}f&&u(f.hovermode)&&(c.font||(c.font={}),A("size"),A("family"),A("color"),A("weight"),A("style"),A("variant"),r?(c.bgcolor||(c.bgcolor=v.combine(f.legend.bgcolor,f.paper_bgcolor)),c.bordercolor||(c.bordercolor=f.legend.bordercolor)):c.bgcolor||(c.bgcolor=f.paper_bgcolor)),w("hoverlabel.bgcolor",c.bgcolor),w("hoverlabel.bordercolor",c.bordercolor),w("hoverlabel.namelength",c.namelength),t.coerceFont(w,"hoverlabel.font",c.font),w("hoverlabel.align",c.align)}}}),of=Ke({"src/components/fx/layout_global_defaults.js"(M,N){"use strict";var t=Zt(),v=Ua(),u=la();N.exports=function(g,f){function w(c,r){return t.coerce(g,f,u,c,r)}v(g,f,w)}}}),lf=Ke({"src/components/fx/defaults.js"(M,N){"use strict";var t=Zt(),v=Oa(),u=Ua();N.exports=function(g,f,w,c){function r(p,E){return t.coerce(g,f,v,p,E)}var A=t.extendFlat({},c.hoverlabel);f.hovertemplate&&(A.namelength=-1),u(g,f,r,A)}}}),$o=Ke({"src/components/fx/hovermode_defaults.js"(M,N){"use strict";var t=Zt(),v=la();N.exports=function(m,g){function f(w,c){return g[w]!==void 0?g[w]:t.coerce(m,g,v,w,c)}return f("clickmode"),f("hoversubplots"),f("hovermode")}}}),sf=Ke({"src/components/fx/layout_defaults.js"(M,N){"use strict";var t=Zt(),v=la(),u=$o(),m=Ua();N.exports=function(f,w){function c(x,b){return t.coerce(f,w,v,x,b)}var r=u(f,w);r&&(c("hoverdistance"),c("spikedistance"));var A=c("dragmode");A==="select"&&c("selectdirection");var p=w._has("mapbox"),E=w._has("map"),S=w._has("geo"),F=w._basePlotModules.length;w.dragmode==="zoom"&&((p||E||S)&&F===1||(p||E)&&S&&F===2)&&(w.dragmode="pan"),m(f,w,c),t.coerceFont(c,"hoverlabel.grouptitlefont",w.hoverlabel.font)}}}),uf=Ke({"src/components/fx/calc.js"(M,N){"use strict";var t=Zt(),v=Er();N.exports=function(g){var f=g.calcdata,w=g._fullLayout;function c(S){return function(F){return t.coerceHoverinfo({hoverinfo:F},{_module:S._module},w)}}for(var r=0;r<f.length;r++){var A=f[r],p=A[0].trace;if(!v.traceIs(p,"pie-like")){var E=v.traceIs(p,"2dMap")?u:t.fillArray;E(p.hoverinfo,A,"hi",c(p)),p.hovertemplate&&E(p.hovertemplate,A,"ht"),p.hoverlabel&&(E(p.hoverlabel.bgcolor,A,"hbg"),E(p.hoverlabel.bordercolor,A,"hbc"),E(p.hoverlabel.font.size,A,"hts"),E(p.hoverlabel.font.color,A,"htc"),E(p.hoverlabel.font.family,A,"htf"),E(p.hoverlabel.font.weight,A,"htw"),E(p.hoverlabel.font.style,A,"hty"),E(p.hoverlabel.font.variant,A,"htv"),E(p.hoverlabel.namelength,A,"hnl"),E(p.hoverlabel.align,A,"hta"))}}};function u(m,g,f,w){w=w||t.identity,Array.isArray(m)&&(g[0][f]=w(m))}}}),ff=Ke({"src/components/fx/click.js"(M,N){"use strict";var t=Er(),v=Wo().hover;N.exports=function(m,g,f){var w=null;f!==void 0&&v(m,g,f,!0);function c(){m.emit("plotly_click",{points:m._hoverdata,event:g})}m._hoverdata&&g&&g.target&&(w&&w.then?w.then(c):c(),g.stopImmediatePropagation&&g.stopImmediatePropagation())}}}),Ma=Ke({"src/components/fx/index.js"(M,N){"use strict";var t=Yr(),v=Zt(),u=$n(),m=Ta(),g=la(),f=Wo();N.exports={moduleType:"component",name:"fx",constants:Ia(),schema:{layout:g},attributes:Oa(),layoutAttributes:g,supplyLayoutGlobalDefaults:of(),supplyDefaults:lf(),supplyLayoutDefaults:sf(),calc:uf(),getDistanceFunction:m.getDistanceFunction,getClosest:m.getClosest,inbox:m.inbox,quadrature:m.quadrature,appendArrayPointValue:m.appendArrayPointValue,castHoverOption:c,castHoverinfo:r,hover:f.hover,unhover:u.unhover,loneHover:f.loneHover,loneUnhover:w,click:ff()};function w(A){var p=v.isD3Selection(A)?A:t.select(A);p.selectAll("g.hovertext").remove(),p.selectAll(".spikeline").remove()}function c(A,p,E){return v.castOption(A,p,"hoverlabel."+E)}function r(A,p,E){function S(F){return v.coerceHoverinfo({hoverinfo:F},{_module:A._module},p)}return v.castOption(A,E,"hoverinfo",S)}}}),Qo=Ke({"src/components/dragelement/helpers.js"(M){"use strict";M.selectMode=function(N){return N==="lasso"||N==="select"},M.drawMode=function(N){return N==="drawclosedpath"||N==="drawopenpath"||N==="drawline"||N==="drawrect"||N==="drawcircle"},M.openMode=function(N){return N==="drawline"||N==="drawopenpath"},M.rectMode=function(N){return N==="select"||N==="drawline"||N==="drawrect"||N==="drawcircle"},M.freeMode=function(N){return N==="lasso"||N==="drawclosedpath"||N==="drawopenpath"},M.selectingOrDrawing=function(N){return M.freeMode(N)||M.rectMode(N)}}}),Xi=Ke({"src/components/shapes/draw_newshape/constants.js"(M,N){"use strict";var t=32;N.exports={CIRCLE_SIDES:t,i000:0,i090:t/4,i180:t/2,i270:t/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}}),Jo=Ke({"src/components/selections/helpers.js"(M,N){"use strict";var t=Zt().strTranslate;function v(f,w){switch(f.type){case"log":return f.p2d(w);case"date":return f.p2r(w,0,f.calendar);default:return f.p2r(w)}}function u(f,w){switch(f.type){case"log":return f.d2p(w);case"date":return f.r2p(w,0,f.calendar);default:return f.r2p(w)}}function m(f){var w=f._id.charAt(0)==="y"?1:0;return function(c){return v(f,c[w])}}function g(f){return t(f.xaxis._offset,f.yaxis._offset)}N.exports={p2r:v,r2p:u,axValue:m,getTransform:g}}}),ja=Ke({"src/components/shapes/draw_newshape/helpers.js"(M){"use strict";var N=qo(),t=Xi(),v=t.CIRCLE_SIDES,u=t.SQRT2,m=Jo(),g=m.p2r,f=m.r2p,w=[0,3,4,5,6,1,2],c=[0,3,4,1,2];M.writePaths=function(p){var E=p.length;if(!E)return"M0,0Z";for(var S="",F=0;F<E;F++)for(var x=p[F].length,b=0;b<x;b++){var h=p[F][b][0];if(h==="Z")S+="Z";else for(var a=p[F][b].length,o=0;o<a;o++){var T=o;h==="Q"||h==="S"?T=c[o]:h==="C"&&(T=w[o]),S+=p[F][b][T],o>0&&o<a-1&&(S+=",")}}return S},M.readPaths=function(p,E,S,F){var x=N(p),b=[],h=-1,a=function(){h++,b[h]=[]},o,T=0,C=0,z,Y,L=function(){z=T,Y=C};L();for(var O=0;O<x.length;O++){var D=[],d,U,B,X,K=x[O][0],H=K;switch(K){case"M":a(),T=+x[O][1],C=+x[O][2],D.push([H,T,C]),L();break;case"Q":case"S":d=+x[O][1],B=+x[O][2],T=+x[O][3],C=+x[O][4],D.push([H,T,C,d,B]);break;case"C":d=+x[O][1],B=+x[O][2],U=+x[O][3],X=+x[O][4],T=+x[O][5],C=+x[O][6],D.push([H,T,C,d,B,U,X]);break;case"T":case"L":T=+x[O][1],C=+x[O][2],D.push([H,T,C]);break;case"H":H="L",T=+x[O][1],D.push([H,T,C]);break;case"V":H="L",C=+x[O][1],D.push([H,T,C]);break;case"A":H="L";var te=+x[O][1],ne=+x[O][2];+x[O][4]||(te=-te,ne=-ne);var ie=T-te,re=C;for(o=1;o<=v/2;o++){var oe=2*Math.PI*o/v;D.push([H,ie+te*Math.cos(oe),re+ne*Math.sin(oe)])}break;case"Z":(T!==z||C!==Y)&&(T=z,C=Y,D.push([H,T,C]));break}for(var W=(S||{}).domain,ee=E._fullLayout._size,de=S&&S.xsizemode==="pixel",he=S&&S.ysizemode==="pixel",I=F===!1,R=0;R<D.length;R++){for(o=0;o+2<7;o+=2){var _=D[R][o+1],i=D[R][o+2];_===void 0||i===void 0||(T=_,C=i,S&&(S.xaxis&&S.xaxis.p2r?(I&&(_-=S.xaxis._offset),de?_=f(S.xaxis,S.xanchor)+_:_=g(S.xaxis,_)):(I&&(_-=ee.l),W?_=W.x[0]+_/ee.w:_=_/ee.w),S.yaxis&&S.yaxis.p2r?(I&&(i-=S.yaxis._offset),he?i=f(S.yaxis,S.yanchor)-i:i=g(S.yaxis,i)):(I&&(i-=ee.t),W?i=W.y[1]-i/ee.h:i=1-i/ee.h)),D[R][o+1]=_,D[R][o+2]=i)}b[h].push(D[R].slice())}}return b};function r(p,E){return Math.abs(p-E)<=1e-6}function A(p,E){var S=E[1]-p[1],F=E[2]-p[2];return Math.sqrt(S*S+F*F)}M.pointsOnRectangle=function(p){var E=p.length;if(E!==5)return!1;for(var S=1;S<3;S++){var F=p[0][S]-p[1][S],x=p[3][S]-p[2][S];if(!r(F,x))return!1;var b=p[0][S]-p[3][S],h=p[1][S]-p[2][S];if(!r(b,h))return!1}return!r(p[0][1],p[1][1])&&!r(p[0][1],p[3][1])?!1:!!(A(p[0],p[1])*A(p[0],p[3]))},M.pointsOnEllipse=function(p){var E=p.length;if(E!==v+1)return!1;E=v;for(var S=0;S<E;S++){var F=(E*2-S)%E,x=(E/2+F)%E,b=(E/2+S)%E;if(!r(A(p[S],p[b]),A(p[F],p[x])))return!1}return!0},M.handleEllipse=function(p,E,S){if(!p)return[E,S];var F=M.ellipseOver({x0:E[0],y0:E[1],x1:S[0],y1:S[1]}),x=(F.x1+F.x0)/2,b=(F.y1+F.y0)/2,h=(F.x1-F.x0)/2,a=(F.y1-F.y0)/2;h||(h=a=a/u),a||(a=h=h/u);for(var o=[],T=0;T<v;T++){var C=T*2*Math.PI/v;o.push([x+h*Math.cos(C),b+a*Math.sin(C)])}return o},M.ellipseOver=function(p){var E=p.x0,S=p.y0,F=p.x1,x=p.y1,b=F-E,h=x-S;E-=b,S-=h;var a=(E+F)/2,o=(S+x)/2,T=u;return b*=T,h*=T,{x0:a-b,y0:o-h,x1:a+b,y1:o+h}},M.fixDatesForPaths=function(p,E,S){var F=E.type==="date",x=S.type==="date";if(!F&&!x)return p;for(var b=0;b<p.length;b++)for(var h=0;h<p[b].length;h++)for(var a=0;a+2<p[b][h].length;a+=2)F&&(p[b][h][a+1]=p[b][h][a+1].replace(" ","_")),x&&(p[b][h][a+2]=p[b][h][a+2].replace(" ","_"));return p}}}),Ko=Ke({"src/components/shapes/draw_newshape/newshapes.js"(M,N){"use strict";var t=Qo(),v=t.drawMode,u=t.openMode,m=Xi(),g=m.i000,f=m.i090,w=m.i180,c=m.i270,r=m.cos45,A=m.sin45,p=Jo(),E=p.p2r,S=p.r2p,F=Ba(),x=F.clearOutline,b=ja(),h=b.readPaths,a=b.writePaths,o=b.ellipseOver,T=b.fixDatesForPaths;function C(Y,L){if(Y.length){var O=Y[0][0];if(O){var D=L.gd,d=L.isActiveShape,U=L.dragmode,B=(D.layout||{}).shapes||[];if(!v(U)&&d!==void 0){var X=D._fullLayout._activeShapeIndex;if(X<B.length)switch(D._fullLayout.shapes[X].type){case"rect":U="drawrect";break;case"circle":U="drawcircle";break;case"line":U="drawline";break;case"path":var K=B[X].path||"";K[K.length-1]==="Z"?U="drawclosedpath":U="drawopenpath";break}}var H=z(Y,L,U);x(D);for(var te=L.editHelpers,ne=(te||{}).modifyItem,ie=[],re=0;re<B.length;re++){var oe=D._fullLayout.shapes[re];if(ie[re]=oe._input,d!==void 0&&re===D._fullLayout._activeShapeIndex){var W=H;switch(oe.type){case"line":case"rect":case"circle":ne("x0",W.x0-(oe.x0shift||0)),ne("x1",W.x1-(oe.x1shift||0)),ne("y0",W.y0-(oe.y0shift||0)),ne("y1",W.y1-(oe.y1shift||0));break;case"path":ne("path",W.path);break}}}return d===void 0?(ie.push(H),ie):te?te.getUpdateObj():{}}}}function z(Y,L,O){var D=Y[0][0],d=L.gd,U=D.getAttribute("d"),B=d._fullLayout.newshape,X=L.plotinfo,K=L.isActiveShape,H=X.xaxis,te=X.yaxis,ne=!!X.domain||!X.xaxis,ie=!!X.domain||!X.yaxis,re=u(O),oe=h(U,d,X,K),W={editable:!0,visible:B.visible,name:B.name,showlegend:B.showlegend,legend:B.legend,legendwidth:B.legendwidth,legendgroup:B.legendgroup,legendgrouptitle:{text:B.legendgrouptitle.text,font:B.legendgrouptitle.font},legendrank:B.legendrank,label:B.label,xref:ne?"paper":H._id,yref:ie?"paper":te._id,layer:B.layer,opacity:B.opacity,line:{color:B.line.color,width:B.line.width,dash:B.line.dash}};re||(W.fillcolor=B.fillcolor,W.fillrule=B.fillrule);var ee;if(oe.length===1&&(ee=oe[0]),ee&&ee.length===5&&O==="drawrect")W.type="rect",W.x0=ee[0][1],W.y0=ee[0][2],W.x1=ee[2][1],W.y1=ee[2][2];else if(ee&&O==="drawline")W.type="line",W.x0=ee[0][1],W.y0=ee[0][2],W.x1=ee[1][1],W.y1=ee[1][2];else if(ee&&O==="drawcircle"){W.type="circle";var de=ee[g][1],he=ee[f][1],I=ee[w][1],R=ee[c][1],_=ee[g][2],i=ee[f][2],l=ee[w][2],k=ee[c][2],y=X.xaxis&&(X.xaxis.type==="date"||X.xaxis.type==="log"),n=X.yaxis&&(X.yaxis.type==="date"||X.yaxis.type==="log");y&&(de=S(X.xaxis,de),he=S(X.xaxis,he),I=S(X.xaxis,I),R=S(X.xaxis,R)),n&&(_=S(X.yaxis,_),i=S(X.yaxis,i),l=S(X.yaxis,l),k=S(X.yaxis,k));var q=(he+R)/2,J=(_+l)/2,se=(R-he+I-de)/2,ye=(k-i+l-_)/2,we=o({x0:q,y0:J,x1:q+se*r,y1:J+ye*A});y&&(we.x0=E(X.xaxis,we.x0),we.x1=E(X.xaxis,we.x1)),n&&(we.y0=E(X.yaxis,we.y0),we.y1=E(X.yaxis,we.y1)),W.x0=we.x0,W.y0=we.y0,W.x1=we.x1,W.y1=we.y1}else W.type="path",H&&te&&T(oe,H,te),W.path=a(oe),ee=null;return W}N.exports={newShapes:C,createShapeObj:z}}}),Vi=Ke({"src/components/shapes/constants.js"(M,N){"use strict";N.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}}),Xa=Ke({"src/components/shapes/helpers.js"(M){"use strict";var N=Vi(),t=Zt(),v=An();M.rangeToShapePosition=function(g){return g.type==="log"?g.r2d:function(f){return f}},M.shapePositionToRange=function(g){return g.type==="log"?g.d2r:function(f){return f}},M.decodeDate=function(g){return function(f){return f.replace&&(f=f.replace("_"," ")),g(f)}},M.encodeDate=function(g){return function(f){return g(f).replace(" ","_")}},M.extractPathCoords=function(g,f,w){var c=[],r=g.match(N.segmentRE);return r.forEach(function(A){var p=f[A.charAt(0)].drawn;if(p!==void 0){var E=A.substr(1).match(N.paramRE);if(!(!E||E.length<p)){var S=E[p],F=w?S:t.cleanNumber(S);c.push(F)}}}),c},M.getDataToPixel=function(g,f,w,c,r){var A=g._fullLayout._size,p;if(f)if(r==="domain")p=function(S){return f._length*(c?1-S:S)+f._offset};else{var E=M.shapePositionToRange(f);p=function(S){var F=m(f,w);return f._offset+f.r2p(E(S,!0))+F},f.type==="date"&&(p=M.decodeDate(p))}else c?p=function(S){return A.t+A.h*(1-S)}:p=function(S){return A.l+A.w*S};return p},M.getPixelToData=function(g,f,w,c){var r=g._fullLayout._size,A;if(f)if(c==="domain")A=function(E){var S=(E-f._offset)/f._length;return w?1-S:S};else{var p=M.rangeToShapePosition(f);A=function(E){return p(f.p2r(E-f._offset))}}else w?A=function(E){return 1-(E-r.t)/r.h}:A=function(E){return(E-r.l)/r.w};return A},M.roundPositionForSharpStrokeRendering=function(g,f){var w=Math.round(f%2)===1,c=Math.round(g);return w?c+.5:c},M.makeShapesOptionsAndPlotinfo=function(g,f){var w=g._fullLayout.shapes[f]||{},c=g._fullLayout._plots[w.xref+w.yref],r=!!c;return r?c._hadPlotinfo=!0:(c={},w.xref&&w.xref!=="paper"&&(c.xaxis=g._fullLayout[w.xref+"axis"]),w.yref&&w.yref!=="paper"&&(c.yaxis=g._fullLayout[w.yref+"axis"])),c.xsizemode=w.xsizemode,c.ysizemode=w.ysizemode,c.xanchor=w.xanchor,c.yanchor=w.yanchor,{options:w,plotinfo:c}},M.makeSelectionsOptionsAndPlotinfo=function(g,f){var w=g._fullLayout.selections[f]||{},c=g._fullLayout._plots[w.xref+w.yref],r=!!c;return r?c._hadPlotinfo=!0:(c={},w.xref&&(c.xaxis=g._fullLayout[w.xref+"axis"]),w.yref&&(c.yaxis=g._fullLayout[w.yref+"axis"])),{options:w,plotinfo:c}},M.getPathString=function(g,f){var w=f.type,c=v.getRefType(f.xref),r=v.getRefType(f.yref),A=v.getFromId(g,f.xref),p=v.getFromId(g,f.yref),E=g._fullLayout._size,S,F,x,b,h=m(A,f.x0shift),a=m(A,f.x1shift),o=m(p,f.y0shift),T=m(p,f.y1shift),C,z,Y,L;if(A?c==="domain"?F=function(ne){return A._offset+A._length*ne}:(S=M.shapePositionToRange(A),F=function(ne){return A._offset+A.r2p(S(ne,!0))}):F=function(ne){return E.l+E.w*ne},p?r==="domain"?b=function(ne){return p._offset+p._length*(1-ne)}:(x=M.shapePositionToRange(p),b=function(ne){return p._offset+p.r2p(x(ne,!0))}):b=function(ne){return E.t+E.h*(1-ne)},w==="path")return A&&A.type==="date"&&(F=M.decodeDate(F)),p&&p.type==="date"&&(b=M.decodeDate(b)),u(f,F,b);if(f.xsizemode==="pixel"){var O=F(f.xanchor);C=O+f.x0+h,z=O+f.x1+a}else C=F(f.x0)+h,z=F(f.x1)+a;if(f.ysizemode==="pixel"){var D=b(f.yanchor);Y=D-f.y0+o,L=D-f.y1+T}else Y=b(f.y0)+o,L=b(f.y1)+T;if(w==="line")return"M"+C+","+Y+"L"+z+","+L;if(w==="rect")return"M"+C+","+Y+"H"+z+"V"+L+"H"+C+"Z";var d=(C+z)/2,U=(Y+L)/2,B=Math.abs(d-C),X=Math.abs(U-Y),K="A"+B+","+X,H=d+B+","+U,te=d+","+(U-X);return"M"+H+K+" 0 1,1 "+te+K+" 0 0,1 "+H+"Z"};function u(g,f,w){var c=g.path,r=g.xsizemode,A=g.ysizemode,p=g.xanchor,E=g.yanchor;return c.replace(N.segmentRE,function(S){var F=0,x=S.charAt(0),b=N.paramIsX[x],h=N.paramIsY[x],a=N.numParams[x],o=S.substr(1).replace(N.paramRE,function(T){return b[F]?r==="pixel"?T=f(p)+Number(T):T=f(T):h[F]&&(A==="pixel"?T=w(E)-Number(T):T=w(T)),F++,F>a&&(T="X"),T});return F>a&&(o=o.replace(/[\s,]*X.*/,""),t.log("Ignoring extra params in segment "+S)),x+o})}function m(g,f){f=f||0;var w=0;return f&&g&&(g.type==="category"||g.type==="multicategory")&&(w=(g.r2p(1)-g.r2p(0))*f),w}}}),el=Ke({"src/components/shapes/display_labels.js"(M,N){"use strict";var t=Zt(),v=An(),u=jn(),m=un(),g=ja().readPaths,f=Xa(),w=f.getPathString,c=Fi(),r=zn().FROM_TL;N.exports=function(S,F,x,b){if(b.selectAll(".shape-label").remove(),!!(x.label.text||x.label.texttemplate)){var h;if(x.label.texttemplate){var a={};if(x.type!=="path"){var o=v.getFromId(S,x.xref),T=v.getFromId(S,x.yref);for(var C in c){var z=c[C](x,o,T);z!==void 0&&(a[C]=z)}}h=t.texttemplateStringForShapes(x.label.texttemplate,{},S._fullLayout._d3locale,a)}else h=x.label.text;var Y={"data-index":F},L=x.label.font,O={"data-notex":1},D=b.append("g").attr(Y).classed("shape-label",!0),d=D.append("text").attr(O).classed("shape-label-text",!0).text(h),U,B,X,K;if(x.path){var H=w(S,x),te=g(H,S);U=1/0,X=1/0,B=-1/0,K=-1/0;for(var ne=0;ne<te.length;ne++)for(var ie=0;ie<te[ne].length;ie++)for(var re=te[ne][ie],oe=1;oe<re.length;oe+=2){var W=re[oe],ee=re[oe+1];U=Math.min(U,W),B=Math.max(B,W),X=Math.min(X,ee),K=Math.max(K,ee)}}else{var de=v.getFromId(S,x.xref),he=x.x0shift,I=x.x1shift,R=v.getRefType(x.xref),_=v.getFromId(S,x.yref),i=x.y0shift,l=x.y1shift,k=v.getRefType(x.yref),y=function(ue,Me){var Ne=f.getDataToPixel(S,de,Me,!1,R);return Ne(ue)},n=function(ue,Me){var Ne=f.getDataToPixel(S,_,Me,!0,k);return Ne(ue)};U=y(x.x0,he),B=y(x.x1,I),X=n(x.y0,i),K=n(x.y1,l)}var q=x.label.textangle;q==="auto"&&(x.type==="line"?q=A(U,X,B,K):q=0),d.call(function(ue){return ue.call(m.font,L).attr({}),u.convertToTspans(ue,S),ue});var J=m.bBox(d.node()),se=p(U,X,B,K,x,q,J),ye=se.textx,we=se.texty,ke=se.xanchor;d.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ke],y:we,x:ye,transform:"rotate("+q+","+ye+","+we+")"}).call(u.positionText,ye,we)}};function A(E,S,F,x){var b,h;return h=Math.abs(F-E),F>=E?b=S-x:b=x-S,-180/Math.PI*Math.atan2(b,h)}function p(E,S,F,x,b,h,a){var o=b.label.textposition,T=b.label.textangle,C=b.label.padding,z=b.type,Y=Math.PI/180*h,L=Math.sin(Y),O=Math.cos(Y),D=b.label.xanchor,d=b.label.yanchor,U,B,X,K;if(z==="line"){o==="start"?(U=E,B=S):o==="end"?(U=F,B=x):(U=(E+F)/2,B=(S+x)/2),D==="auto"&&(o==="start"?T==="auto"?F>E?D="left":F<E?D="right":D="center":F>E?D="right":F<E?D="left":D="center":o==="end"?T==="auto"?F>E?D="right":F<E?D="left":D="center":F>E?D="left":F<E?D="right":D="center":D="center");var H={left:1,center:0,right:-1},te={bottom:-1,middle:0,top:1};if(T==="auto"){var ne=te[d];X=-C*L*ne,K=C*O*ne}else{var ie=H[D],re=te[d];X=C*ie,K=C*re}U=U+X,B=B+K}else X=C+3,o.indexOf("right")!==-1?(U=Math.max(E,F)-X,D==="auto"&&(D="right")):o.indexOf("left")!==-1?(U=Math.min(E,F)+X,D==="auto"&&(D="left")):(U=(E+F)/2,D==="auto"&&(D="center")),o.indexOf("top")!==-1?B=Math.min(S,x):o.indexOf("bottom")!==-1?B=Math.max(S,x):B=(S+x)/2,K=C,d==="bottom"?B=B-K:d==="top"&&(B=B+K);var oe=r[d],W=b.label.font.size,ee=a.height,de=(ee*oe-W)*L,he=-(ee*oe-W)*O;return{textx:U+de,texty:B+he,xanchor:D}}}}),cf=Ke({"src/components/shapes/display_outlines.js"(M,N){"use strict";var t=Zt(),v=t.strTranslate,u=$n(),m=Qo(),g=m.drawMode,f=m.selectMode,w=Er(),c=$r(),r=Xi(),A=r.i000,p=r.i090,E=r.i180,S=r.i270,F=Ba(),x=F.clearOutlineControllers,b=ja(),h=b.pointsOnRectangle,a=b.pointsOnEllipse,o=b.writePaths,T=Ko().newShapes,C=Ko().createShapeObj,z=el();N.exports=function D(d,U,B,X){X||(X=0);var K=B.gd;function H(){D(d,U,B,X++),(a(d[0])||B.hasText)&&te({redrawing:!0})}function te(Ce){var Le={};B.isActiveShape!==void 0&&(B.isActiveShape=!1,Le=T(U,B)),B.isActiveSelection!==void 0&&(B.isActiveSelection=!1,Le=function(){},K._fullLayout._reselect=!0),Object.keys(Le).length&&w.call((Ce||{}).redrawing?"relayout":"_guiRelayout",K,Le)}var ne=K._fullLayout,ie=ne._zoomlayer,re=B.dragmode,oe=g(re),W=f(re);(oe||W)&&(K._fullLayout._outlining=!0),x(K),U.attr("d",o(d));var ee,de,he,I,R;if(!X&&(B.isActiveShape||B.isActiveSelection)){R=Y([],d);var _=ie.append("g").attr("class","outline-controllers");se(_),Ne()}if(oe&&B.hasText){var i=ie.select(".label-temp"),l=C(U,B,B.dragmode);z(K,"label-temp",l,i)}function k(Ce){he=+Ce.srcElement.getAttribute("data-i"),I=+Ce.srcElement.getAttribute("data-j"),ee[he][I].moveFn=y}function y(Ce,Le){if(d.length){var $=R[he][I][1],ce=R[he][I][2],me=d[he],pe=me.length;if(h(me)){var xe=Ce,Oe=Le;if(B.isActiveSelection){var Xe=L(me,I);Xe[1]===me[I][1]?Oe=0:xe=0}for(var $e=0;$e<pe;$e++)if($e!==I){var pt=me[$e];pt[1]===me[I][1]&&(pt[1]=$+xe),pt[2]===me[I][2]&&(pt[2]=ce+Oe)}if(me[I][1]=$+xe,me[I][2]=ce+Oe,!h(me))for(var rt=0;rt<pe;rt++)for(var kt=0;kt<me[rt].length;kt++)me[rt][kt]=R[he][rt][kt]}else me[I][1]=$+Ce,me[I][2]=ce+Le;H()}}function n(){te()}function q(){if(d.length&&d[he]&&d[he].length){for(var Ce=[],Le=0;Le<d[he].length;Le++)Le!==I&&Ce.push(d[he][Le]);Ce.length>1&&!(Ce.length===2&&Ce[1][0]==="Z")&&(I===0&&(Ce[0][0]="M"),d[he]=Ce,H(),te())}}function J(Ce,Le){if(Ce===2){he=+Le.srcElement.getAttribute("data-i"),I=+Le.srcElement.getAttribute("data-j");var $=d[he];!h($)&&!a($)&&q()}}function se(Ce){ee=[];for(var Le=0;Le<d.length;Le++){var $=d[Le],ce=h($),me=!ce&&a($);ee[Le]=[];for(var pe=$.length,xe=0;xe<pe;xe++)if($[xe][0]!=="Z"&&!(me&&xe!==A&&xe!==p&&xe!==E&&xe!==S)){var Oe=ce&&B.isActiveSelection,Xe;Oe&&(Xe=L($,xe));var $e=$[xe][1],pt=$[xe][2],rt=Ce.append(Oe?"rect":"circle").attr("data-i",Le).attr("data-j",xe).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Oe){var kt=Xe[1]-$e,Mt=Xe[2]-pt,Dt=Mt?5:Math.max(Math.min(25,Math.abs(kt)-5),5),lt=kt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5);rt.classed(Mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Dt).attr("height",lt).attr("x",$e-Dt/2).attr("y",pt-lt/2).attr("transform",v(kt/2,Mt/2))}else rt.classed("cursor-grab",!0).attr("r",5).attr("cx",$e).attr("cy",pt);ee[Le][xe]={element:rt.node(),gd:K,prepFn:k,doneFn:n,clickFn:J},u.init(ee[Le][xe])}}}function ye(Ce,Le){if(d.length)for(var $=0;$<d.length;$++)for(var ce=0;ce<d[$].length;ce++)for(var me=0;me+2<d[$][ce].length;me+=2)d[$][ce][me+1]=R[$][ce][me+1]+Ce,d[$][ce][me+2]=R[$][ce][me+2]+Le}function we(Ce,Le){ye(Ce,Le),H()}function ke(Ce){he=+Ce.srcElement.getAttribute("data-i"),he||(he=0),de[he].moveFn=we}function ue(){te()}function Me(Ce){Ce===2&&O(K)}function Ne(){if(de=[],!!d.length){var Ce=0;de[Ce]={element:U[0][0],gd:K,prepFn:ke,doneFn:ue,clickFn:Me},u.init(de[Ce])}}};function Y(D,d){for(var U=0;U<d.length;U++){var B=d[U];D[U]=[];for(var X=0;X<B.length;X++){D[U][X]=[];for(var K=0;K<B[X].length;K++)D[U][X][K]=B[X][K]}}return D}function L(D,d){var U=D[d][1],B=D[d][2],X=D.length,K,H,te;return K=(d+1)%X,H=D[K][1],te=D[K][2],H===U&&te===B&&(K=(d+2)%X,H=D[K][1],te=D[K][2]),[K,H,te]}function O(D){if(f(D._fullLayout.dragmode)){x(D);var d=D._fullLayout._activeSelectionIndex,U=(D.layout||{}).selections||[];if(d<U.length){for(var B=[],X=0;X<U.length;X++)X!==d&&B.push(U[X]);delete D._fullLayout._activeSelectionIndex;var K=D._fullLayout.selections[d];D._fullLayout._deselect={xref:K.xref,yref:K.yref},w.call("_guiRelayout",D,{selections:B})}}}}}),tl=Ke({"src/components/shapes/draw.js"(M,N){"use strict";var t=Yr(),v=Er(),u=Zt(),m=An(),g=ja().readPaths,f=cf(),w=el(),c=Ba().clearOutlineControllers,r=$r(),A=un(),p=Pn().arrayEditor,E=$n(),S=Ga(),F=Vi(),x=Xa(),b=x.getPathString;N.exports={draw:h,drawOne:T,eraseActiveShape:D,drawLabel:w};function h(d){var U=d._fullLayout;U._shapeUpperLayer.selectAll("path").remove(),U._shapeLowerLayer.selectAll("path").remove(),U._shapeUpperLayer.selectAll("text").remove(),U._shapeLowerLayer.selectAll("text").remove();for(var B in U._plots){var X=U._plots[B].shapelayer;X&&(X.selectAll("path").remove(),X.selectAll("text").remove())}for(var K=0;K<U.shapes.length;K++)U.shapes[K].visible===!0&&T(d,K)}function a(d){return!!d._fullLayout._outlining}function o(d){return!d._context.edits.shapePosition}function T(d,U){d._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+U+'"]').remove();var B=x.makeShapesOptionsAndPlotinfo(d,U),X=B.options,K=B.plotinfo;if(!X._input||X.visible!==!0)return;if(X.layer==="above")te(d._fullLayout._shapeUpperLayer);else if(X.xref==="paper"||X.yref==="paper")te(d._fullLayout._shapeLowerLayer);else if(X.layer==="between")te(K.shapelayerBetween);else if(K._hadPlotinfo){var H=K.mainplotinfo||K;te(H.shapelayer)}else te(d._fullLayout._shapeLowerLayer);function te(ne){var ie=b(d,X),re={"data-index":U,"fill-rule":X.fillrule,d:ie},oe=X.opacity,W=X.fillcolor,ee=X.line.width?X.line.color:"rgba(0,0,0,0)",de=X.line.width,he=X.line.dash;!de&&X.editable===!0&&(de=5,he="solid");var I=ie[ie.length-1]!=="Z",R=o(d)&&X.editable&&d._fullLayout._activeShapeIndex===U;R&&(W=I?"rgba(0,0,0,0)":d._fullLayout.activeshape.fillcolor,oe=d._fullLayout.activeshape.opacity);var _=ne.append("g").classed("shape-group",!0).attr({"data-index":U}),i=_.append("path").attr(re).style("opacity",oe).call(r.stroke,ee).call(r.fill,W).call(A.dashLine,he,de);C(_,d,X),w(d,U,X,_);var l;if((R||d._context.edits.shapePosition)&&(l=p(d.layout,"shapes",X)),R){i.style({cursor:"move"});var k={element:i.node(),plotinfo:K,gd:d,editHelpers:l,hasText:X.label.text||X.label.texttemplate,isActiveShape:!0},y=g(ie,d);f(y,i,k)}else d._context.edits.shapePosition?z(d,i,X,U,ne,l):X.editable===!0&&i.style("pointer-events",I||r.opacity(W)*oe<=.5?"stroke":"all");i.node().addEventListener("click",function(){return L(d,i)})}}function C(d,U,B){var X=(B.xref+B.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");A.setClipUrl(d,X?"clip"+U._fullLayout._uid+X:null,U)}function z(d,U,B,X,K,H){var te=10,ne=10,ie=B.xsizemode==="pixel",re=B.ysizemode==="pixel",oe=B.type==="line",W=B.type==="path",ee=H.modifyItem,de,he,I,R,_,i,l,k,y,n,q,J,se,ye,we,ke=t.select(U.node().parentNode),ue=m.getFromId(d,B.xref),Me=m.getRefType(B.xref),Ne=m.getFromId(d,B.yref),Ce=m.getRefType(B.yref),Le=B.x0shift,$=B.x1shift,ce=B.y0shift,me=B.y1shift,pe=function(ge,_e){var Te=x.getDataToPixel(d,ue,_e,!1,Me);return Te(ge)},xe=function(ge,_e){var Te=x.getDataToPixel(d,Ne,_e,!0,Ce);return Te(ge)},Oe=x.getPixelToData(d,ue,!1,Me),Xe=x.getPixelToData(d,Ne,!0,Ce),$e=kt(),pt={element:$e.node(),gd:d,prepFn:lt,doneFn:wt,clickFn:ut},rt;E.init(pt),$e.node().onmousemove=Dt;function kt(){return oe?Mt():U}function Mt(){var ge=10,_e=Math.max(B.line.width,ge),Te=K.append("g").attr("data-index",X).attr("drag-helper",!0);Te.append("path").attr("d",U.attr("d")).style({cursor:"move","stroke-width":_e,"stroke-opacity":"0"});var He={"fill-opacity":"0"},qe=Math.max(_e/2,ge);return Te.append("circle").attr({"data-line-point":"start-point",cx:ie?pe(B.xanchor)+B.x0:pe(B.x0,Le),cy:re?xe(B.yanchor)-B.y0:xe(B.y0,ce),r:qe}).style(He).classed("cursor-grab",!0),Te.append("circle").attr({"data-line-point":"end-point",cx:ie?pe(B.xanchor)+B.x1:pe(B.x1,$),cy:re?xe(B.yanchor)-B.y1:xe(B.y1,me),r:qe}).style(He).classed("cursor-grab",!0),Te}function Dt(ge){if(a(d)){rt=null;return}if(oe)ge.target.tagName==="path"?rt="move":rt=ge.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var _e=pt.element.getBoundingClientRect(),Te=_e.right-_e.left,He=_e.bottom-_e.top,qe=ge.clientX-_e.left,Ze=ge.clientY-_e.top,Ie=!W&&Te>te&&He>ne&&!ge.shiftKey?E.getCursor(qe/Te,1-Ze/He):"move";S(U,Ie),rt=Ie.split("-")[0]}}function lt(ge){a(d)||(ie&&(_=pe(B.xanchor)),re&&(i=xe(B.yanchor)),B.type==="path"?we=B.path:(de=ie?B.x0:pe(B.x0),he=re?B.y0:xe(B.y0),I=ie?B.x1:pe(B.x1),R=re?B.y1:xe(B.y1)),de<I?(y=de,se="x0",n=I,ye="x1"):(y=I,se="x1",n=de,ye="x0"),!re&&he<R||re&&he>R?(l=he,q="y0",k=R,J="y1"):(l=R,q="y1",k=he,J="y0"),Dt(ge),tt(K,B),le(U,B,d),pt.moveFn=rt==="move"?yt:et,pt.altKey=ge.altKey)}function wt(){a(d)||(S(U),ct(K),C(U,d,B),v.call("_guiRelayout",d,H.getUpdateObj()))}function ut(){a(d)||ct(K)}function yt(ge,_e){if(B.type==="path"){var Te=function(Ze){return Ze},He=Te,qe=Te;ie?ee("xanchor",B.xanchor=Oe(_+ge)):(He=function(Ie){return Oe(pe(Ie)+ge)},ue&&ue.type==="date"&&(He=x.encodeDate(He))),re?ee("yanchor",B.yanchor=Xe(i+_e)):(qe=function(Ie){return Xe(xe(Ie)+_e)},Ne&&Ne.type==="date"&&(qe=x.encodeDate(qe))),ee("path",B.path=Y(we,He,qe))}else ie?ee("xanchor",B.xanchor=Oe(_+ge)):(ee("x0",B.x0=Oe(de+ge)),ee("x1",B.x1=Oe(I+ge))),re?ee("yanchor",B.yanchor=Xe(i+_e)):(ee("y0",B.y0=Xe(he+_e)),ee("y1",B.y1=Xe(R+_e)));U.attr("d",b(d,B)),tt(K,B),w(d,X,B,ke)}function et(ge,_e){if(W){var Te=function(jt){return jt},He=Te,qe=Te;ie?ee("xanchor",B.xanchor=Oe(_+ge)):(He=function(or){return Oe(pe(or)+ge)},ue&&ue.type==="date"&&(He=x.encodeDate(He))),re?ee("yanchor",B.yanchor=Xe(i+_e)):(qe=function(or){return Xe(xe(or)+_e)},Ne&&Ne.type==="date"&&(qe=x.encodeDate(qe))),ee("path",B.path=Y(we,He,qe))}else if(oe){if(rt==="resize-over-start-point"){var Ze=de+ge,Ie=re?he-_e:he+_e;ee("x0",B.x0=ie?Ze:Oe(Ze)),ee("y0",B.y0=re?Ie:Xe(Ie))}else if(rt==="resize-over-end-point"){var Be=I+ge,ze=re?R-_e:R+_e;ee("x1",B.x1=ie?Be:Oe(Be)),ee("y1",B.y1=re?ze:Xe(ze))}}else{var st=function(jt){return rt.indexOf(jt)!==-1},vt=st("n"),xt=st("s"),Lt=st("w"),Wt=st("e"),Vt=vt?l+_e:l,Gt=xt?k+_e:k,hr=Lt?y+ge:y,Kt=Wt?n+ge:n;re&&(vt&&(Vt=l-_e),xt&&(Gt=k-_e)),(!re&&Gt-Vt>ne||re&&Vt-Gt>ne)&&(ee(q,B[q]=re?Vt:Xe(Vt)),ee(J,B[J]=re?Gt:Xe(Gt))),Kt-hr>te&&(ee(se,B[se]=ie?hr:Oe(hr)),ee(ye,B[ye]=ie?Kt:Oe(Kt)))}U.attr("d",b(d,B)),tt(K,B),w(d,X,B,ke)}function tt(ge,_e){(ie||re)&&Te();function Te(){var He=_e.type!=="path",qe=ge.selectAll(".visual-cue").data([0]),Ze=1;qe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ze}).classed("visual-cue",!0);var Ie=pe(ie?_e.xanchor:u.midRange(He?[_e.x0,_e.x1]:x.extractPathCoords(_e.path,F.paramIsX))),Be=xe(re?_e.yanchor:u.midRange(He?[_e.y0,_e.y1]:x.extractPathCoords(_e.path,F.paramIsY)));if(Ie=x.roundPositionForSharpStrokeRendering(Ie,Ze),Be=x.roundPositionForSharpStrokeRendering(Be,Ze),ie&&re){var ze="M"+(Ie-1-Ze)+","+(Be-1-Ze)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";qe.attr("d",ze)}else if(ie){var st="M"+(Ie-1-Ze)+","+(Be-9-Ze)+"v18 h2 v-18 Z";qe.attr("d",st)}else{var vt="M"+(Ie-9-Ze)+","+(Be-1-Ze)+"h18 v2 h-18 Z";qe.attr("d",vt)}}}function ct(ge){ge.selectAll(".visual-cue").remove()}function le(ge,_e,Te){var He=_e.xref,qe=_e.yref,Ze=m.getFromId(Te,He),Ie=m.getFromId(Te,qe),Be="";He!=="paper"&&!Ze.autorange&&(Be+=He),qe!=="paper"&&!Ie.autorange&&(Be+=qe),A.setClipUrl(ge,Be?"clip"+Te._fullLayout._uid+Be:null,Te)}}function Y(d,U,B){return d.replace(F.segmentRE,function(X){var K=0,H=X.charAt(0),te=F.paramIsX[H],ne=F.paramIsY[H],ie=F.numParams[H],re=X.substr(1).replace(F.paramRE,function(oe){return K>=ie||(te[K]?oe=U(oe):ne[K]&&(oe=B(oe)),K++),oe});return H+re})}function L(d,U){if(o(d)){var B=U.node(),X=+B.getAttribute("data-index");if(X>=0){if(X===d._fullLayout._activeShapeIndex){O(d);return}d._fullLayout._activeShapeIndex=X,d._fullLayout._deactivateShape=O,h(d)}}}function O(d){if(o(d)){var U=d._fullLayout._activeShapeIndex;U>=0&&(c(d),delete d._fullLayout._activeShapeIndex,h(d))}}function D(d){if(o(d)){c(d);var U=d._fullLayout._activeShapeIndex,B=(d.layout||{}).shapes||[];if(U<B.length){for(var X=[],K=0;K<B.length;K++)K!==U&&X.push(B[K]);return delete d._fullLayout._activeShapeIndex,v.call("_guiRelayout",d,{shapes:X})}}}}}),vf=Ke({"src/plots/cartesian/scale_zoom.js"(M,N){"use strict";var t=zn().FROM_BL;N.exports=function(u,m,g){g===void 0&&(g=t[u.constraintoward||"center"]);var f=[u.r2l(u.range[0]),u.r2l(u.range[1])],w=f[0]+(f[1]-f[0])*g;u.range=u._input.range=[u.l2r(w+(f[0]-w)*m),u.l2r(w+(f[1]-w)*m)],u.setScale()}}}),Va=Ke({"src/plots/cartesian/constraints.js"(M){"use strict";var N=Zt(),t=Ui(),v=Bn().id2name,u=fa(),m=vf(),g=Gi(),f=hn().ALMOST_EQUAL,w=zn().FROM_BL;M.handleDefaults=function(x,b,h){var a=h.axIds,o=h.axHasImage,T=b._axisConstraintGroups=[],C=b._axisMatchGroups=[],z,Y,L,O,D,d,U,B;for(z=0;z<a.length;z++)O=v(a[z]),D=x[O],d=b[O],c(D,d,{axIds:a,layoutOut:b,hasImage:o[O]});function X(ee,de){for(z=0;z<ee.length;z++){Y=ee[z];for(L in Y)b[v(L)][de]=Y}}for(X(C,"_matchGroup"),z=0;z<T.length;z++){Y=T[z];for(L in Y)if(d=b[v(L)],d.fixedrange){for(var K in Y){var H=v(K);(x[H]||{}).fixedrange===!1&&N.warn("fixedrange was specified as false for axis "+H+" but was overridden because another axis in its constraint group has fixedrange true"),b[H].fixedrange=!0}break}}for(z=0;z<T.length;){Y=T[z];for(L in Y){d=b[v(L)],d._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(Y).length&&(T.splice(z,1),z--);break}z++}X(T,"_constraintGroup");var te=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],ne=!1,ie=!1;function re(){B=d[U],U==="rangebreaks"&&(ie=d._hasDayOfWeekBreaks)}for(z=0;z<C.length;z++){Y=C[z];for(var oe=0;oe<te.length;oe++){U=te[oe],B=null;var W;for(L in Y)if(O=v(L),D=x[O],d=b[O],U in d){if(!d.matches&&(W=d,U in D)){re();break}B===null&&U in D&&re()}if(U==="range"&&B&&D.range&&D.range.length===2&&D.range[0]!==null&&D.range[1]!==null&&(ne=!0),U==="autorange"&&B===null&&ne&&(B=!1),B===null&&U in W&&(B=W[U]),B!==null)for(L in Y)d=b[v(L)],d[U]=U==="range"?B.slice():B,U==="rangebreaks"&&(d._hasDayOfWeekBreaks=ie,g(d,b))}}};function c(x,b,h){var a=h.axIds,o=h.layoutOut,T=h.hasImage,C=o._axisConstraintGroups,z=o._axisMatchGroups,Y=b._id,L=Y.charAt(0),O=((o._splomAxes||{})[L]||{})[Y]||{},D=b._id,d=D.charAt(0)==="x";b._matchGroup=null,b._constraintGroup=null;function U(R,_){return N.coerce(x,b,u,R,_)}U("constrain",T?"domain":"range"),N.coerce(x,b,{constraintoward:{valType:"enumerated",values:d?["left","center","right"]:["bottom","middle","top"],dflt:d?"center":"middle"}},"constraintoward");var B=b.type,X,K,H=[];for(X=0;X<a.length;X++)if(K=a[X],K!==D){var te=o[v(K)];te.type===B&&H.push(K)}var ne=A(C,D);if(ne){var ie=[];for(X=0;X<H.length;X++)K=H[X],ne[K]||ie.push(K);H=ie}var re=H.length,oe,W;re&&(x.matches||O.matches)&&(oe=N.coerce(x,b,{matches:{valType:"enumerated",values:H,dflt:H.indexOf(O.matches)!==-1?O.matches:void 0}},"matches"));var ee=T&&!d?b.anchor:void 0;if(re&&!oe&&(x.scaleanchor||ee)&&(W=N.coerce(x,b,{scaleanchor:{valType:"enumerated",values:H.concat([!1])}},"scaleanchor",ee)),oe){b._matchGroup=p(z,D,oe,1);var de=o[v(oe)],he=r(o,b)/r(o,de);d!==(oe.charAt(0)==="x")&&(he=(d?"x":"y")+he),p(C,D,oe,he)}else x.matches&&a.indexOf(x.matches)!==-1&&N.warn("ignored "+b._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(W){var I=U("scaleratio");I||(I=b.scaleratio=1),p(C,D,W,I)}else x.scaleanchor&&a.indexOf(x.scaleanchor)!==-1&&N.warn("ignored "+b._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(x,b){var h=b.domain;return h||(h=x[v(b.overlaying)].domain),h[1]-h[0]}function A(x,b){for(var h=0;h<x.length;h++)if(x[h][b])return x[h];return null}function p(x,b,h,a){var o,T,C,z,Y,L=A(x,b);L===null?(L={},L[b]=1,Y=x.length,x.push(L)):Y=x.indexOf(L);var O=Object.keys(L);for(o=0;o<x.length;o++)if(C=x[o],o!==Y&&C[h]){var D=C[h];for(T=0;T<O.length;T++)z=O[T],C[z]=E(D,E(a,L[z]));x.splice(Y,1);return}if(a!==1)for(T=0;T<O.length;T++){var d=O[T];L[d]=E(a,L[d])}L[h]=1}function E(x,b){var h="",a="",o,T;typeof x=="string"&&(h=x.match(/^[xy]*/)[0],o=h.length,x=+x.substr(o)),typeof b=="string"&&(a=b.match(/^[xy]*/)[0],T=a.length,b=+b.substr(T));var C=x*b;return!o&&!T?C:!o||!T||h.charAt(0)===a.charAt(0)?h+a+x*b:o===T?C:(o>T?h.substr(T):a.substr(o))+C}function S(x,b){for(var h=b._size,a=h.h/h.w,o={},T=Object.keys(x),C=0;C<T.length;C++){var z=T[C],Y=x[z];if(typeof Y=="string"){var L=Y.match(/^[xy]*/)[0],O=L.length;Y=+Y.substr(O);for(var D=L.charAt(0)==="y"?a:1/a,d=0;d<O;d++)Y*=D}o[z]=Y}return o}M.enforce=function(b){var h=b._fullLayout,a=h._axisConstraintGroups||[],o,T,C,z,Y,L,O,D;for(o=0;o<a.length;o++){C=S(a[o],h);var d=Object.keys(C),U=1/0,B=0,X=1/0,K={},H={},te=!1;for(T=0;T<d.length;T++)z=d[T],H[z]=Y=h[v(z)],Y._inputDomain?Y.domain=Y._inputDomain.slice():Y._inputDomain=Y.domain.slice(),Y._inputRange||(Y._inputRange=Y.range.slice()),Y.setScale(),K[z]=L=Math.abs(Y._m)/C[z],U=Math.min(U,L),(Y.constrain==="domain"||!Y._constraintShrinkable)&&(X=Math.min(X,L)),delete Y._constraintShrinkable,B=Math.max(B,L),Y.constrain==="domain"&&(te=!0);if(!(U>f*B&&!te)){for(T=0;T<d.length;T++)if(z=d[T],L=K[z],Y=H[z],O=Y.constrain,L!==X||O==="domain")if(D=L/X,O==="range")m(Y,D);else{var ne=Y._inputDomain,ie=(Y.domain[1]-Y.domain[0])/(ne[1]-ne[0]),re=(Y.r2l(Y.range[1])-Y.r2l(Y.range[0]))/(Y.r2l(Y._inputRange[1])-Y.r2l(Y._inputRange[0]));if(D/=ie,D*re<1){Y.domain=Y._input.domain=ne.slice(),m(Y,D);continue}if(re<1&&(Y.range=Y._input.range=Y._inputRange.slice(),D*=re),Y.autorange){var oe=Y.r2l(Y.range[0]),W=Y.r2l(Y.range[1]),ee=(oe+W)/2,de=ee,he=ee,I=Math.abs(W-ee),R=ee-I*D*1.0001,_=ee+I*D*1.0001,i=t.makePadFn(h,Y,0),l=t.makePadFn(h,Y,1);F(Y,D);var k=Math.abs(Y._m),y=t.concatExtremes(b,Y),n=y.min,q=y.max,J,se;for(se=0;se<n.length;se++)J=n[se].val-i(n[se])/k,J>R&&J<de&&(de=J);for(se=0;se<q.length;se++)J=q[se].val+l(q[se])/k,J<_&&J>he&&(he=J);var ye=(he-de)/(2*I);D/=ye,de=Y.l2r(de),he=Y.l2r(he),Y.range=Y._input.range=oe<W?[de,he]:[he,de]}F(Y,D)}}}},M.getAxisGroup=function(b,h){for(var a=b._axisMatchGroups,o=0;o<a.length;o++){var T=a[o];if(T[h])return"g"+o}return h},M.clean=function(b,h){if(h._inputDomain){for(var a=!1,o=h._id,T=b._fullLayout._axisConstraintGroups,C=0;C<T.length;C++)if(T[C][o]){a=!0;break}(!a||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function F(x,b){var h=x._inputDomain,a=w[x.constraintoward],o=h[0]+(h[1]-h[0])*a;x.domain=x._input.domain=[o+(h[0]-o)/b,o+(h[1]-o)/b],x.setScale()}}}),hf=Ke({"src/plot_api/subroutines.js"(M){"use strict";var N=Yr(),t=Er(),v=En(),u=Zt(),m=jn(),g=$r(),f=un(),w=Bo(),c=An(),r=zn(),A=Va(),p=A.enforce,E=A.clean,S=Ui().doAutoRange,F="start",x="middle",b="end",h=xn().zindexSeparator;M.layoutStyles=function(H){return u.syncOrAsync([v.doAutoMargin,o],H)};function a(H,te,ne){for(var ie=0;ie<ne.length;ie++){var re=ne[ie][0],oe=ne[ie][1];if(!(re[0]>=H[1]||re[1]<=H[0])&&oe[0]<te[1]&&oe[1]>te[0])return!0}return!1}function o(H){var te=H._fullLayout,ne=te._size,ie=ne.p,re=c.list(H,"",!0),oe,W,ee,de,he,I;if(te._paperdiv.style({width:H._context.responsive&&te.autosize&&!H._context._hasZeroWidth&&!H.layout.width?"100%":te.width+"px",height:H._context.responsive&&te.autosize&&!H._context._hasZeroHeight&&!H.layout.height?"100%":te.height+"px"}).selectAll(".main-svg").call(f.setSize,te.width,te.height),H._context.setBackground(H,te.paper_bgcolor),M.drawMainTitle(H),!te._has("cartesian"))return v.previousPromises(H);function R(tt,ct,le){var ge=tt._lw/2;if(tt._id.charAt(0)==="x"){if(ct){if(le==="top")return ct._offset-ie-ge}else return ne.t+ne.h*(1-(tt.position||0))+ge%1;return ct._offset+ct._length+ie+ge}if(ct){if(le==="right")return ct._offset+ct._length+ie+ge}else return ne.l+ne.w*(tt.position||0)+ge%1;return ct._offset-ie-ge}for(oe=0;oe<re.length;oe++){de=re[oe];var _=de._anchorAxis;de._linepositions={},de._lw=f.crispRound(H,de.linewidth,1),de._mainLinePosition=R(de,_,de.side),de._mainMirrorPosition=de.mirror&&_?R(de,_,r.OPPOSITE_SIDE[de.side]):null}var i=[],l=[],k=[],y=g.opacity(te.paper_bgcolor)===1&&g.opacity(te.plot_bgcolor)===1&&te.paper_bgcolor===te.plot_bgcolor;for(W in te._plots)if(ee=te._plots[W],ee.mainplot)ee.bg&&ee.bg.remove(),ee.bg=void 0;else{var n=ee.xaxis.domain,q=ee.yaxis.domain,J=ee.plotgroup;if(a(n,q,k)&&W.indexOf(h)===-1){var se=J.node(),ye=ee.bg=u.ensureSingle(J,"rect","bg");se.insertBefore(ye.node(),se.childNodes[0]),l.push(W)}else J.select("rect.bg").remove(),k.push([n,q]),y||(i.push(W),l.push(W))}var we=te._bgLayer.selectAll(".bg").data(i);for(we.enter().append("rect").classed("bg",!0),we.exit().remove(),we.each(function(tt){te._plots[tt].bg=N.select(this)}),oe=0;oe<l.length;oe++)ee=te._plots[l[oe]],he=ee.xaxis,I=ee.yaxis,ee.bg&&he._offset!==void 0&&I._offset!==void 0&&ee.bg.call(f.setRect,he._offset-ie,I._offset-ie,he._length+2*ie,I._length+2*ie).call(g.fill,te.plot_bgcolor).style("stroke-width",0);if(!te._hasOnlyLargeSploms)for(W in te._plots){ee=te._plots[W],he=ee.xaxis,I=ee.yaxis;var ke=ee.clipId="clip"+te._uid+W+"plot",ue=u.ensureSingleById(te._clips,"clipPath",ke,function(tt){tt.classed("plotclip",!0).append("rect")});ee.clipRect=ue.select("rect").attr({width:he._length,height:I._length}),f.setTranslate(ee.plot,he._offset,I._offset);var Me,Ne;ee._hasClipOnAxisFalse?(Me=null,Ne=ke):(Me=ke,Ne=null),f.setClipUrl(ee.plot,Me,H),ee.layerClipId=Ne}var Ce,Le,$,ce,me,pe,xe,Oe,Xe,$e,pt,rt,kt;function Mt(tt){return"M"+Ce+","+tt+"H"+Le}function Dt(tt){return"M"+he._offset+","+tt+"h"+he._length}function lt(tt){return"M"+tt+","+Oe+"V"+xe}function wt(tt){return I._shift!==void 0&&(tt+=I._shift),"M"+tt+","+I._offset+"v"+I._length}function ut(tt,ct,le){if(!tt.showline||W!==tt._mainSubplot)return"";if(!tt._anchorAxis)return le(tt._mainLinePosition);var ge=ct(tt._mainLinePosition);return tt.mirror&&(ge+=ct(tt._mainMirrorPosition)),ge}for(W in te._plots){ee=te._plots[W],he=ee.xaxis,I=ee.yaxis;var yt="M0,0";T(he,W)&&(me=z(he,"left",I,re),Ce=he._offset-(me?ie+me:0),pe=z(he,"right",I,re),Le=he._offset+he._length+(pe?ie+pe:0),$=R(he,I,"bottom"),ce=R(he,I,"top"),kt=!he._anchorAxis||W!==he._mainSubplot,kt&&(he.mirror==="allticks"||he.mirror==="all")&&(he._linepositions[W]=[$,ce]),yt=ut(he,Mt,Dt),kt&&he.showline&&(he.mirror==="all"||he.mirror==="allticks")&&(yt+=Mt($)+Mt(ce)),ee.xlines.style("stroke-width",he._lw+"px").call(g.stroke,he.showline?he.linecolor:"rgba(0,0,0,0)")),ee.xlines.attr("d",yt);var et="M0,0";T(I,W)&&(pt=z(I,"bottom",he,re),xe=I._offset+I._length+(pt?ie:0),rt=z(I,"top",he,re),Oe=I._offset-(rt?ie:0),Xe=R(I,he,"left"),$e=R(I,he,"right"),kt=!I._anchorAxis||W!==I._mainSubplot,kt&&(I.mirror==="allticks"||I.mirror==="all")&&(I._linepositions[W]=[Xe,$e]),et=ut(I,lt,wt),kt&&I.showline&&(I.mirror==="all"||I.mirror==="allticks")&&(et+=lt(Xe)+lt($e)),ee.ylines.style("stroke-width",I._lw+"px").call(g.stroke,I.showline?I.linecolor:"rgba(0,0,0,0)")),ee.ylines.attr("d",et)}return c.makeClipPaths(H),v.previousPromises(H)}function T(H,te){return(H.ticks||H.showline)&&(te===H._mainSubplot||H.mirror==="all"||H.mirror==="allticks")}function C(H,te,ne){if(!ne.showline||!ne._lw)return!1;if(ne.mirror==="all"||ne.mirror==="allticks")return!0;var ie=ne._anchorAxis;if(!ie)return!1;var re=r.FROM_BL[te];return ne.side===te?ie.domain[re]===H.domain[re]:ne.mirror&&ie.domain[1-re]===H.domain[1-re]}function z(H,te,ne,ie){if(C(H,te,ne))return ne._lw;for(var re=0;re<ie.length;re++){var oe=ie[re];if(oe._mainAxis===ne._mainAxis&&C(H,te,oe))return oe._lw}return 0}M.drawMainTitle=function(H){var te=H._fullLayout.title,ne=H._fullLayout,ie=X(ne),re=K(ne),oe=U(ne,re),W=d(ne,ie);if(w.draw(H,"gtitle",{propContainer:ne,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:ne._dfltTitle.plot,subtitlePlaceholder:ne._dfltTitle.subtitle,attributes:{x:W,y:oe,"text-anchor":ie,dy:re}}),te.text&&te.automargin){var ee=N.selectAll(".gtitle"),de=f.bBox(N.selectAll(".g-gtitle").node()).height,he=O(H,te,de);if(he>0){D(H,oe,he,de),ee.attr({x:W,y:oe,"text-anchor":ie,dy:B(te.yanchor)}).call(m.positionText,W,oe);var I=(te.text.match(m.BR_TAG_ALL)||[]).length;if(I){var R=r.LINE_SPACING*I+r.MID_SHIFT;te.y===0&&(R=-R),ee.selectAll(".line").each(function(){var y=+this.getAttribute("dy").slice(0,-2)-R+"em";this.setAttribute("dy",y)})}var _=N.selectAll(".gtitle-subtitle");if(_.node()){var i=ee.node().getBBox(),l=i.y+i.height,k=l+w.SUBTITLE_PADDING_EM*te.subtitle.font.size;_.attr({x:W,y:k,"text-anchor":ie,dy:B(te.yanchor)}).call(m.positionText,W,k)}}}};function Y(H,te,ne,ie,re){var oe=te.yref==="paper"?H._fullLayout._size.h:H._fullLayout.height,W=u.isTopAnchor(te)?ie:ie-re,ee=ne==="b"?oe-W:W;return u.isTopAnchor(te)&&ne==="t"||u.isBottomAnchor(te)&&ne==="b"?!1:ee<re}function L(H,te,ne,ie,re){var oe=0;return ne==="middle"&&(oe+=re/2),H==="t"?(ne==="top"&&(oe+=re),oe+=ie-te*ie):(ne==="bottom"&&(oe+=re),oe+=te*ie),oe}function O(H,te,ne){var ie=te.y,re=te.yanchor,oe=ie>.5?"t":"b",W=H._fullLayout.margin[oe],ee=0;return te.yref==="paper"?ee=ne+te.pad.t+te.pad.b:te.yref==="container"&&(ee=L(oe,ie,re,H._fullLayout.height,ne)+te.pad.t+te.pad.b),ee>W?ee:0}function D(H,te,ne,ie){var re="title.automargin",oe=H._fullLayout.title,W=oe.y>.5?"t":"b",ee={x:oe.x,y:oe.y,t:0,b:0},de={};oe.yref==="paper"&&Y(H,oe,W,te,ie)?ee[W]=ne:oe.yref==="container"&&(de[W]=ne,H._fullLayout._reservedMargin[re]=de),v.allowAutoMargin(H,re),v.autoMargin(H,re,ee)}function d(H,te){var ne=H.title,ie=H._size,re=0;switch(te===F?re=ne.pad.l:te===b&&(re=-ne.pad.r),ne.xref){case"paper":return ie.l+ie.w*ne.x+re;case"container":default:return H.width*ne.x+re}}function U(H,te){var ne=H.title,ie=H._size,re=0;if(te==="0em"||!te?re=-ne.pad.b:te===r.CAP_SHIFT+"em"&&(re=ne.pad.t),ne.y==="auto")return ie.t/2;switch(ne.yref){case"paper":return ie.t+ie.h-ie.h*ne.y+re;case"container":default:return H.height-H.height*ne.y+re}}function B(H){return H==="top"?r.CAP_SHIFT+.3+"em":H==="bottom"?"-0.3em":r.MID_SHIFT+"em"}function X(H){var te=H.title,ne=x;return u.isRightAnchor(te)?ne=b:u.isLeftAnchor(te)&&(ne=F),ne}function K(H){var te=H.title,ne="0em";return u.isTopAnchor(te)?ne=r.CAP_SHIFT+"em":u.isMiddleAnchor(te)&&(ne=r.MID_SHIFT+"em"),ne}M.doTraceStyle=function(H){var te=H.calcdata,ne=[],ie;for(ie=0;ie<te.length;ie++){var re=te[ie],oe=re[0]||{},W=oe.trace||{},ee=W._module||{},de=ee.arraysToCalcdata;de&&de(re,W);var he=ee.editStyle;he&&ne.push({fn:he,cd0:oe})}if(ne.length){for(ie=0;ie<ne.length;ie++){var I=ne[ie];I.fn(H,I.cd0)}M.redrawReglTraces(H)}return v.style(H),t.getComponentMethod("legend","draw")(H),v.previousPromises(H)},M.doColorBars=function(H){return t.getComponentMethod("colorbar","draw")(H),v.previousPromises(H)},M.layoutReplot=function(H){var te=H.layout;return H.layout=void 0,t.call("_doPlot",H,"",te)},M.doLegend=function(H){return t.getComponentMethod("legend","draw")(H),v.previousPromises(H)},M.doTicksRelayout=function(H){return c.draw(H,"redraw"),H._fullLayout._hasOnlyLargeSploms&&(t.subplotsRegistry.splom.updateGrid(H),M.redrawReglTraces(H)),M.drawMainTitle(H),v.previousPromises(H)},M.doModeBar=function(H){for(var te=H._fullLayout,ne=0;ne<te._basePlotModules.length;ne++){var ie=te._basePlotModules[ne].updateFx;ie&&ie(H)}return v.previousPromises(H)},M.doCamera=function(H){for(var te=H._fullLayout,ne=te._subplots.gl3d,ie=0;ie<ne.length;ie++){var re=te[ne[ie]],oe=re._scene;oe.setViewport(re)}},M.drawData=function(H){for(var te=H._fullLayout,ne=te._basePlotModules,ie=0;ie<ne.length;ie++)ne[ie].plot(H);return M.redrawReglTraces(H),v.style(H),t.getComponentMethod("selections","draw")(H),t.getComponentMethod("shapes","draw")(H),t.getComponentMethod("images","draw")(H),te._replotting=!1,v.previousPromises(H)},M.redrawReglTraces=function(H){var te=H._fullLayout;if(te._has("regl")){var ne=H._fullData,ie=[],re=[],oe,W;for(te._hasOnlyLargeSploms&&te._splomGrid.draw(),oe=0;oe<ne.length;oe++){var ee=ne[oe];ee.visible===!0&&ee._length!==0&&(ee.type==="splom"?te._splomScenes[ee.uid].draw():ee.type==="scattergl"?u.pushUnique(ie,ee.xaxis+ee.yaxis):ee.type==="scatterpolargl"&&u.pushUnique(re,ee.subplot))}for(oe=0;oe<ie.length;oe++)W=te._plots[ie[oe]],W._scene&&W._scene.draw();for(oe=0;oe<re.length;oe++)W=te[re[oe]]._subplot,W._scene&&W._scene.draw()}},M.doAutoRangeAndConstraints=function(H){for(var te=c.list(H,"",!0),ne,ie={},re=0;re<te.length;re++)if(ne=te[re],!ie[ne._id]){ie[ne._id]=1,E(H,ne),S(H,ne);var oe=ne._matchGroup;if(oe)for(var W in oe){var ee=c.getFromId(H,W);S(H,ee,ne.range),ie[W]=1}}p(H)},M.finalDraw=function(H){t.getComponentMethod("rangeslider","draw")(H),t.getComponentMethod("rangeselector","draw")(H)},M.drawMarginPushers=function(H){t.getComponentMethod("legend","draw")(H),t.getComponentMethod("rangeselector","draw")(H),t.getComponentMethod("sliders","draw")(H),t.getComponentMethod("updatemenus","draw")(H),t.getComponentMethod("colorbar","draw")(H)}}}),Dh=Ke({"node_modules/point-in-polygon/nested.js"(M,N){N.exports=function(v,u,m,g){var f=v[0],w=v[1],c=!1;m===void 0&&(m=0),g===void 0&&(g=u.length);for(var r=g-m,A=0,p=r-1;A<r;p=A++){var E=u[A+m][0],S=u[A+m][1],F=u[p+m][0],x=u[p+m][1],b=S>w!=x>w&&f<(F-E)*(w-S)/(x-S)+E;b&&(c=!c)}return c}}}),df=Ke({"src/lib/polygon.js"(M,N){"use strict";var t=Ri().dot,v=hn().BADNUM,u=N.exports={};u.tester=function(g){var f=g.slice(),w=f[0][0],c=w,r=f[0][1],A=r,p;for((f[f.length-1][0]!==f[0][0]||f[f.length-1][1]!==f[0][1])&&f.push(f[0]),p=1;p<f.length;p++)w=Math.min(w,f[p][0]),c=Math.max(c,f[p][0]),r=Math.min(r,f[p][1]),A=Math.max(A,f[p][1]);var E=!1,S;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(E=!0,S=function(a){return a[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(E=!0,S=function(a){return a[1]===f[0][1]}));function F(a,o){var T=a[0],C=a[1];return!(T===v||T<w||T>c||C===v||C<r||C>A||o&&S(a))}function x(a,o){var T=a[0],C=a[1];if(T===v||T<w||T>c||C===v||C<r||C>A)return!1;var z=f.length,Y=f[0][0],L=f[0][1],O=0,D,d,U,B,X;for(D=1;D<z;D++)if(d=Y,U=L,Y=f[D][0],L=f[D][1],B=Math.min(d,Y),!(T<B||T>Math.max(d,Y)||C>Math.max(U,L)))if(C<Math.min(U,L))T!==B&&O++;else{if(Y===d?X=C:X=U+(T-d)*(L-U)/(Y-d),C===X)return!(D===1&&o);C<=X&&T!==B&&O++}return O%2===1}var b=!0,h=f[0];for(p=1;p<f.length;p++)if(h[0]!==f[p][0]||h[1]!==f[p][1]){b=!1;break}return{xmin:w,xmax:c,ymin:r,ymax:A,pts:f,contains:E?F:x,isRect:E,degenerate:b}},u.isSegmentBent=function(g,f,w,c){var r=g[f],A=[g[w][0]-r[0],g[w][1]-r[1]],p=t(A,A),E=Math.sqrt(p),S=[-A[1]/E,A[0]/E],F,x,b;for(F=f+1;F<w;F++)if(x=[g[F][0]-r[0],g[F][1]-r[1]],b=t(x,A),b<0||b>p||Math.abs(t(x,S))>c)return!0;return!1},u.filter=function(g,f){var w=[g[0]],c=0,r=0;function A(E){g.push(E);var S=w.length,F=c;w.splice(r+1);for(var x=F+1;x<g.length;x++)(x===g.length-1||u.isSegmentBent(g,F,x+1,f))&&(w.push(g[x]),w.length<S-2&&(c=x,r=w.length-1),F=x)}if(g.length>1){var p=g.pop();A(p)}return{addPt:A,raw:g,filtered:w}}}}),pf=Ke({"src/constants/axis_placeable_objects.js"(M,N){"use strict";N.exports={axisRefDescription:function(t,v,u){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",v,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",v,"("+u+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",v,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",v,"and the",u,"of the domain of the","second",t,"axis."].join(" ")}}}}),Yi=Ke({"src/traces/scatter/constants.js"(M,N){"use strict";N.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}}),yf=Ke({"src/traces/scatter/fillcolor_attribute.js"(M,N){"use strict";N.exports=function(v){return{valType:"color",editType:"style",anim:!0}}}}),Ya=Ke({"src/traces/scatter/attributes.js"(M,N){"use strict";var t=qi().axisHoverFormat,v=ba().texttemplateAttrs,u=ba().hovertemplateAttrs,m=Sn(),g=_a().dash,f=_a().pattern,w=un(),c=Yi(),r=wn().extendFlat,A=yf();function p(F){return{valType:"any",dflt:0,editType:"calc"}}function E(F){return{valType:"any",editType:"calc"}}function S(F){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}N.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:p("x"),yperiod:p("y"),xperiod0:E("x0"),yperiod0:E("y0"),xperiodalignment:S("x"),yperiodalignment:S("y"),xhoverformat:t("x"),yhoverformat:t("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:v({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:u({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},g,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:A(!0),fillgradient:r({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:f,marker:r({symbol:{valType:"enumerated",values:w.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"}),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"}),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:m({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}}),gf=Ke({"src/plots/cartesian/include_components.js"(M,N){"use strict";var t=Er(),v=Zt(),u=Bn();N.exports=function(g){return function(w,c){var r=w[g];if(Array.isArray(r))for(var A=t.subplotsRegistry.cartesian,p=A.idRegex,E=c._subplots,S=E.xaxis,F=E.yaxis,x=E.cartesian,b=c._has("cartesian"),h=0;h<r.length;h++){var a=r[h];if(v.isPlainObject(a)){var o=u.cleanId(a.xref,"x",!1),T=u.cleanId(a.yref,"y",!1),C=p.x.test(o),z=p.y.test(T);if(C||z){b||v.pushUnique(c._basePlotModules,A);var Y=!1;C&&S.indexOf(o)===-1&&(S.push(o),Y=!0),z&&F.indexOf(T)===-1&&(F.push(T),Y=!0),Y&&C&&z&&x.push(o+T)}}}}}}}),rl=Ke({"src/plots/cartesian/graph_interact.js"(M){"use strict";var N=Yr(),t=Ma(),v=$n(),u=Ga(),m=xn().DRAGGERSIZE;M.initInteractions=function(f){var w=f._fullLayout;if(f._context.staticPlot){N.select(f).selectAll(".drag").remove();return}if(!(!w._has("cartesian")&&!w._has("splom"))){var c=Object.keys(w._plots||{}).sort(function(A,p){if((w._plots[A].mainplot&&!0)===(w._plots[p].mainplot&&!0)){var E=A.split("y"),S=p.split("y");return E[0]===S[0]?Number(E[1]||1)-Number(S[1]||1):Number(E[0]||1)-Number(S[0]||1)}return w._plots[A].mainplot?1:-1});c.forEach(function(A){var p=w._plots[A],E=p.xaxis,S=p.yaxis});var r=w._hoverlayer.node();r.onmousemove=function(A){A.target=f._fullLayout._lasthover,t.hover(f,A,w._hoversubplot)},r.onclick=function(A){A.target=f._fullLayout._lasthover,t.click(f,A)},r.onmousedown=function(A){f._fullLayout._lasthover.onmousedown(A)},M.updateFx(f)}},M.updateFx=function(g){var f=g._fullLayout,w=f.dragmode==="pan"?"move":"crosshair";u(f._draggers,w)}}}),mf=Ke({"src/plot_api/container_array_match.js"(M,N){"use strict";var t=Er();N.exports=function(u){for(var m=t.layoutArrayContainers,g=t.layoutArrayRegexes,f=u.split("[")[0],w,c,r=0;r<g.length;r++)if(c=u.match(g[r]),c&&c.index===0){w=c[0];break}if(w||(w=m[m.indexOf(f)]),!w)return!1;var A=u.substr(w.length);return A?(c=A.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),c?{array:w,index:Number(c[1]),property:c[3]||""}:!1):{array:w,index:"",property:""}}}}),_f=Ke({"src/plot_api/manage_arrays.js"(M){"use strict";var N=Wn(),t=Di(),v=ga(),u=Fo().sorterAsc,m=Er();M.containerArrayMatch=mf();var g=M.isAddVal=function(c){return c==="add"||N(c)},f=M.isRemoveVal=function(c){return c===null||c==="remove"};M.applyContainerArrayChanges=function(c,r,A,p,E){var S=r.astr,F=m.getComponentMethod(S,"supplyLayoutDefaults"),x=m.getComponentMethod(S,"draw"),b=m.getComponentMethod(S,"drawOne"),h=p.replot||p.recalc||F===t||x===t,a=c.layout,o=c._fullLayout;if(A[""]){Object.keys(A).length>1&&v.warn("Full array edits are incompatible with other edits",S);var T=A[""][""];if(f(T))r.set(null);else if(Array.isArray(T))r.set(T);else return v.warn("Unrecognized full array edit value",S,T),!0;return h?!1:(F(a,o),x(c),!0)}var C=Object.keys(A).map(Number).sort(u),z=r.get(),Y=z||[],L=E(o,S).get(),O=[],D=-1,d=Y.length,U,B,X,K,H,te,ne,ie;for(U=0;U<C.length;U++){if(X=C[U],K=A[X],H=Object.keys(K),te=K[""],ne=g(te),X<0||X>Y.length-(ne?0:1)){v.warn("index out of range",S,X);continue}if(te!==void 0)H.length>1&&v.warn("Insertion & removal are incompatible with edits to the same index.",S,X),f(te)?O.push(X):ne?(te==="add"&&(te={}),Y.splice(X,0,te),L&&L.splice(X,0,{})):v.warn("Unrecognized full object edit value",S,X,te),D===-1&&(D=X);else for(B=0;B<H.length;B++)ie=S+"["+X+"].",E(Y[X],H[B],ie).set(K[H[B]])}for(U=O.length-1;U>=0;U--)Y.splice(O[U],1),L&&L.splice(O[U],1);if(Y.length?z||r.set(Y):r.set(null),h)return!1;if(F(a,o),b!==t){var re;if(D===-1)re=C;else{for(d=Math.max(Y.length,d),re=[],U=0;U<C.length&&(X=C[U],!(X>=D));U++)re.push(X);for(U=D;U<d;U++)re.push(U)}for(U=0;U<re.length;U++)b(c,re[U])}else x(c);return!0}}}),bf=Ke({"src/plot_api/helpers.js"(M){"use strict";var N=Zr(),t=Er(),v=Zt(),u=En(),m=Bn(),g=$r(),f=m.cleanId,w=m.getFromTrace,c=t.traceIs;M.clearPromiseQueue=function(h){Array.isArray(h._promises)&&h._promises.length>0&&v.log("Clearing previous rejected promises from queue."),h._promises=[]},M.cleanLayout=function(h){var a,o;h||(h={}),h.xaxis1&&(h.xaxis||(h.xaxis=h.xaxis1),delete h.xaxis1),h.yaxis1&&(h.yaxis||(h.yaxis=h.yaxis1),delete h.yaxis1),h.scene1&&(h.scene||(h.scene=h.scene1),delete h.scene1);var T=(u.subplotsRegistry.cartesian||{}).attrRegex,C=(u.subplotsRegistry.polar||{}).attrRegex,z=(u.subplotsRegistry.ternary||{}).attrRegex,Y=(u.subplotsRegistry.gl3d||{}).attrRegex,L=Object.keys(h);for(a=0;a<L.length;a++){var O=L[a];if(T&&T.test(O)){var D=h[O];D.anchor&&D.anchor!=="free"&&(D.anchor=f(D.anchor)),D.overlaying&&(D.overlaying=f(D.overlaying)),D.type||(D.isdate?D.type="date":D.islog?D.type="log":D.isdate===!1&&D.islog===!1&&(D.type="linear")),(D.autorange==="withzero"||D.autorange==="tozero")&&(D.autorange=!0,D.rangemode="tozero"),D.insiderange&&delete D.range,delete D.islog,delete D.isdate,delete D.categories,S(D,"domain")&&delete D.domain}}var d=h.legend;return d&&(d.x>3?(d.x=1.02,d.xanchor="left"):d.x<-2&&(d.x=-.02,d.xanchor="right"),d.y>3?(d.y=1.02,d.yanchor="bottom"):d.y<-2&&(d.y=-.02,d.yanchor="top")),h.dragmode==="rotate"&&(h.dragmode="orbit"),g.clean(h),h.template&&h.template.layout&&M.cleanLayout(h.template.layout),h};function r(h,a){var o=h[a],T=a.charAt(0);o&&o!=="paper"&&(h[a]=f(o,T,!0))}M.cleanData=function(h){for(var a=0;a<h.length;a++){var o=h[a],T;if(o.type==="histogramy"&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.type==="histogramy"&&M.swapXYData(o),(o.type==="histogramx"||o.type==="histogramy")&&(o.type="histogram"),"scl"in o&&!("colorscale"in o)&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&!("reversescale"in o)&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=f(o.xaxis,"x")),o.yaxis&&(o.yaxis=f(o.yaxis,"y")),c(o,"gl3d")&&o.scene&&(o.scene=u.subplotsRegistry.gl3d.cleanId(o.scene)),!c(o,"pie-like")&&!c(o,"bar-like"))if(Array.isArray(o.textposition))for(T=0;T<o.textposition.length;T++)o.textposition[T]=E(o.textposition[T]);else o.textposition&&(o.textposition=E(o.textposition));var C=t.getModule(o);if(C&&C.colorbar){var z=C.colorbar.container,Y=z?o[z]:o;Y&&Y.colorscale&&(Y.colorscale==="YIGnBu"&&(Y.colorscale="YlGnBu"),Y.colorscale==="YIOrRd"&&(Y.colorscale="YlOrRd"))}if(o.type==="surface"&&v.isPlainObject(o.contours)){var L=["x","y","z"];for(T=0;T<L.length;T++){var O=o.contours[L[T]];v.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(o.type==="candlestick"||o.type==="ohlc"){var D=(o.increasing||{}).showlegend!==!1,d=(o.decreasing||{}).showlegend!==!1,U=A(o.increasing),B=A(o.decreasing);if(U!==!1&&B!==!1){var X=p(U,B,D,d);X&&(o.name=X)}else(U||B)&&!o.name&&(o.name=U||B)}S(o,"line")&&delete o.line,"marker"in o&&(S(o.marker,"line")&&delete o.marker.line,S(o,"marker")&&delete o.marker),g.clean(o),o.autobinx&&(delete o.autobinx,delete o.xbins),o.autobiny&&(delete o.autobiny,delete o.ybins)}};function A(h){if(!v.isPlainObject(h))return!1;var a=h.name;return delete h.name,delete h.showlegend,(typeof a=="string"||typeof a=="number")&&String(a)}function p(h,a,o,T){if(o&&!T)return h;if(T&&!o||!h.trim())return a;if(!a.trim())return h;var C=Math.min(h.length,a.length),z;for(z=0;z<C&&h.charAt(z)===a.charAt(z);z++);var Y=h.substr(0,z);return Y.trim()}function E(h){var a="middle",o="center";return typeof h=="string"&&(h.indexOf("top")!==-1?a="top":h.indexOf("bottom")!==-1&&(a="bottom"),h.indexOf("left")!==-1?o="left":h.indexOf("right")!==-1&&(o="right")),a+" "+o}function S(h,a){return a in h&&typeof h[a]=="object"&&Object.keys(h[a]).length===0}M.swapXYData=function(h){var a;if(v.swapAttrs(h,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(h.z)&&Array.isArray(h.z[0])&&(h.transpose?delete h.transpose:h.transpose=!0),h.error_x&&h.error_y){var o=h.error_y,T="copy_ystyle"in o?o.copy_ystyle:!(o.color||o.thickness||o.width);v.swapAttrs(h,["error_?.copy_ystyle"]),T&&v.swapAttrs(h,["error_?.color","error_?.thickness","error_?.width"])}if(typeof h.hoverinfo=="string"){var C=h.hoverinfo.split("+");for(a=0;a<C.length;a++)C[a]==="x"?C[a]="y":C[a]==="y"&&(C[a]="x");h.hoverinfo=C.join("+")}},M.coerceTraceIndices=function(h,a){if(N(a))return[a];if(!Array.isArray(a)||!a.length)return h.data.map(function(C,z){return z});if(Array.isArray(a)){for(var o=[],T=0;T<a.length;T++)v.isIndex(a[T],h.data.length)?o.push(a[T]):v.warn("trace index (",a[T],") is not a number or is out of bounds");return o}return a},M.manageArrayContainers=function(h,a,o){var T=h.obj,C=h.parts,z=C.length,Y=C[z-1],L=N(Y);if(L&&a===null){var O=C.slice(0,z-1).join("."),D=v.nestedProperty(T,O).get();D.splice(Y,1)}else L&&h.get()===void 0&&h.get()===void 0&&(o[h.astr]=null),h.set(a)};var F=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(h){var a=h.search(F);if(a>0)return h.substr(0,a)}M.hasParent=function(h,a){for(var o=x(a);o;){if(o in h)return!0;o=x(o)}return!1};var b=["x","y","z"];M.clearAxisTypes=function(h,a,o){for(var T=0;T<a.length;T++)for(var C=h._fullData[T],z=0;z<3;z++){var Y=w(h,C,b[z]);if(Y&&Y.type!=="log"){var L=Y._name,O=Y._id.substr(1);if(O.substr(0,5)==="scene"){if(o[O]!==void 0)continue;L=O+"."+L}var D=L+".type";o[L]===void 0&&o[D]===void 0&&v.nestedProperty(h.layout,D).set(null)}}}}}),nl=Ke({"src/plot_api/plot_api.js"(M){"use strict";var N=Yr(),t=Zr(),v=Oo(),u=Zt(),m=u.nestedProperty,g=qa(),f=Xu(),w=Er(),c=wa(),r=En(),A=An(),p=Uo(),E=fa(),S=un(),F=$r(),x=rl().initInteractions,b=Aa(),h=ua().dfltConfig,a=_f(),o=bf(),T=hf(),C=ma(),z=xn().AX_NAME_PATTERN,Y=0,L=5;function O(le,ge,_e,Te){var He;if(le=u.getGraphDiv(le),g.init(le),u.isPlainObject(ge)){var qe=ge;ge=qe.data,_e=qe.layout,Te=qe.config,He=qe.frames}var Ze=g.triggerHandler(le,"plotly_beforeplot",[ge,_e,Te]);if(Ze===!1)return Promise.reject();!ge&&!_e&&!u.isPlotDiv(le)&&u.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",le);function Ie(){if(He)return M.addFrames(le,He)}X(le,Te),_e||(_e={}),N.select(le).classed("js-plotly-plot",!0),S.makeTester(),Array.isArray(le._promises)||(le._promises=[]);var Be=(le.data||[]).length===0&&Array.isArray(ge);Array.isArray(ge)&&(o.cleanData(ge),Be?le.data=ge:le.data.push.apply(le.data,ge),le.empty=!1),(!le.layout||Be)&&(le.layout=o.cleanLayout(_e)),r.supplyDefaults(le);var ze=le._fullLayout,st=ze._has("cartesian");ze._replotting=!0,(Be||ze._shouldCreateBgLayer)&&(ct(le),ze._shouldCreateBgLayer&&delete ze._shouldCreateBgLayer),S.initGradients(le),S.initPatterns(le),Be&&A.saveShowSpikeInitial(le);var vt=!le.calcdata||le.calcdata.length!==(le._fullData||[]).length;vt&&r.doCalcdata(le);for(var xt=0;xt<le.calcdata.length;xt++)le.calcdata[xt][0].trace=le._fullData[xt];le._context.responsive?le._responsiveChartHandler||(le._responsiveChartHandler=function(){u.isHidden(le)||r.resize(le)},window.addEventListener("resize",le._responsiveChartHandler)):u.clearResponsive(le);var Lt=u.extendFlat({},ze._size),Wt=0;function Vt(){for(var ar=ze._basePlotModules,Ot=0;Ot<ar.length;Ot++)ar[Ot].drawFramework&&ar[Ot].drawFramework(le);!ze._glcanvas&&ze._has("gl")&&(ze._glcanvas=ze._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(It){return It.key}),ze._glcanvas.enter().append("canvas").attr("class",function(It){return"gl-canvas gl-canvas-"+It.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Yt=le._context.plotGlPixelRatio;if(ze._glcanvas){ze._glcanvas.attr("width",ze.width*Yt).attr("height",ze.height*Yt).style("width",ze.width+"px").style("height",ze.height+"px");var fr=ze._glcanvas.data()[0].regl;if(fr&&(Math.floor(ze.width*Yt)!==fr._gl.drawingBufferWidth||Math.floor(ze.height*Yt)!==fr._gl.drawingBufferHeight)){var xr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Wt)u.error(xr);else return u.log(xr+" Clearing graph and plotting again."),r.cleanPlot([],{},le._fullData,ze),r.supplyDefaults(le),ze=le._fullLayout,r.doCalcdata(le),Wt++,Vt()}}return r.previousPromises(le)}function Gt(){if(r.clearAutoMarginIds(le),T.drawMarginPushers(le),A.allowAutoMargin(le),le._fullLayout.title.text&&le._fullLayout.title.automargin&&r.allowAutoMargin(le,"title.automargin"),ze._has("pie"))for(var ar=le._fullData,Ot=0;Ot<ar.length;Ot++){var Yt=ar[Ot];Yt.type==="pie"&&Yt.automargin&&r.allowAutoMargin(le,"pie."+Yt.uid+".automargin")}return r.doAutoMargin(le),r.previousPromises(le)}function hr(){if(r.didMarginChange(Lt,ze._size))return u.syncOrAsync([Gt,T.layoutStyles],le)}function Kt(){if(!vt){jt();return}return u.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),jt],le)}function jt(){le._transitioning||(T.doAutoRangeAndConstraints(le),Be&&A.saveRangeInitial(le),w.getComponentMethod("rangeslider","calcAutorange")(le))}function or(){return A.draw(le,Be?"":"redraw")}var sr=[r.previousPromises,Ie,Vt,Gt,hr];st&&sr.push(Kt),sr.push(T.layoutStyles),st&&sr.push(or,function(Ot){var Yt=Ot._fullLayout._insideTickLabelsUpdaterange;if(Yt)return Ot._fullLayout._insideTickLabelsUpdaterange=void 0,se(Ot,Yt).then(function(){A.saveRangeInitial(Ot,!0)})}),sr.push(T.drawData,T.finalDraw,x,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var er=u.syncOrAsync(sr,le);return(!er||!er.then)&&(er=Promise.resolve()),er.then(function(){return D(le),le})}function D(le){var ge=le._fullLayout;ge._redrawFromAutoMarginCount?ge._redrawFromAutoMarginCount--:le.emit("plotly_afterplot")}function d(le){return u.extendFlat(h,le)}function U(le,ge){try{le._fullLayout._paper.style("background",ge)}catch(_e){u.error(_e)}}function B(le,ge){var _e=F.combine(ge,"white");U(le,_e)}function X(le,ge){if(!le._context){le._context=u.extendDeep({},h);var _e=N.select("base");le._context._baseUrl=_e.size()&&_e.attr("href")?window.location.href.split("#")[0]:""}var Te=le._context,He,qe,Ze;if(ge){for(qe=Object.keys(ge),He=0;He<qe.length;He++)Ze=qe[He],!(Ze==="editable"||Ze==="edits")&&Ze in Te&&(Ze==="setBackground"&&ge[Ze]==="opaque"?Te[Ze]=B:Te[Ze]=ge[Ze]);var Ie=ge.editable;if(Ie!==void 0)for(Te.editable=Ie,qe=Object.keys(Te.edits),He=0;He<qe.length;He++)Te.edits[qe[He]]=Ie;if(ge.edits)for(qe=Object.keys(ge.edits),He=0;He<qe.length;He++)Ze=qe[He],Ze in Te.edits&&(Te.edits[Ze]=ge.edits[Ze]);Te._exportedPlot=ge._exportedPlot}Te.staticPlot&&(Te.editable=!1,Te.edits={},Te.autosizable=!1,Te.scrollZoom=!1,Te.doubleClick=!1,Te.showTips=!1,Te.showLink=!1,Te.displayModeBar=!1),Te.displayModeBar==="hover"&&!v&&(Te.displayModeBar=!0),(Te.setBackground==="transparent"||typeof Te.setBackground!="function")&&(Te.setBackground=U),Te._hasZeroHeight=Te._hasZeroHeight||le.clientHeight===0,Te._hasZeroWidth=Te._hasZeroWidth||le.clientWidth===0;var Be=Te.scrollZoom,ze=Te._scrollZoom={};if(Be===!0)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1,ze.map=1;else if(typeof Be=="string"){var st=Be.split("+");for(He=0;He<st.length;He++)ze[st[He]]=1}else Be!==!1&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1,ze.map=1)}function K(le){if(le=u.getGraphDiv(le),!u.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);return o.cleanData(le.data),o.cleanLayout(le.layout),le.calcdata=void 0,M._doPlot(le).then(function(){return le.emit("plotly_redraw"),le})}function H(le,ge,_e,Te){return le=u.getGraphDiv(le),r.cleanPlot([],{},le._fullData||[],le._fullLayout||{}),r.purge(le),M._doPlot(le,ge,_e,Te)}function te(le,ge){var _e=ge+1,Te=[],He,qe;for(He=0;He<le.length;He++)qe=le[He],qe<0?Te.push(_e+qe):Te.push(qe);return Te}function ne(le,ge,_e){var Te,He;for(Te=0;Te<ge.length;Te++){if(He=ge[Te],He!==parseInt(He,10))throw new Error("all values in "+_e+" must be integers");if(He>=le.data.length||He<-le.data.length)throw new Error(_e+" must be valid indices for gd.data.");if(ge.indexOf(He,Te+1)>-1||He>=0&&ge.indexOf(-le.data.length+He)>-1||He<0&&ge.indexOf(le.data.length+He)>-1)throw new Error("each index in "+_e+" must be unique.")}}function ie(le,ge,_e){if(!Array.isArray(le.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ge)||(ge=[ge]),ne(le,ge,"currentIndices"),typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&ne(le,_e,"newIndices"),typeof _e<"u"&&ge.length!==_e.length)throw new Error("current and new indices must be of equal length.")}function re(le,ge,_e){var Te,He;if(!Array.isArray(le.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("traces must be defined.");for(Array.isArray(ge)||(ge=[ge]),Te=0;Te<ge.length;Te++)if(He=ge[Te],typeof He!="object"||Array.isArray(He)||He===null)throw new Error("all values in traces array must be non-array objects");if(typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&_e.length!==ge.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function oe(le,ge,_e,Te){var He=u.isPlainObject(Te);if(!Array.isArray(le.data))throw new Error("gd.data must be an array");if(!u.isPlainObject(ge))throw new Error("update must be a key:value object");if(typeof _e>"u")throw new Error("indices must be an integer or array of integers");ne(le,_e,"indices");for(var qe in ge){if(!Array.isArray(ge[qe])||ge[qe].length!==_e.length)throw new Error("attribute "+qe+" must be an array of length equal to indices array length");if(He&&(!(qe in Te)||!Array.isArray(Te[qe])||Te[qe].length!==ge[qe].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function W(le,ge,_e,Te){var He=u.isPlainObject(Te),qe=[],Ze,Ie,Be,ze,st;Array.isArray(_e)||(_e=[_e]),_e=te(_e,le.data.length-1);for(var vt in ge)for(var xt=0;xt<_e.length;xt++){if(Ze=le.data[_e[xt]],Be=m(Ze,vt),Ie=Be.get(),ze=ge[vt][xt],!u.isArrayOrTypedArray(ze))throw new Error("attribute: "+vt+" index: "+xt+" must be an array");if(!u.isArrayOrTypedArray(Ie))throw new Error("cannot extend missing or non-array attribute: "+vt);if(Ie.constructor!==ze.constructor)throw new Error("cannot extend array with an array of a different type: "+vt);st=He?Te[vt][xt]:Te,t(st)||(st=-1),qe.push({prop:Be,target:Ie,insert:ze,maxp:Math.floor(st)})}return qe}function ee(le,ge,_e,Te,He){oe(le,ge,_e,Te);for(var qe=W(le,ge,_e,Te),Ze={},Ie={},Be=0;Be<qe.length;Be++){var ze=qe[Be].prop,st=qe[Be].maxp,vt=He(qe[Be].target,qe[Be].insert,st);ze.set(vt[0]),Array.isArray(Ze[ze.astr])||(Ze[ze.astr]=[]),Ze[ze.astr].push(vt[1]),Array.isArray(Ie[ze.astr])||(Ie[ze.astr]=[]),Ie[ze.astr].push(qe[Be].target.length)}return{update:Ze,maxPoints:Ie}}function de(le,ge){var _e=new le.constructor(le.length+ge.length);return _e.set(le),_e.set(ge,le.length),_e}function he(le,ge,_e,Te){le=u.getGraphDiv(le);function He(Be,ze,st){var vt,xt;if(u.isTypedArray(Be))if(st<0){var Lt=new Be.constructor(0),Wt=de(Be,ze);st<0?(vt=Wt,xt=Lt):(vt=Lt,xt=Wt)}else if(vt=new Be.constructor(st),xt=new Be.constructor(Be.length+ze.length-st),st===ze.length)vt.set(ze),xt.set(Be);else if(st<ze.length){var Vt=ze.length-st;vt.set(ze.subarray(Vt)),xt.set(Be),xt.set(ze.subarray(0,Vt),Be.length)}else{var Gt=st-ze.length,hr=Be.length-Gt;vt.set(Be.subarray(hr)),vt.set(ze,Gt),xt.set(Be.subarray(0,hr))}else vt=Be.concat(ze),xt=st>=0&&st<vt.length?vt.splice(0,vt.length-st):[];return[vt,xt]}var qe=ee(le,ge,_e,Te,He),Ze=M.redraw(le),Ie=[le,qe.update,_e,qe.maxPoints];return f.add(le,M.prependTraces,Ie,he,arguments),Ze}function I(le,ge,_e,Te){le=u.getGraphDiv(le);function He(Be,ze,st){var vt,xt;if(u.isTypedArray(Be))if(st<=0){var Lt=new Be.constructor(0),Wt=de(ze,Be);st<0?(vt=Wt,xt=Lt):(vt=Lt,xt=Wt)}else if(vt=new Be.constructor(st),xt=new Be.constructor(Be.length+ze.length-st),st===ze.length)vt.set(ze),xt.set(Be);else if(st<ze.length){var Vt=ze.length-st;vt.set(ze.subarray(0,Vt)),xt.set(ze.subarray(Vt)),xt.set(Be,Vt)}else{var Gt=st-ze.length;vt.set(ze),vt.set(Be.subarray(0,Gt),ze.length),xt.set(Be.subarray(Gt))}else vt=ze.concat(Be),xt=st>=0&&st<vt.length?vt.splice(st,vt.length):[];return[vt,xt]}var qe=ee(le,ge,_e,Te,He),Ze=M.redraw(le),Ie=[le,qe.update,_e,qe.maxPoints];return f.add(le,M.extendTraces,Ie,I,arguments),Ze}function R(le,ge,_e){le=u.getGraphDiv(le);var Te=[],He=M.deleteTraces,qe=R,Ze=[le,Te],Ie=[le,ge],Be,ze;for(re(le,ge,_e),Array.isArray(ge)||(ge=[ge]),ge=ge.map(function(st){return u.extendFlat({},st)}),o.cleanData(ge),Be=0;Be<ge.length;Be++)le.data.push(ge[Be]);for(Be=0;Be<ge.length;Be++)Te.push(-ge.length+Be);if(typeof _e>"u")return ze=M.redraw(le),f.add(le,He,Ze,qe,Ie),ze;Array.isArray(_e)||(_e=[_e]);try{ie(le,Te,_e)}catch(st){throw le.data.splice(le.data.length-ge.length,ge.length),st}return f.startSequence(le),f.add(le,He,Ze,qe,Ie),ze=M.moveTraces(le,Te,_e),f.stopSequence(le),ze}function _(le,ge){le=u.getGraphDiv(le);var _e=[],Te=M.addTraces,He=_,qe=[le,_e,ge],Ze=[le,ge],Ie,Be;if(typeof ge>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ge)||(ge=[ge]),ne(le,ge,"indices"),ge=te(ge,le.data.length-1),ge.sort(u.sorterDes),Ie=0;Ie<ge.length;Ie+=1)Be=le.data.splice(ge[Ie],1)[0],_e.push(Be);var ze=M.redraw(le);return f.add(le,Te,qe,He,Ze),ze}function i(le,ge,_e){le=u.getGraphDiv(le);var Te=[],He=[],qe=i,Ze=i,Ie=[le,_e,ge],Be=[le,ge,_e],ze;if(ie(le,ge,_e),ge=Array.isArray(ge)?ge:[ge],typeof _e>"u")for(_e=[],ze=0;ze<ge.length;ze++)_e.push(-ge.length+ze);for(_e=Array.isArray(_e)?_e:[_e],ge=te(ge,le.data.length-1),_e=te(_e,le.data.length-1),ze=0;ze<le.data.length;ze++)ge.indexOf(ze)===-1&&Te.push(le.data[ze]);for(ze=0;ze<ge.length;ze++)He.push({newIndex:_e[ze],trace:le.data[ge[ze]]});for(He.sort(function(vt,xt){return vt.newIndex-xt.newIndex}),ze=0;ze<He.length;ze+=1)Te.splice(He[ze].newIndex,0,He[ze].trace);le.data=Te;var st=M.redraw(le);return f.add(le,qe,Ie,Ze,Be),st}function l(le,ge,_e,Te){le=u.getGraphDiv(le),o.clearPromiseQueue(le);var He={};if(typeof ge=="string")He[ge]=_e;else if(u.isPlainObject(ge))He=u.extendFlat({},ge),Te===void 0&&(Te=_e);else return u.warn("Restyle fail.",ge,_e,Te),Promise.reject();Object.keys(He).length&&(le.changed=!0);var qe=o.coerceTraceIndices(le,Te),Ze=J(le,He,qe),Ie=Ze.flags;Ie.calc&&(le.calcdata=void 0),Ie.clearAxisTypes&&o.clearAxisTypes(le,qe,{});var Be=[];Ie.fullReplot?Be.push(M._doPlot):(Be.push(r.previousPromises),r.supplyDefaults(le),Ie.markerSize&&(r.doCalcdata(le),we(Be)),Ie.style&&Be.push(T.doTraceStyle),Ie.colorbars&&Be.push(T.doColorBars),Be.push(D)),Be.push(r.rehover,r.redrag,r.reselect),f.add(le,l,[le,Ze.undoit,Ze.traces],l,[le,Ze.redoit,Ze.traces]);var ze=u.syncOrAsync(Be,le);return(!ze||!ze.then)&&(ze=Promise.resolve()),ze.then(function(){return le.emit("plotly_restyle",Ze.eventData),le})}function k(le){return le===void 0?null:le}function y(le,ge){return ge?function(_e,Te,He){var qe=m(_e,Te),Ze=qe.set;return qe.set=function(Ie){var Be=(He||"")+Te;n(Be,qe.get(),Ie,le),Ze(Ie)},qe}:m}function n(le,ge,_e,Te){if(Array.isArray(ge)||Array.isArray(_e))for(var He=Array.isArray(ge)?ge:[],qe=Array.isArray(_e)?_e:[],Ze=Math.max(He.length,qe.length),Ie=0;Ie<Ze;Ie++)n(le+"["+Ie+"]",He[Ie],qe[Ie],Te);else if(u.isPlainObject(ge)||u.isPlainObject(_e)){var Be=u.isPlainObject(ge)?ge:{},ze=u.isPlainObject(_e)?_e:{},st=u.extendFlat({},Be,ze);for(var vt in st)n(le+"."+vt,Be[vt],ze[vt],Te)}else Te[le]===void 0&&(Te[le]=k(ge))}function q(le,ge,_e){for(var Te in _e){var He=m(le,Te);n(Te,He.get(),_e[Te],ge)}}function J(le,ge,_e){var Te=le._fullLayout,He=le._fullData,qe=le.data,Ze=Te._guiEditing,Ie=y(Te._preGUI,Ze),Be=u.extendDeepAll({},ge),ze,st=C.traceFlags(),vt={},xt={},Lt;function Wt(){return _e.map(function(){})}function Vt(be){var Ee=A.id2name(be);Lt.indexOf(Ee)===-1&&Lt.push(Ee)}function Gt(be){return"LAYOUT"+be+".autorange"}function hr(be){return"LAYOUT"+be+".range"}function Kt(be){for(var Ee=be;Ee<He.length;Ee++)if(He[Ee]._input===qe[be])return He[Ee]}function jt(be,Ee,De){if(Array.isArray(be)){be.forEach(function(nt){jt(nt,Ee,De)});return}if(!(be in ge||o.hasParent(ge,be))){var it;if(be.substr(0,6)==="LAYOUT")it=Ie(le.layout,be.replace("LAYOUT",""));else{var ft=_e[De],At=Te._tracePreGUI[Kt(ft)._fullInput.uid];it=y(At,Ze)(qe[ft],be)}be in xt||(xt[be]=Wt()),xt[be][De]===void 0&&(xt[be][De]=k(it.get())),Ee!==void 0&&it.set(Ee)}}function or(be){return function(Ee){return He[Ee][be]}}function sr(be){return function(Ee,De){return Ee===!1?He[_e[De]][be]:null}}for(var er in ge){if(o.hasParent(ge,er))throw new Error("cannot set "+er+" and a parent attribute simultaneously");var ar=ge[er],Ot,Yt,fr,xr,It,cr;if((er==="autobinx"||er==="autobiny")&&(er=er.charAt(er.length-1)+"bins",Array.isArray(ar)?ar=ar.map(sr(er)):ar===!1?ar=_e.map(or(er)):ar=null),vt[er]=ar,er.substr(0,6)==="LAYOUT"){fr=Ie(le.layout,er.replace("LAYOUT","")),xt[er]=[k(fr.get())],fr.set(Array.isArray(ar)?ar[0]:ar),st.calc=!0;continue}for(xt[er]=Wt(),ze=0;ze<_e.length;ze++){Ot=qe[_e[ze]],Yt=Kt(_e[ze]);var wr=Te._tracePreGUI[Yt._fullInput.uid];if(fr=y(wr,Ze)(Ot,er),xr=fr.get(),It=Array.isArray(ar)?ar[ze%ar.length]:ar,It!==void 0){var qr=fr.parts[fr.parts.length-1],Fr=er.substr(0,er.length-qr.length-1),Rt=Fr?Fr+".":"",Q=Fr?m(Yt,Fr).get():Yt;if(cr=c.getTraceValObject(Yt,fr.parts),cr&&cr.impliedEdits&&It!==null)for(var j in cr.impliedEdits)jt(u.relativeAttr(er,j),cr.impliedEdits[j],ze);else if((qr==="thicknessmode"||qr==="lenmode")&&xr!==It&&(It==="fraction"||It==="pixels")&&Q){var Fe=Te._size,Re=Q.orient,Ge=Re==="top"||Re==="bottom";if(qr==="thicknessmode"){var Ue=Ge?Fe.h:Fe.w;jt(Rt+"thickness",Q.thickness*(It==="fraction"?1/Ue:Ue),ze)}else{var je=Ge?Fe.w:Fe.h;jt(Rt+"len",Q.len*(It==="fraction"?1/je:je),ze)}}else if(er==="type"&&(It==="pie"!=(xr==="pie")||It==="funnelarea"!=(xr==="funnelarea"))){var We="x",Je="y";(It==="bar"||xr==="bar")&&Ot.orientation==="h"&&(We="y",Je="x"),u.swapAttrs(Ot,["?","?src"],"labels",We),u.swapAttrs(Ot,["d?","?0"],"label",We),u.swapAttrs(Ot,["?","?src"],"values",Je),xr==="pie"||xr==="funnelarea"?(m(Ot,"marker.color").set(m(Ot,"marker.colors").get()),Te._pielayer.selectAll("g.trace").remove()):w.traceIs(Ot,"cartesian")&&m(Ot,"marker.colors").set(m(Ot,"marker.color").get())}xt[er][ze]=k(xr);var ht=["swapxy","swapxyaxes","orientation","orientationaxes"];if(ht.indexOf(er)!==-1){if(er==="orientation"){fr.set(It);var dt=Ot.x&&!Ot.y?"h":"v";if((fr.get()||dt)===Yt.orientation)continue}else er==="orientationaxes"&&(Ot.orientation={v:"h",h:"v"}[Yt.orientation]);o.swapXYData(Ot),st.calc=st.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(fr.parts[0])!==-1?(o.manageArrayContainers(fr,It,xt),st.calc=!0):(cr?cr.arrayOk&&!w.traceIs(Yt,"regl")&&(u.isArrayOrTypedArray(It)||u.isArrayOrTypedArray(xr))?st.calc=!0:C.update(st,cr):st.calc=!0,fr.set(It))}}if(["swapxyaxes","orientationaxes"].indexOf(er)!==-1&&A.swap(le,_e),er==="orientationaxes"){var Pt=m(le.layout,"hovermode"),Nt=Pt.get();Nt==="x"?Pt.set("y"):Nt==="y"?Pt.set("x"):Nt==="x unified"?Pt.set("y unified"):Nt==="y unified"&&Pt.set("x unified")}if(["orientation","type"].indexOf(er)!==-1){for(Lt=[],ze=0;ze<_e.length;ze++){var ae=qe[_e[ze]];w.traceIs(ae,"cartesian")&&(Vt(ae.xaxis||"x"),Vt(ae.yaxis||"y"))}jt(Lt.map(Gt),!0,0),jt(Lt.map(hr),[0,1],0)}}return(st.calc||st.plot)&&(st.fullReplot=!0),{flags:st,undoit:xt,redoit:vt,traces:_e,eventData:u.extendDeepNoArrays([],[Be,_e])}}function se(le,ge,_e){le=u.getGraphDiv(le),o.clearPromiseQueue(le);var Te={};if(typeof ge=="string")Te[ge]=_e;else if(u.isPlainObject(ge))Te=u.extendFlat({},ge);else return u.warn("Relayout fail.",ge,_e),Promise.reject();Object.keys(Te).length&&(le.changed=!0);var He=Ne(le,Te),qe=He.flags;qe.calc&&(le.calcdata=void 0);var Ze=[r.previousPromises];qe.layoutReplot?Ze.push(T.layoutReplot):Object.keys(Te).length&&(ye(le,qe,He)||r.supplyDefaults(le),qe.legend&&Ze.push(T.doLegend),qe.layoutstyle&&Ze.push(T.layoutStyles),qe.axrange&&we(Ze,He.rangesAltered),qe.ticks&&Ze.push(T.doTicksRelayout),qe.modebar&&Ze.push(T.doModeBar),qe.camera&&Ze.push(T.doCamera),qe.colorbars&&Ze.push(T.doColorBars),Ze.push(D)),Ze.push(r.rehover,r.redrag,r.reselect),f.add(le,se,[le,He.undoit],se,[le,He.redoit]);var Ie=u.syncOrAsync(Ze,le);return(!Ie||!Ie.then)&&(Ie=Promise.resolve(le)),Ie.then(function(){return le.emit("plotly_relayout",He.eventData),le})}function ye(le,ge,_e){var Te=le._fullLayout;if(!ge.axrange)return!1;for(var He in ge)if(He!=="axrange"&&ge[He])return!1;var qe,Ze,Ie=function(Lt,Wt){return u.coerce(qe,Ze,E,Lt,Wt)},Be={};for(var ze in _e.rangesAltered){var st=A.id2name(ze);if(qe=le.layout[st],Ze=Te[st],p(qe,Ze,Ie,Be),Ze._matchGroup){for(var vt in Ze._matchGroup)if(vt!==ze){var xt=Te[A.id2name(vt)];xt.autorange=Ze.autorange,xt.range=Ze.range.slice(),xt._input.range=Ze.range.slice()}}}return!0}function we(le,ge){var _e=ge?function(Te){var He=[],qe=!0;for(var Ze in ge){var Ie=A.getFromId(Te,Ze);if(He.push(Ze),(Ie.ticklabelposition||"").indexOf("inside")!==-1&&Ie._anchorAxis&&He.push(Ie._anchorAxis._id),Ie._matchGroup)for(var Be in Ie._matchGroup)ge[Be]||He.push(Be)}return A.draw(Te,He,{skipTitle:qe})}:function(Te){return A.draw(Te,"redraw")};le.push(T.doAutoRangeAndConstraints,_e,T.drawData,T.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ue=/^[xyz]axis[0-9]*\.autorange$/,Me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ne(le,ge){var _e=le.layout,Te=le._fullLayout,He=Te._guiEditing,qe=y(Te._preGUI,He),Ze=Object.keys(ge),Ie=A.list(le),Be=u.extendDeepAll({},ge),ze={},st,vt,xt;for(Ze=Object.keys(ge),vt=0;vt<Ze.length;vt++)if(Ze[vt].indexOf("allaxes")===0){for(xt=0;xt<Ie.length;xt++){var Lt=Ie[xt]._id.substr(1),Wt=Lt.indexOf("scene")!==-1?Lt+".":"",Vt=Ze[vt].replace("allaxes",Wt+Ie[xt]._name);ge[Vt]||(ge[Vt]=ge[Ze[vt]])}delete ge[Ze[vt]]}var Gt=C.layoutFlags(),hr={},Kt={};function jt(At,nt){if(Array.isArray(At)){At.forEach(function(Et){jt(Et,nt)});return}if(!(At in ge||o.hasParent(ge,At))){var St=qe(_e,At);At in Kt||(Kt[At]=k(St.get())),nt!==void 0&&St.set(nt)}}var or={},sr;function er(At){var nt=A.name2id(At.split(".")[0]);return or[nt]=1,nt}for(var ar in ge){if(o.hasParent(ge,ar))throw new Error("cannot set "+ar+" and a parent attribute simultaneously");for(var Ot=qe(_e,ar),Yt=ge[ar],fr=Ot.parts.length,xr=fr-1;xr>0&&typeof Ot.parts[xr]!="string";)xr--;var It=Ot.parts[xr],cr=Ot.parts[xr-1]+"."+It,wr=Ot.parts.slice(0,xr).join("."),qr=m(le.layout,wr).get(),Fr=m(Te,wr).get(),Rt=Ot.get();if(Yt!==void 0){hr[ar]=Yt,Kt[ar]=It==="reverse"?Yt:k(Rt);var Q=c.getLayoutValObject(Te,Ot.parts);if(Q&&Q.impliedEdits&&Yt!==null)for(var j in Q.impliedEdits)jt(u.relativeAttr(ar,j),Q.impliedEdits[j]);if(["width","height"].indexOf(ar)!==-1)if(Yt){jt("autosize",null);var Fe=ar==="height"?"width":"height";jt(Fe,Te[Fe])}else Te[ar]=le._initialAutoSize[ar];else if(ar==="autosize")jt("width",Yt?null:Te.width),jt("height",Yt?null:Te.height);else if(cr.match(ke))er(cr),m(Te,wr+"._inputRange").set(null);else if(cr.match(ue)){er(cr),m(Te,wr+"._inputRange").set(null);var Re=m(Te,wr).get();Re._inputDomain&&(Re._input.domain=Re._inputDomain.slice())}else cr.match(Me)&&m(Te,wr+"._inputDomain").set(null);if(It==="type"){sr=qr;var Ge=Fr.type==="linear"&&Yt==="log",Ue=Fr.type==="log"&&Yt==="linear";if(Ge||Ue){if(!sr||!sr.range)jt(wr+".autorange",!0);else if(Fr.autorange)Ge&&(sr.range=sr.range[1]>sr.range[0]?[1,2]:[2,1]);else{var je=sr.range[0],We=sr.range[1];Ge?(je<=0&&We<=0&&jt(wr+".autorange",!0),je<=0?je=We/1e6:We<=0&&(We=je/1e6),jt(wr+".range[0]",Math.log(je)/Math.LN10),jt(wr+".range[1]",Math.log(We)/Math.LN10)):(jt(wr+".range[0]",Math.pow(10,je)),jt(wr+".range[1]",Math.pow(10,We)))}Array.isArray(Te._subplots.polar)&&Te._subplots.polar.length&&Te[Ot.parts[0]]&&Ot.parts[1]==="radialaxis"&&delete Te[Ot.parts[0]]._subplot.viewInitial["radialaxis.range"],w.getComponentMethod("images","convertCoords")(le,Fr,Yt,jt)}else jt(wr+".autorange",!0),jt(wr+".range",null);m(Te,wr+"._inputRange").set(null)}else if(It.match(z)){var Je=m(Te,ar).get(),ht=(Yt||{}).type;(!ht||ht==="-")&&(ht="linear"),w.getComponentMethod("images","convertCoords")(le,Je,ht,jt)}var dt=a.containerArrayMatch(ar);if(dt){st=dt.array,vt=dt.index;var Pt=dt.property,Nt=Q||{editType:"calc"};vt!==""&&Pt===""&&(a.isAddVal(Yt)?Kt[ar]=null:a.isRemoveVal(Yt)?Kt[ar]=(m(_e,st).get()||[])[vt]:u.warn("unrecognized full object value",ge)),C.update(Gt,Nt),ze[st]||(ze[st]={});var ae=ze[st][vt];ae||(ae=ze[st][vt]={}),ae[Pt]=Yt,delete ge[ar]}else It==="reverse"?(qr.range?qr.range.reverse():(jt(wr+".autorange",!0),qr.range=[1,0]),Fr.autorange?Gt.calc=!0:Gt.plot=!0):(ar==="dragmode"&&(Yt===!1&&Rt!==!1||Yt!==!1&&Rt===!1)||Te._has("scatter-like")&&Te._has("regl")&&ar==="dragmode"&&(Yt==="lasso"||Yt==="select")&&!(Rt==="lasso"||Rt==="select")?Gt.plot=!0:Q?C.update(Gt,Q):Gt.calc=!0,Ot.set(Yt))}}for(st in ze){var be=a.applyContainerArrayChanges(le,qe(_e,st),ze[st],Gt,qe);be||(Gt.plot=!0)}for(var Ee in or){sr=A.getFromId(le,Ee);var De=sr&&sr._constraintGroup;if(De){Gt.calc=!0;for(var it in De)or[it]||(A.getFromId(le,it)._constraintShrinkable=!0)}}(Ce(le)||ge.height||ge.width)&&(Gt.plot=!0);var ft=Te.shapes;for(vt=0;vt<ft.length;vt++)if(ft[vt].showlegend){Gt.calc=!0;break}return(Gt.plot||Gt.calc)&&(Gt.layoutReplot=!0),{flags:Gt,rangesAltered:or,undoit:Kt,redoit:hr,eventData:Be}}function Ce(le){var ge=le._fullLayout,_e=ge.width,Te=ge.height;return le.layout.autosize&&r.plotAutoSize(le,le.layout,ge),ge.width!==_e||ge.height!==Te}function Le(le,ge,_e,Te){le=u.getGraphDiv(le),o.clearPromiseQueue(le),u.isPlainObject(ge)||(ge={}),u.isPlainObject(_e)||(_e={}),Object.keys(ge).length&&(le.changed=!0),Object.keys(_e).length&&(le.changed=!0);var He=o.coerceTraceIndices(le,Te),qe=J(le,u.extendFlat({},ge),He),Ze=qe.flags,Ie=Ne(le,u.extendFlat({},_e)),Be=Ie.flags;(Ze.calc||Be.calc)&&(le.calcdata=void 0),Ze.clearAxisTypes&&o.clearAxisTypes(le,He,_e);var ze=[];Be.layoutReplot?ze.push(T.layoutReplot):Ze.fullReplot?ze.push(M._doPlot):(ze.push(r.previousPromises),ye(le,Be,Ie)||r.supplyDefaults(le),Ze.style&&ze.push(T.doTraceStyle),(Ze.colorbars||Be.colorbars)&&ze.push(T.doColorBars),Be.legend&&ze.push(T.doLegend),Be.layoutstyle&&ze.push(T.layoutStyles),Be.axrange&&we(ze,Ie.rangesAltered),Be.ticks&&ze.push(T.doTicksRelayout),Be.modebar&&ze.push(T.doModeBar),Be.camera&&ze.push(T.doCamera),ze.push(D)),ze.push(r.rehover,r.redrag,r.reselect),f.add(le,Le,[le,qe.undoit,Ie.undoit,qe.traces],Le,[le,qe.redoit,Ie.redoit,qe.traces]);var st=u.syncOrAsync(ze,le);return(!st||!st.then)&&(st=Promise.resolve(le)),st.then(function(){return le.emit("plotly_update",{data:qe.eventData,layout:Ie.eventData}),le})}function $(le){return function(_e){_e._fullLayout._guiEditing=!0;var Te=le.apply(null,arguments);return _e._fullLayout._guiEditing=!1,Te}}var ce=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],me=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function pe(le,ge){for(var _e=0;_e<ge.length;_e++){var Te=ge[_e],He=le.match(Te.pattern);if(He){var qe=He[1]||"";return{head:qe,tail:le.substr(qe.length+1),attr:Te.attr}}}}function xe(le,ge){var _e=m(ge,le).get();if(_e!==void 0)return _e;var Te=le.split(".");for(Te.pop();Te.length>1;)if(Te.pop(),_e=m(ge,Te.join(".")+".uirevision").get(),_e!==void 0)return _e;return ge.uirevision}function Oe(le,ge){for(var _e=0;_e<ge.length;_e++)if(ge[_e]._fullInput.uid===le)return _e;return-1}function Xe(le,ge,_e){for(var Te=0;Te<ge.length;Te++)if(ge[Te].uid===le)return Te;return!ge[_e]||ge[_e].uid?-1:_e}function $e(le,ge){var _e=u.isPlainObject(le),Te=Array.isArray(le);return _e||Te?(_e&&u.isPlainObject(ge)||Te&&Array.isArray(ge))&&JSON.stringify(le)===JSON.stringify(ge):le===ge}function pt(le,ge,_e,Te){var He=Te._preGUI,qe,Ze,Ie,Be,ze,st,vt,xt,Lt,Wt,Vt=[],Gt={},hr={};for(qe in He){if(ze=pe(qe,ce),ze){if(Lt=ze.head,Wt=ze.tail,Ze=ze.attr||Lt+".uirevision",Ie=m(Te,Ze).get(),Be=Ie&&xe(Ze,ge),Be&&Be===Ie){if(st=He[qe],st===null&&(st=void 0),vt=m(ge,qe),xt=vt.get(),$e(xt,st)){xt===void 0&&Wt==="autorange"&&Vt.push(Lt),vt.set(k(m(Te,qe).get()));continue}else if(Wt==="autorange"||Wt.substr(0,6)==="range["){var Kt=He[Lt+".range[0]"],jt=He[Lt+".range[1]"],or=He[Lt+".autorange"];if(or||or===null&&Kt===null&&jt===null){if(!(Lt in Gt)){var sr=m(ge,Lt).get();Gt[Lt]=sr&&(sr.autorange||sr.autorange!==!1&&(!sr.range||sr.range.length!==2))}if(Gt[Lt]){vt.set(k(m(Te,qe).get()));continue}}}}}else u.warn("unrecognized GUI edit: "+qe);delete He[qe],ze&&ze.tail.substr(0,6)==="range["&&(hr[ze.head]=1)}for(var er=0;er<Vt.length;er++){var ar=Vt[er];if(hr[ar]){var Ot=m(ge,ar).get();Ot&&delete Ot.autorange}}var Yt=Te._tracePreGUI;for(var fr in Yt){var xr=Yt[fr],It=null,cr;for(qe in xr){if(!It){var wr=Oe(fr,_e);if(wr<0){delete Yt[fr];break}var qr=_e[wr];cr=qr._fullInput;var Fr=Xe(fr,le,cr.index);if(Fr<0){delete Yt[fr];break}It=le[Fr]}if(ze=pe(qe,me),ze){if(ze.attr?(Ie=m(Te,ze.attr).get(),Be=Ie&&xe(ze.attr,ge)):(Ie=cr.uirevision,Be=It.uirevision,Be===void 0&&(Be=ge.uirevision)),Be&&Be===Ie&&(st=xr[qe],st===null&&(st=void 0),vt=m(It,qe),xt=vt.get(),$e(xt,st))){vt.set(k(m(cr,qe).get()));continue}}else u.warn("unrecognized GUI edit: "+qe+" in trace uid "+fr);delete xr[qe]}}}function rt(le,ge,_e,Te){var He,qe;function Ze(){return M.addFrames(le,He)}le=u.getGraphDiv(le),o.clearPromiseQueue(le);var Ie=le._fullData,Be=le._fullLayout;if(!u.isPlotDiv(le)||!Ie||!Be)qe=M.newPlot(le,ge,_e,Te);else{if(u.isPlainObject(ge)){var ze=ge;ge=ze.data,_e=ze.layout,Te=ze.config,He=ze.frames}var st=!1;if(Te){var vt=u.extendDeep({},le._context);le._context=void 0,X(le,Te),st=lt(vt,le._context)}le.data=ge||[],o.cleanData(le.data),le.layout=_e||{},o.cleanLayout(le.layout),pt(le.data,le.layout,Ie,Be),r.supplyDefaults(le,{skipUpdateCalc:!0});var xt=le._fullData,Lt=le._fullLayout,Wt=Lt.datarevision===void 0,Vt=Lt.transition,Gt=Mt(le,Be,Lt,Wt,Vt),hr=Gt.newDataRevision,Kt=kt(le,Ie,xt,Wt,Vt,hr);if(Ce(le)&&(Gt.layoutReplot=!0),Kt.calc||Gt.calc){le.calcdata=void 0;for(var jt=Object.getOwnPropertyNames(Lt),or=0;or<jt.length;or++){var sr=jt[or],er=sr.substring(0,5);if(er==="xaxis"||er==="yaxis"){var ar=Lt[sr]._emptyCategories;ar&&ar()}}}else r.supplyDefaultsUpdateCalc(le.calcdata,xt);var Ot=[];if(He&&(le._transitionData={},r.createTransitionData(le),Ot.push(Ze)),Lt.transition&&!st&&(Kt.anim||Gt.anim))Gt.ticks&&Ot.push(T.doTicksRelayout),r.doCalcdata(le),T.doAutoRangeAndConstraints(le),Ot.push(function(){return r.transitionFromReact(le,Kt,Gt,Be)});else if(Kt.fullReplot||Gt.layoutReplot||st)le._fullLayout._skipDefaults=!0,Ot.push(M._doPlot);else{for(var Yt in Gt.arrays){var fr=Gt.arrays[Yt];if(fr.length){var xr=w.getComponentMethod(Yt,"drawOne");if(xr!==u.noop)for(var It=0;It<fr.length;It++)xr(le,fr[It]);else{var cr=w.getComponentMethod(Yt,"draw");if(cr===u.noop)throw new Error("cannot draw components: "+Yt);cr(le)}}}Ot.push(r.previousPromises),Kt.style&&Ot.push(T.doTraceStyle),(Kt.colorbars||Gt.colorbars)&&Ot.push(T.doColorBars),Gt.legend&&Ot.push(T.doLegend),Gt.layoutstyle&&Ot.push(T.layoutStyles),Gt.axrange&&we(Ot),Gt.ticks&&Ot.push(T.doTicksRelayout),Gt.modebar&&Ot.push(T.doModeBar),Gt.camera&&Ot.push(T.doCamera),Ot.push(D)}Ot.push(r.rehover,r.redrag,r.reselect),qe=u.syncOrAsync(Ot,le),(!qe||!qe.then)&&(qe=Promise.resolve(le))}return qe.then(function(){return le.emit("plotly_react",{data:ge,layout:_e}),le})}function kt(le,ge,_e,Te,He,qe){var Ze=ge.length===_e.length;if(!He&&!Ze)return{fullReplot:!0,calc:!0};var Ie=C.traceFlags();Ie.arrays={},Ie.nChanges=0,Ie.nChangesAnim=0;var Be,ze;function st(Lt){var Wt=c.getTraceValObject(ze,Lt);return!ze._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt}var vt={getValObject:st,flags:Ie,immutable:Te,transition:He,newDataRevision:qe,gd:le},xt={};for(Be=0;Be<ge.length;Be++)if(_e[Be]){if(ze=_e[Be]._fullInput,xt[ze.uid])continue;xt[ze.uid]=1,Dt(ge[Be]._fullInput,ze,[],vt)}return(Ie.calc||Ie.plot)&&(Ie.fullReplot=!0),He&&Ie.nChanges&&Ie.nChangesAnim&&(Ie.anim=Ie.nChanges===Ie.nChangesAnim&&Ze?"all":"some"),Ie}function Mt(le,ge,_e,Te,He){var qe=C.layoutFlags();qe.arrays={},qe.rangesAltered={},qe.nChanges=0,qe.nChangesAnim=0;function Ze(xt){return c.getLayoutValObject(_e,xt)}for(var Ie in _e)if(!(!Ie.startsWith("xaxis")&&!Ie.startsWith("yaxis"))&&ge[Ie]){var Be=_e[Ie].domain,ze=ge[Ie].domain,st=ge[Ie]._inputDomain;ge[Ie]._inputDomain&&(Be[0]===st[0]&&Be[1]===st[1]?_e[Ie].domain=ge[Ie].domain:(Be[0]!==ze[0]||Be[1]!==ze[1])&&(_e[Ie]._inputDomain=null))}var vt={getValObject:Ze,flags:qe,immutable:Te,transition:He,gd:le};return Dt(ge,_e,[],vt),(qe.plot||qe.calc)&&(qe.layoutReplot=!0),He&&qe.nChanges&&qe.nChangesAnim&&(qe.anim=qe.nChanges===qe.nChangesAnim?"all":"some"),qe}function Dt(le,ge,_e,Te){var He,qe,Ze,Ie=Te.getValObject,Be=Te.flags,ze=Te.immutable,st=Te.inArray,vt=Te.arrayIndex;function xt(){var wr=He.editType;if(st&&wr.indexOf("arraydraw")!==-1){u.pushUnique(Be.arrays[st],vt);return}C.update(Be,He),wr!=="none"&&Be.nChanges++,Te.transition&&He.anim&&Be.nChangesAnim++,(ke.test(Ze)||ue.test(Ze))&&(Be.rangesAltered[_e[0]]=1),qe==="datarevision"&&(Be.newDataRevision=1)}function Lt(wr){return wr.valType==="data_array"||wr.arrayOk}for(qe in le){if(Be.calc&&!Te.transition)return;var Wt=le[qe],Vt=ge[qe],Gt=_e.concat(qe);if(Ze=Gt.join("."),!(qe.charAt(0)==="_"||typeof Wt=="function"||Wt===Vt)){if((qe==="tick0"||qe==="dtick")&&_e[0]!=="geo"){var hr=ge.tickmode;if(hr==="auto"||hr==="array"||!hr)continue}if(!(qe==="range"&&ge.autorange)&&!((qe==="zmin"||qe==="zmax")&&ge.type==="contourcarpet")&&(He=Ie(Gt),!!He&&!(He._compareAsJSON&&JSON.stringify(Wt)===JSON.stringify(Vt)))){var Kt=He.valType,jt,or=Lt(He),sr=Array.isArray(Wt),er=Array.isArray(Vt);if(sr&&er){var ar="_input_"+qe,Ot=le[ar],Yt=ge[ar];if(Array.isArray(Ot)&&Ot===Yt)continue}if(Vt===void 0)or&&sr?Be.calc=!0:xt();else if(He._isLinkedToArray){var fr=[],xr=!1;st||(Be.arrays[qe]=fr);var It=Math.min(Wt.length,Vt.length),cr=Math.max(Wt.length,Vt.length);if(It!==cr)if(He.editType==="arraydraw")xr=!0;else{xt();continue}for(jt=0;jt<It;jt++)Dt(Wt[jt],Vt[jt],Gt.concat(jt),u.extendFlat({inArray:qe,arrayIndex:jt},Te));if(xr)for(jt=It;jt<cr;jt++)fr.push(jt)}else!Kt&&u.isPlainObject(Wt)?Dt(Wt,Vt,Gt,Te):or?sr&&er?(ze&&(Be.calc=!0),(ze||Te.newDataRevision)&&xt()):sr!==er?Be.calc=!0:xt():sr&&er?(Wt.length!==Vt.length||String(Wt)!==String(Vt))&&xt():xt()}}}for(qe in ge)if(!(qe in le||qe.charAt(0)==="_"||typeof ge[qe]=="function"))if(He=Ie(_e.concat(qe)),Lt(He)&&Array.isArray(ge[qe])){Be.calc=!0;return}else xt()}function lt(le,ge){var _e;for(_e in le)if(_e.charAt(0)!=="_"){var Te=le[_e],He=ge[_e];if(Te!==He)if(u.isPlainObject(Te)&&u.isPlainObject(He)){if(lt(Te,He))return!0}else if(Array.isArray(Te)&&Array.isArray(He)){if(Te.length!==He.length)return!0;for(var qe=0;qe<Te.length;qe++)if(Te[qe]!==He[qe])if(u.isPlainObject(Te[qe])&&u.isPlainObject(He[qe])){if(lt(Te[qe],He[qe]))return!0}else return!0}else return!0}}function wt(le,ge,_e){if(le=u.getGraphDiv(le),!u.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Te=le._transitionData;Te._frameQueue||(Te._frameQueue=[]),_e=r.supplyAnimationDefaults(_e);var He=_e.transition,qe=_e.frame;Te._frameWaitingCnt===void 0&&(Te._frameWaitingCnt=0);function Ze(ze){return Array.isArray(He)?ze>=He.length?He[0]:He[ze]:He}function Ie(ze){return Array.isArray(qe)?ze>=qe.length?qe[0]:qe[ze]:qe}function Be(ze,st){var vt=0;return function(){if(ze&&++vt===st)return ze()}}return new Promise(function(ze,st){function vt(){if(Te._frameQueue.length!==0){for(;Te._frameQueue.length;){var It=Te._frameQueue.pop();It.onInterrupt&&It.onInterrupt()}le.emit("plotly_animationinterrupted",[])}}function xt(It){if(It.length!==0){for(var cr=0;cr<It.length;cr++){var wr;It[cr].type==="byname"?wr=r.computeFrame(le,It[cr].name):wr=It[cr].data;var qr=Ie(cr),Fr=Ze(cr);Fr.duration=Math.min(Fr.duration,qr.duration);var Rt={frame:wr,name:It[cr].name,frameOpts:qr,transitionOpts:Fr};cr===It.length-1&&(Rt.onComplete=Be(ze,2),Rt.onInterrupt=st),Te._frameQueue.push(Rt)}_e.mode==="immediate"&&(Te._lastFrameAt=-1/0),Te._animationRaf||Vt()}}function Lt(){le.emit("plotly_animated"),window.cancelAnimationFrame(Te._animationRaf),Te._animationRaf=null}function Wt(){Te._currentFrame&&Te._currentFrame.onComplete&&Te._currentFrame.onComplete();var It=Te._currentFrame=Te._frameQueue.shift();if(It){var cr=It.name?It.name.toString():null;le._fullLayout._currentFrame=cr,Te._lastFrameAt=Date.now(),Te._timeToNext=It.frameOpts.duration,r.transition(le,It.frame.data,It.frame.layout,o.coerceTraceIndices(le,It.frame.traces),It.frameOpts,It.transitionOpts).then(function(){It.onComplete&&It.onComplete()}),le.emit("plotly_animatingframe",{name:cr,frame:It.frame,animation:{frame:It.frameOpts,transition:It.transitionOpts}})}else Lt()}function Vt(){le.emit("plotly_animating"),Te._lastFrameAt=-1/0,Te._timeToNext=0,Te._runningTransitions=0,Te._currentFrame=null;var It=function(){Te._animationRaf=window.requestAnimationFrame(It),Date.now()-Te._lastFrameAt>Te._timeToNext&&Wt()};It()}var Gt=0;function hr(It){return Array.isArray(He)?Gt>=He.length?It.transitionOpts=He[Gt]:It.transitionOpts=He[0]:It.transitionOpts=He,Gt++,It}var Kt,jt,or=[],sr=ge==null,er=Array.isArray(ge),ar=!sr&&!er&&u.isPlainObject(ge);if(ar)or.push({type:"object",data:hr(u.extendFlat({},ge))});else if(sr||["string","number"].indexOf(typeof ge)!==-1)for(Kt=0;Kt<Te._frames.length;Kt++)jt=Te._frames[Kt],jt&&(sr||String(jt.group)===String(ge))&&or.push({type:"byname",name:String(jt.name),data:hr({name:jt.name})});else if(er)for(Kt=0;Kt<ge.length;Kt++){var Ot=ge[Kt];["number","string"].indexOf(typeof Ot)!==-1?(Ot=String(Ot),or.push({type:"byname",name:Ot,data:hr({name:Ot})})):u.isPlainObject(Ot)&&or.push({type:"object",data:hr(u.extendFlat({},Ot))})}for(Kt=0;Kt<or.length;Kt++)if(jt=or[Kt],jt.type==="byname"&&!Te._frameHash[jt.data.name]){u.warn('animate failure: frame not found: "'+jt.data.name+'"'),st();return}["next","immediate"].indexOf(_e.mode)!==-1&&vt(),_e.direction==="reverse"&&or.reverse();var Yt=le._fullLayout._currentFrame;if(Yt&&_e.fromcurrent){var fr=-1;for(Kt=0;Kt<or.length;Kt++)if(jt=or[Kt],jt.type==="byname"&&jt.name===Yt){fr=Kt;break}if(fr>0&&fr<or.length-1){var xr=[];for(Kt=0;Kt<or.length;Kt++)jt=or[Kt],(or[Kt].type!=="byname"||Kt>fr)&&xr.push(jt);or=xr}}or.length>0?xt(or):(le.emit("plotly_animated"),ze())})}function ut(le,ge,_e){if(le=u.getGraphDiv(le),ge==null)return Promise.resolve();if(!u.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Te,He,qe,Ze,Ie=le._transitionData._frames,Be=le._transitionData._frameHash;if(!Array.isArray(ge))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ge);var ze=Ie.length+ge.length*2,st=[],vt={};for(Te=ge.length-1;Te>=0;Te--)if(u.isPlainObject(ge[Te])){var xt=ge[Te].name,Lt=(Be[xt]||vt[xt]||{}).name,Wt=ge[Te].name,Vt=Be[Lt]||vt[Lt];Lt&&Wt&&typeof Wt=="number"&&Vt&&Y<L&&(Y++,u.warn('addFrames: overwriting frame "'+(Be[Lt]||vt[Lt]).name+'" with a frame whose name of type "number" also equates to "'+Lt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Y===L&&u.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vt[xt]={name:xt},st.push({frame:r.supplyFrameDefaults(ge[Te]),index:_e&&_e[Te]!==void 0&&_e[Te]!==null?_e[Te]:ze+Te})}st.sort(function(ar,Ot){return ar.index>Ot.index?-1:ar.index<Ot.index?1:0});var Gt=[],hr=[],Kt=Ie.length;for(Te=st.length-1;Te>=0;Te--){if(He=st[Te].frame,typeof He.name=="number"&&u.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!He.name)for(;Be[He.name="frame "+le._transitionData._counter++];);if(Be[He.name]){for(qe=0;qe<Ie.length&&(Ie[qe]||{}).name!==He.name;qe++);Gt.push({type:"replace",index:qe,value:He}),hr.unshift({type:"replace",index:qe,value:Ie[qe]})}else Ze=Math.max(0,Math.min(st[Te].index,Kt)),Gt.push({type:"insert",index:Ze,value:He}),hr.unshift({type:"delete",index:Ze}),Kt++}var jt=r.modifyFrames,or=r.modifyFrames,sr=[le,hr],er=[le,Gt];return f&&f.add(le,jt,sr,or,er),r.modifyFrames(le,Gt)}function yt(le,ge){if(le=u.getGraphDiv(le),!u.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);var _e,Te,He=le._transitionData._frames,qe=[],Ze=[];if(!ge)for(ge=[],_e=0;_e<He.length;_e++)ge.push(_e);for(ge=ge.slice(),ge.sort(),_e=ge.length-1;_e>=0;_e--)Te=ge[_e],qe.push({type:"delete",index:Te}),Ze.unshift({type:"insert",index:Te,value:He[Te]});var Ie=r.modifyFrames,Be=r.modifyFrames,ze=[le,Ze],st=[le,qe];return f&&f.add(le,Ie,ze,Be,st),r.modifyFrames(le,qe)}function et(le){le=u.getGraphDiv(le);var ge=le._fullLayout||{},_e=le._fullData||[];return r.cleanPlot([],{},_e,ge),r.purge(le),g.purge(le),ge._container&&ge._container.remove(),delete le._context,le}function tt(le){var ge=le._fullLayout,_e=le.getBoundingClientRect();if(!u.equalDomRects(_e,ge._lastBBox)){var Te=ge._invTransform=u.inverseTransformMatrix(u.getFullTransformMatrix(le));ge._invScaleX=Math.sqrt(Te[0][0]*Te[0][0]+Te[0][1]*Te[0][1]+Te[0][2]*Te[0][2]),ge._invScaleY=Math.sqrt(Te[1][0]*Te[1][0]+Te[1][1]*Te[1][1]+Te[1][2]*Te[1][2]),ge._lastBBox=_e}}function ct(le){var ge=N.select(le),_e=le._fullLayout;if(_e._calcInverseTransform=tt,_e._calcInverseTransform(le),_e._container=ge.selectAll(".plot-container").data([0]),_e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),_e._paperdiv=_e._container.selectAll(".svg-container").data([0]),_e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),_e._glcontainer=_e._paperdiv.selectAll(".gl-container").data([{}]),_e._glcontainer.enter().append("div").classed("gl-container",!0),_e._paperdiv.selectAll(".main-svg").remove(),_e._paperdiv.select(".modebar-container").remove(),_e._paper=_e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),_e._toppaper=_e._paperdiv.append("svg").classed("main-svg",!0),_e._modebardiv=_e._paperdiv.append("div"),delete _e._modeBar,_e._hoverpaper=_e._paperdiv.append("svg").classed("main-svg",!0),!_e._uid){var Te={};N.selectAll("defs").each(function(){this.id&&(Te[this.id.split("-")[1]]=1)}),_e._uid=u.randstr(Te)}_e._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),_e._defs=_e._paper.append("defs").attr("id","defs-"+_e._uid),_e._clips=_e._defs.append("g").classed("clips",!0),_e._topdefs=_e._toppaper.append("defs").attr("id","topdefs-"+_e._uid),_e._topclips=_e._topdefs.append("g").classed("clips",!0),_e._bgLayer=_e._paper.append("g").classed("bglayer",!0),_e._draggers=_e._paper.append("g").classed("draglayer",!0);var He=_e._paper.append("g").classed("layer-below",!0);_e._imageLowerLayer=He.append("g").classed("imagelayer",!0),_e._shapeLowerLayer=He.append("g").classed("shapelayer",!0),_e._cartesianlayer=_e._paper.append("g").classed("cartesianlayer",!0),_e._polarlayer=_e._paper.append("g").classed("polarlayer",!0),_e._smithlayer=_e._paper.append("g").classed("smithlayer",!0),_e._ternarylayer=_e._paper.append("g").classed("ternarylayer",!0),_e._geolayer=_e._paper.append("g").classed("geolayer",!0),_e._funnelarealayer=_e._paper.append("g").classed("funnelarealayer",!0),_e._pielayer=_e._paper.append("g").classed("pielayer",!0),_e._iciclelayer=_e._paper.append("g").classed("iciclelayer",!0),_e._treemaplayer=_e._paper.append("g").classed("treemaplayer",!0),_e._sunburstlayer=_e._paper.append("g").classed("sunburstlayer",!0),_e._indicatorlayer=_e._toppaper.append("g").classed("indicatorlayer",!0),_e._glimages=_e._paper.append("g").classed("glimages",!0);var qe=_e._toppaper.append("g").classed("layer-above",!0);_e._imageUpperLayer=qe.append("g").classed("imagelayer",!0),_e._shapeUpperLayer=qe.append("g").classed("shapelayer",!0),_e._selectionLayer=_e._toppaper.append("g").classed("selectionlayer",!0),_e._infolayer=_e._toppaper.append("g").classed("infolayer",!0),_e._menulayer=_e._toppaper.append("g").classed("menulayer",!0),_e._zoomlayer=_e._toppaper.append("g").classed("zoomlayer",!0),_e._hoverlayer=_e._hoverpaper.append("g").classed("hoverlayer",!0),_e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),le.emit("plotly_framework")}M.animate=wt,M.addFrames=ut,M.deleteFrames=yt,M.addTraces=R,M.deleteTraces=_,M.extendTraces=he,M.moveTraces=i,M.prependTraces=I,M.newPlot=H,M._doPlot=O,M.purge=et,M.react=rt,M.redraw=K,M.relayout=se,M.restyle=l,M.setPlotConfig=d,M.update=Le,M._guiRelayout=$(se),M._guiRestyle=$(l),M._guiUpdate=$(Le),M._storeDirectGUIEdit=q}}),ca=Ke({"src/snapshot/helpers.js"(M){"use strict";var N=Er();M.getDelay=function(u){return u._has&&(u._has("gl3d")||u._has("mapbox")||u._has("map"))?500:0},M.getRedrawFunc=function(u){return function(){N.getComponentMethod("colorbar","draw")(u)}},M.encodeSVG=function(u){return"data:image/svg+xml,"+encodeURIComponent(u)},M.encodeJSON=function(u){return"data:application/json,"+encodeURIComponent(u)};var t=window.URL||window.webkitURL;M.createObjectURL=function(u){return t.createObjectURL(u)},M.revokeObjectURL=function(u){return t.revokeObjectURL(u)},M.createBlob=function(u,m){if(m==="svg")return new window.Blob([u],{type:"image/svg+xml;charset=utf-8"});if(m==="full-json")return new window.Blob([u],{type:"application/json;charset=utf-8"});var g=v(window.atob(u));return new window.Blob([g],{type:"image/"+m})},M.octetStream=function(u){document.location.href="data:application/octet-stream"+u};function v(u){for(var m=u.length,g=new ArrayBuffer(m),f=new Uint8Array(g),w=0;w<m;w++)f[w]=u.charCodeAt(w);return g}M.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}}),Zi=Ke({"src/snapshot/tosvg.js"(M,N){"use strict";var t=Yr(),v=Zt(),u=un(),m=$r(),g=Aa(),f=/"/g,w="TOBESTRIPPED",c=new RegExp('("'+w+")|("+w+'")',"g");function r(p){var E=t.select("body").append("div").style({display:"none"}).html(""),S=p.replace(/(&[^;]*;)/gi,function(F){return F==="&lt;"?"&#60;":F==="&rt;"?"&#62;":F.indexOf("<")!==-1||F.indexOf(">")!==-1?"":E.html(F).text()});return E.remove(),S}function A(p){return p.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}N.exports=function(E,S,F){var x=E._fullLayout,b=x._paper,h=x._toppaper,a=x.width,o=x.height,T;b.insert("rect",":first-child").call(u.setRect,0,0,a,o).call(m.fill,x.paper_bgcolor);var C=x._basePlotModules||[];for(T=0;T<C.length;T++){var z=C[T];z.toSVG&&z.toSVG(E)}if(h){var Y=h.node().childNodes,L=Array.prototype.slice.call(Y);for(T=0;T<L.length;T++){var O=L[T];O.childNodes.length&&b.node().appendChild(O)}}x._draggers&&x._draggers.remove(),b.node().style.background="",b.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var d=t.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){d.remove();return}else d.style({visibility:null,display:null});var U=this.style.fontFamily;U&&U.indexOf('"')!==-1&&d.style("font-family",U.replace(f,w));var B=this.style.fontWeight;B&&(B==="normal"||B==="400")&&d.style("font-weight",void 0);var X=this.style.fontStyle;X&&X==="normal"&&d.style("font-style",void 0);var K=this.style.fontVariant;K&&K==="normal"&&d.style("font-variant",void 0)}),b.selectAll(".gradient_filled,.pattern_filled").each(function(){var d=t.select(this),U=this.style.fill;U&&U.indexOf("url(")!==-1&&d.style("fill",U.replace(f,w));var B=this.style.stroke;B&&B.indexOf("url(")!==-1&&d.style("stroke",B.replace(f,w))}),(S==="pdf"||S==="eps")&&b.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),S==="svg"&&F&&(b.attr("width",F*a),b.attr("height",F*o),b.attr("viewBox","0 0 "+a+" "+o));var D=new window.XMLSerializer().serializeToString(b.node());return D=r(D),D=A(D),D=D.replace(c,"'"),D}}}),Wi=Ke({"src/snapshot/svgtoimg.js"(M,N){"use strict";var t=Zt(),v=Ii().EventEmitter,u=ca();function m(g){var f=g.emitter||new v,w=new Promise(function(c,r){var A=window.Image,p=g.svg,E=g.format||"png",S=g.canvas,F=g.scale||1,x=g.width||300,b=g.height||150,h=F*x,a=F*b,o=S.getContext("2d",{willReadFrequently:!0}),T=new A,C,z;E==="svg"||t.isSafari()?z=u.encodeSVG(p):(C=u.createBlob(p,"svg"),z=u.createObjectURL(C)),S.width=h,S.height=a,T.onload=function(){var Y;switch(C=null,u.revokeObjectURL(z),E!=="svg"&&o.drawImage(T,0,0,h,a),E){case"jpeg":Y=S.toDataURL("image/jpeg");break;case"png":Y=S.toDataURL("image/png");break;case"webp":Y=S.toDataURL("image/webp");break;case"svg":Y=z;break;default:var L="Image format is not jpeg, png, svg or webp.";if(r(new Error(L)),!g.promise)return f.emit("error",L)}c(Y),g.promise||f.emit("success",Y)},T.onerror=function(Y){if(C=null,u.revokeObjectURL(z),r(Y),!g.promise)return f.emit("error",Y)},T.src=z});return g.promise?w:f}N.exports=m}}),al=Ke({"src/plot_api/to_image.js"(M,N){"use strict";var t=Zr(),v=nl(),u=En(),m=Zt(),g=ca(),f=Zi(),w=Wi(),c=Po().version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function A(p,E){E=E||{};var S,F,x,b;m.isPlainObject(p)?(S=p.data||[],F=p.layout||{},x=p.config||{},b={}):(p=m.getGraphDiv(p),S=m.extendDeep([],p.data),F=m.extendDeep({},p.layout),x=p._context,b=p._fullLayout||{});function h(te){return!(te in E)||m.validate(E[te],r[te])}if(!h("width")&&E.width!==null||!h("height")&&E.height!==null)throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Export format is not "+m.join2(r.format.values,", "," or ")+".");var a={};function o(te,ne){return m.coerce(E,a,r,te,ne)}var T=o("format"),C=o("width"),z=o("height"),Y=o("scale"),L=o("setBackground"),O=o("imageDataOnly"),D=document.createElement("div");D.style.position="absolute",D.style.left="-5000px",document.body.appendChild(D);var d=m.extendFlat({},F);C?d.width=C:E.width===null&&t(b.width)&&(d.width=b.width),z?d.height=z:E.height===null&&t(b.height)&&(d.height=b.height);var U=m.extendFlat({},x,{_exportedPlot:!0,staticPlot:!0,setBackground:L}),B=g.getRedrawFunc(D);function X(){return new Promise(function(te){setTimeout(te,g.getDelay(D._fullLayout))})}function K(){return new Promise(function(te,ne){var ie=f(D,T,Y),re=D._fullLayout.width,oe=D._fullLayout.height;function W(){v.purge(D),document.body.removeChild(D)}if(T==="full-json"){var ee=u.graphJson(D,!1,"keepdata","object",!0,!0);return ee.version=c,ee=JSON.stringify(ee),W(),te(O?ee:g.encodeJSON(ee))}if(W(),T==="svg")return te(O?ie:g.encodeSVG(ie));var de=document.createElement("canvas");de.id=m.randstr(),w({format:T,width:re,height:oe,scale:Y,canvas:de,svg:ie,promise:!0}).then(te).catch(ne)})}function H(te){return O?te.replace(g.IMAGE_URL_PREFIX,""):te}return new Promise(function(te,ne){v.newPlot(D,S,d,U).then(B).then(X).then(K).then(function(ie){te(H(ie))}).catch(function(ie){ne(ie)})})}N.exports=A}}),xf=Ke({"src/plot_api/validate.js"(M,N){"use strict";var t=Zt(),v=En(),u=wa(),m=ua().dfltConfig,g=t.isPlainObject,f=Array.isArray,w=t.isArrayOrTypedArray;N.exports=function(o,T){o===void 0&&(o=[]),T===void 0&&(T={});var C=u.get(),z=[],Y={_context:t.extendFlat({},m)},L,O;f(o)?(Y.data=t.extendDeep([],o),L=o):(Y.data=[],L=[],z.push(E("array","data"))),g(T)?(Y.layout=t.extendDeep({},T),O=T):(Y.layout={},O={},arguments.length>1&&z.push(E("object","layout"))),v.supplyDefaults(Y);for(var D=Y._fullData,d=L.length,U=0;U<d;U++){var B=L[U],X=["data",U];if(!g(B)){z.push(E("object",X));continue}var K=D[U],H=K.type,te=C.traces[H].attributes;te.type={valType:"enumerated",values:[H]},K.visible===!1&&B.visible!==!1&&z.push(E("invisible",X)),c(B,K,te,z,X)}var ne=Y._fullLayout,ie=r(C,D);return c(O,ne,ie,z,"layout"),z.length===0?void 0:z};function c(a,o,T,C,z,Y){Y=Y||[];for(var L=Object.keys(a),O=0;O<L.length;O++){var D=L[O],d=Y.slice();d.push(D);var U=a[D],B=o[D],X=F(T,D),K=(X||{}).valType,H=K==="info_array",te=K==="colorscale",ne=(X||{}).items;if(!S(T,D))C.push(E("schema",z,d));else if(g(U)&&g(B)&&K!=="any")c(U,B,X,C,z,d);else if(H&&f(U)){U.length>B.length&&C.push(E("unused",z,d.concat(B.length)));var ie=B.length,re=Array.isArray(ne);re&&(ie=Math.min(ie,ne.length));var oe,W,ee,de,he;if(X.dimensions===2)for(W=0;W<ie;W++)if(f(U[W])){U[W].length>B[W].length&&C.push(E("unused",z,d.concat(W,B[W].length)));var I=B[W].length;for(oe=0;oe<(re?Math.min(I,ne[W].length):I);oe++)ee=re?ne[W][oe]:ne,de=U[W][oe],he=B[W][oe],t.validate(de,ee)?he!==de&&he!==+de&&C.push(E("dynamic",z,d.concat(W,oe),de,he)):C.push(E("value",z,d.concat(W,oe),de))}else C.push(E("array",z,d.concat(W),U[W]));else for(W=0;W<ie;W++)ee=re?ne[W]:ne,de=U[W],he=B[W],t.validate(de,ee)?he!==de&&he!==+de&&C.push(E("dynamic",z,d.concat(W),de,he)):C.push(E("value",z,d.concat(W),de))}else if(X.items&&!H&&f(U)){var R=ne[Object.keys(ne)[0]],_=[],i,l;for(i=0;i<B.length;i++){var k=B[i]._index||i;if(l=d.slice(),l.push(k),g(U[k])&&g(B[i])){_.push(k);var y=U[k],n=B[i];g(y)&&y.visible!==!1&&n.visible===!1?C.push(E("invisible",z,l)):c(y,n,R,C,z,l)}}for(i=0;i<U.length;i++)l=d.slice(),l.push(i),g(U[i])?_.indexOf(i)===-1&&C.push(E("unused",z,l)):C.push(E("object",z,l,U[i]))}else!g(U)&&g(B)?C.push(E("object",z,d,U)):!w(U)&&w(B)&&!H&&!te?C.push(E("array",z,d,U)):D in o?t.validate(U,X)?X.valType==="enumerated"&&(X.coerceNumber&&U!==+B||U!==B)&&C.push(E("dynamic",z,d,U,B)):C.push(E("value",z,d,U)):C.push(E("unused",z,d,U))}return C}function r(a,o){for(var T=a.layout.layoutAttributes,C=0;C<o.length;C++){var z=o[C],Y=a.traces[z.type],L=Y.layoutAttributes;L&&(z.subplot?t.extendFlat(T[Y.attributes.subplot.dflt],L):t.extendFlat(T,L))}return T}var A={object:function(a,o){var T;return a==="layout"&&o===""?T="The layout argument":a[0]==="data"&&o===""?T="Trace "+a[1]+" in the data argument":T=p(a)+"key "+o,T+" must be linked to an object container"},array:function(a,o){var T;return a==="data"?T="The data argument":T=p(a)+"key "+o,T+" must be linked to an array container"},schema:function(a,o){return p(a)+"key "+o+" is not part of the schema"},unused:function(a,o,T){var C=g(T)?"container":"key";return p(a)+C+" "+o+" did not get coerced"},dynamic:function(a,o,T,C){return[p(a)+"key",o,"(set to '"+T+"')","got reset to","'"+C+"'","during defaults."].join(" ")},invisible:function(a,o){return(o?p(a)+"item "+o:"Trace "+a[1])+" got defaulted to be not visible"},value:function(a,o,T){return[p(a)+"key "+o,"is set to an invalid value ("+T+")"].join(" ")}};function p(a){return f(a)?"In data trace "+a[1]+", ":"In "+a+", "}function E(a,o,T,C,z){T=T||"";var Y,L;f(o)?(Y=o[0],L=o[1]):(Y=o,L=null);var O=h(T),D=A[a](o,O,C,z);return t.log(D),{code:a,container:Y,trace:L,path:T,astr:O,msg:D}}function S(a,o){var T=b(o),C=T.keyMinusId,z=T.id;return C in a&&a[C]._isSubplotObj&&z?!0:o in a}function F(a,o){if(o in a)return a[o];var T=b(o);return a[T.keyMinusId]}var x=t.counterRegex("([a-z]+)");function b(a){var o=a.match(x);return{keyMinusId:o&&o[1],id:o&&o[2]}}function h(a){if(!f(a))return String(a);for(var o="",T=0;T<a.length;T++){var C=a[T];typeof C=="number"?o=o.substr(0,o.length-1)+"["+C+"]":o+=C,T<a.length-1&&(o+=".")}return o}}}),wf=Ke({"src/snapshot/filesaver.js"(M,N){"use strict";var t=Zt(),v=ca();function u(m,g,f){var w=document.createElement("a"),c="download"in w,r=new Promise(function(A,p){var E,S;if(c)return E=v.createBlob(m,f),S=v.createObjectURL(E),w.href=S,w.download=g,document.body.appendChild(w),w.click(),document.body.removeChild(w),v.revokeObjectURL(S),E=null,A(g);if(t.isSafari()){var F=f==="svg"?",":";base64,";return v.octetStream(F+encodeURIComponent(m)),A(g)}p(new Error("download error"))});return r}N.exports=u}}),il=Ke({"src/snapshot/download.js"(M,N){"use strict";var t=Zt(),v=al(),u=wf(),m=ca();function g(f,w){var c;return t.isPlainObject(f)||(c=t.getGraphDiv(f)),w=w||{},w.format=w.format||"png",w.width=w.width||null,w.height=w.height||null,w.imageDataOnly=!0,new Promise(function(r,A){c&&c._snapshotInProgress&&A(new Error("Snapshotting already in progress.")),c&&(c._snapshotInProgress=!0);var p=v(f,w),E=w.filename||f.fn||"newplot";E+="."+w.format.replace("-","."),p.then(function(S){return c&&(c._snapshotInProgress=!1),u(S,E,w.format)}).then(function(S){r(S)}).catch(function(S){c&&(c._snapshotInProgress=!1),A(S)})})}N.exports=g}}),Af=Ke({"src/plot_api/template_api.js"(M){"use strict";var N=Zt(),t=N.isPlainObject,v=wa(),u=En(),m=Fn(),g=Pn(),f=ua().dfltConfig;M.makeTemplate=function(x){x=N.isPlainObject(x)?x:N.getGraphDiv(x),x=N.extendDeep({_context:f},{data:x.data,layout:x.layout}),u.supplyDefaults(x);var b=x.data||[],h=x.layout||{};h._basePlotModules=x._fullLayout._basePlotModules,h._modules=x._fullLayout._modules;var a={data:{},layout:{}};b.forEach(function(U){var B={};r(U,B,p.bind(null,U));var X=N.coerce(U,{},m,"type"),K=a.data[X];K||(K=a.data[X]=[]),K.push(B)}),r(h,a.layout,A.bind(null,h)),delete a.layout.template;var o=h.template;if(t(o)){var T=o.layout,C,z,Y,L,O,D;t(T)&&w(T,a.layout);var d=o.data;if(t(d)){for(z in a.data)if(Y=d[z],Array.isArray(Y)){for(O=a.data[z],D=O.length,L=Y.length,C=0;C<D;C++)w(Y[C%L],O[C]);for(C=D;C<L;C++)O.push(N.extendDeep({},Y[C]))}for(z in d)z in a.data||(a.data[z]=N.extendDeep([],d[z]))}}return a};function w(x,b){x=N.extendDeep({},x);var h=Object.keys(x).sort(),a,o;function T(O,D,d){if(t(D)&&t(O))w(O,D);else if(Array.isArray(D)&&Array.isArray(O)){var U=g.arrayTemplater({_template:x},d);for(o=0;o<D.length;o++){var B=D[o],X=U.newItem(B)._template;X&&w(X,B)}var K=U.defaultItems();for(o=0;o<K.length;o++)D.push(K[o]._template);for(o=0;o<D.length;o++)delete D[o].templateitemname}}for(a=0;a<h.length;a++){var C=h[a],z=x[C];if(C in b?T(z,b[C],C):b[C]=z,c(C)===C)for(var Y in b){var L=c(Y);Y!==L&&L===C&&!(Y in x)&&T(z,b[Y],C)}}}function c(x){return x.replace(/[0-9]+$/,"")}function r(x,b,h,a,o){var T=o&&h(o);for(var C in x){var z=x[C],Y=E(x,C,a),L=E(x,C,o),O=h(L);if(!O){var D=c(C);D!==C&&(L=E(x,D,o),O=h(L))}if(!(T&&T===O)&&!(!O||O._noTemplating||O.valType==="data_array"||O.arrayOk&&Array.isArray(z)))if(!O.valType&&t(z))r(z,b,h,Y,L);else if(O._isLinkedToArray&&Array.isArray(z))for(var d=!1,U=0,B={},X=0;X<z.length;X++){var K=z[X];if(t(K)){var H=K.name;if(H)B[H]||(r(K,b,h,E(z,U,Y),E(z,U,L)),U++,B[H]=1);else if(!d){var te=g.arrayDefaultKey(C),ne=E(x,te,a),ie=E(z,U,Y);r(K,b,h,ie,E(z,U,L));var re=N.nestedProperty(b,ie),oe=N.nestedProperty(b,ne);oe.set(re.get()),re.set(null),d=!0}}}else{var W=N.nestedProperty(b,Y);W.set(z)}}}function A(x,b){return v.getLayoutValObject(x,N.nestedProperty({},b).parts)}function p(x,b){return v.getTraceValObject(x,N.nestedProperty({},b).parts)}function E(x,b,h){var a;return h?Array.isArray(x)?a=h+"["+b+"]":a=h+"."+b:a=b,a}M.validateTemplate=function(x,b){var h=N.extendDeep({},{_context:f,data:x.data,layout:x.layout}),a=h.layout||{};t(b)||(b=a.template||{});var o=b.layout,T=b.data,C=[];h.layout=a,h.layout.template=b,u.supplyDefaults(h);var z=h._fullLayout,Y=h._fullData,L={};function O(ne,ie){for(var re in ne)if(re.charAt(0)!=="_"&&t(ne[re])){var oe=c(re),W=[],ee;for(ee=0;ee<ie.length;ee++)W.push(E(ne,re,ie[ee])),oe!==re&&W.push(E(ne,oe,ie[ee]));for(ee=0;ee<W.length;ee++)L[W[ee]]=1;O(ne[re],W)}}function D(ne,ie){for(var re in ne)if(re.indexOf("defaults")===-1&&t(ne[re])){var oe=E(ne,re,ie);L[oe]?D(ne[re],oe):C.push({code:"unused",path:oe})}}if(t(o)?(O(z,["layout"]),D(o,"layout")):C.push({code:"layout"}),!t(T))C.push({code:"data"});else{for(var d={},U,B=0;B<Y.length;B++){var X=Y[B];U=X.type,d[U]=(d[U]||0)+1,X._fullInput._template||C.push({code:"missing",index:X.index,traceType:U})}for(U in T){var K=T[U].length,H=d[U]||0;K>H?C.push({code:"unused",traceType:U,templateCount:K,dataCount:H}):H>K&&C.push({code:"reused",traceType:U,templateCount:K,dataCount:H})}}function te(ne,ie){for(var re in ne)if(re.charAt(0)!=="_"){var oe=ne[re],W=E(ne,re,ie);t(oe)?(Array.isArray(ne)&&oe._template===!1&&oe.templateitemname&&C.push({code:"missing",path:W,templateitemname:oe.templateitemname}),te(oe,W)):Array.isArray(oe)&&S(oe)&&te(oe,W)}}if(te({data:Y,layout:z},""),C.length)return C.map(F)};function S(x){for(var b=0;b<x.length;b++)if(t(x[b]))return!0}function F(x){var b;switch(x.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":x.path?b="There are no templates for item "+x.path+" with name "+x.templateitemname:b="There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":x.path?b="The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?b="Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":b="The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type.";break}return x.msg=b,x}}}),Tf=Ke({"src/plot_api/index.js"(M){"use strict";var N=nl();M._doPlot=N._doPlot,M.newPlot=N.newPlot,M.restyle=N.restyle,M.relayout=N.relayout,M.redraw=N.redraw,M.update=N.update,M._guiRestyle=N._guiRestyle,M._guiRelayout=N._guiRelayout,M._guiUpdate=N._guiUpdate,M._storeDirectGUIEdit=N._storeDirectGUIEdit,M.react=N.react,M.extendTraces=N.extendTraces,M.prependTraces=N.prependTraces,M.addTraces=N.addTraces,M.deleteTraces=N.deleteTraces,M.moveTraces=N.moveTraces,M.purge=N.purge,M.addFrames=N.addFrames,M.deleteFrames=N.deleteFrames,M.animate=N.animate,M.setPlotConfig=N.setPlotConfig;var t=Ha().getGraphDiv,v=tl().eraseActiveShape;M.deleteActiveShape=function(m){return v(t(m))},M.toImage=al(),M.validate=xf(),M.downloadImage=il();var u=Af();M.makeTemplate=u.makeTemplate,M.validateTemplate=u.validateTemplate}}),Mf=Ke({"src/traces/scatter/xy_defaults.js"(M,N){"use strict";var t=Zt(),v=Er();N.exports=function(m,g,f,w){var c=w("x"),r=w("y"),A,p=v.getComponentMethod("calendars","handleTraceDefaults");if(p(m,g,["x","y"],f),c){var E=t.minRowLength(c);r?A=Math.min(E,t.minRowLength(r)):(A=E,w("y0"),w("dy"))}else{if(!r)return 0;A=t.minRowLength(r),w("x0"),w("dx")}return g._length=A,A}}}),kf=Ke({"src/traces/scatter/period_defaults.js"(M,N){"use strict";var t=Zt().dateTick0,v=hn(),u=v.ONEWEEK;function m(g,f){return g%u===0?t(f,1):t(f,0)}N.exports=function(f,w,c,r,A){if(A||(A={x:!0,y:!0}),A.x){var p=r("xperiod");p&&(r("xperiod0",m(p,w.xcalendar)),r("xperiodalignment"))}if(A.y){var E=r("yperiod");E&&(r("yperiod0",m(E,w.ycalendar)),r("yperiodalignment"))}}}}),Lf=Ke({"src/traces/scatter/stack_defaults.js"(M,N){"use strict";var t=["orientation","groupnorm","stackgaps"];N.exports=function(u,m,g,f){var w=g._scatterStackOpts,c=f("stackgroup");if(c){var r=m.xaxis+m.yaxis,A=w[r];A||(A=w[r]={});var p=A[c],E=!1;p?p.traces.push(m):(p=A[c]={traceIndices:[],traces:[m]},E=!0);for(var S={orientation:m.x&&!m.y?"h":"v"},F=0;F<t.length;F++){var x=t[F],b=x+"Found";if(!p[b]){var h=u[x]!==void 0,a=x==="orientation";if((h||E)&&(p[x]=f(x,S[x]),a&&(p.fillDflt=p[x]==="h"?"tonextx":"tonexty"),h&&(p[b]=!0,!E&&(delete p.traces[0][x],a))))for(var o=0;o<p.traces.length-1;o++){var T=p.traces[o];T._input.fill!==T.fill&&(T.fill=p.fillDflt)}}}return p}}}}),Sf=Ke({"src/traces/scatter/marker_defaults.js"(M,N){"use strict";var t=$r(),v=Gn();N.exports=function(m,g,f,w,c,r){var A=v.isBubble(m),p=(m.line||{}).color,E;if(r=r||{},p&&(f=p),c("marker.symbol"),c("marker.opacity",A?.7:1),c("marker.size"),r.noAngle||(c("marker.angle"),r.noAngleRef||c("marker.angleref"),r.noStandOff||c("marker.standoff")),c("marker.color",f),r.noSelect||(c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size")),r.noLine||(p&&!Array.isArray(p)&&g.marker.color!==p?E=p:A?E=t.background:E=t.defaultLine,c("marker.line.color",E),c("marker.line.width",A?1:0)),A&&(c("marker.sizeref"),c("marker.sizemin"),c("marker.sizemode")),r.gradient){var S=c("marker.gradient.type");S!=="none"&&c("marker.gradient.color")}}}}),Pf=Ke({"src/traces/scatter/line_defaults.js"(M,N){"use strict";var t=Zt().isArrayOrTypedArray;N.exports=function(u,m,g,f,w,c){c||(c={});var r=(u.marker||{}).color;r&&r._inputArray&&(r=r._inputArray),w("line.color",g);var A=(t(r)?!1:r)||g;w("line.color",A),w("line.width"),c.noDash||w("line.dash"),c.backoff&&w("line.backoff")}}}),Ef=Ke({"src/traces/scatter/line_shape_defaults.js"(M,N){"use strict";N.exports=function(v,u,m){var g=m("line.shape");g==="spline"&&m("line.smoothing")}}}),Cf=Ke({"src/traces/scatter/text_defaults.js"(M,N){"use strict";var t=Zt();N.exports=function(v,u,m,g,f){f=f||{},g("textposition"),t.coerceFont(g,"textfont",f.font||m.font,f),f.noSelect||(g("selected.textfont.color"),g("unselected.textfont.color"))}}}),Df=Ke({"src/traces/scatter/fillcolor_defaults.js"(M,N){"use strict";var t=$r(),v=Zt().isArrayOrTypedArray;function u(m){for(var g=t.interpolate(m[0][1],m[1][1],.5),f=2;f<m.length;f++){var w=t.interpolate(m[f-1][1],m[f][1],.5);g=t.interpolate(g,w,m[f-1][0]/m[f][0])}return g}N.exports=function(g,f,w,c,r){r||(r={});var A=!1;if(f.marker){var p=f.marker.color,E=(f.marker.line||{}).color;p&&!v(p)?A=p:E&&!v(E)&&(A=E)}var S;if(r.moduleHasFillgradient){var F=c("fillgradient.type");if(F!=="none"){c("fillgradient.start"),c("fillgradient.stop");var x=c("fillgradient.colorscale");x&&(S=u(x))}}c("fillcolor",t.addOpacity((f.line||{}).color||A||S||w,.5))}}}),Rf=Ke({"src/traces/scatter/defaults.js"(M,N){"use strict";var t=Zt(),v=Er(),u=Ya(),m=Yi(),g=Gn(),f=Mf(),w=kf(),c=Lf(),r=Sf(),A=Pf(),p=Ef(),E=Cf(),S=Df(),F=Zt().coercePattern;N.exports=function(b,h,a,o){function T(U,B){return t.coerce(b,h,u,U,B)}var C=f(b,h,o,T);if(C||(h.visible=!1),!!h.visible){w(b,h,o,T),T("xhoverformat"),T("yhoverformat"),T("zorder");var z=c(b,h,o,T);o.scattermode==="group"&&h.orientation===void 0&&T("orientation","v");var Y=!z&&C<m.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("mode",Y),g.hasMarkers(h)&&r(b,h,a,o,T,{gradient:!0}),g.hasLines(h)&&(A(b,h,a,o,T,{backoff:!0}),p(b,h,T),T("connectgaps"),T("line.simplify")),g.hasText(h)&&(T("texttemplate"),E(b,h,o,T));var L=[];(g.hasMarkers(h)||g.hasText(h))&&(T("cliponaxis"),T("marker.maxdisplayed"),L.push("points")),T("fill",z?z.fillDflt:"none"),h.fill!=="none"&&(S(b,h,a,T,{moduleHasFillgradient:!0}),g.hasLines(h)||p(b,h,T),F(T,"fillpattern",h.fillcolor,!1));var O=(h.line||{}).color,D=(h.marker||{}).color;(h.fill==="tonext"||h.fill==="toself")&&L.push("fills"),T("hoveron",L.join("+")||"points"),h.hoveron!=="fills"&&T("hovertemplate");var d=v.getComponentMethod("errorbars","supplyDefaults");d(b,h,O||D||a,{axis:"y"}),d(b,h,O||D||a,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(h,T)}}}}),Nf=Ke({"src/traces/scatter/grouping_defaults.js"(M,N){"use strict";var t=Va().getAxisGroup;N.exports=function(u,m,g,f,w){var c=m.orientation,r=m[{v:"x",h:"y"}[c]+"axis"],A=t(g,r)+c,p=g._alignmentOpts||{},E=f("alignmentgroup"),S=p[A];S||(S=p[A]={});var F=S[E];F?F.traces.push(m):F=S[E]={traces:[m],alignmentIndex:Object.keys(S).length,offsetGroups:{}};var x=f("offsetgroup")||"",b=F.offsetGroups,h=b[x];m._offsetIndex=0,(w!=="group"||x)&&(h||(h=b[x]={offsetIndex:Object.keys(b).length}),m._offsetIndex=h.offsetIndex)}}}),Ff=Ke({"src/traces/scatter/cross_trace_defaults.js"(M,N){"use strict";var t=Zt(),v=Nf(),u=Ya();N.exports=function(g,f){var w,c,r,A=f.scattermode;function p(b){return t.coerce(c._input,c,u,b)}if(f.scattermode==="group")for(r=0;r<g.length;r++)c=g[r],c.type==="scatter"&&(w=c._input,v(w,c,f,p,A));for(r=0;r<g.length;r++){var E=g[r];if(E.type==="scatter"){var S=E.fill;if(!(S==="none"||S==="toself")&&(E.opacity=void 0,S==="tonexty"||S==="tonextx"))for(var F=r-1;F>=0;F--){var x=g[F];if(x.type==="scatter"&&x.xaxis===E.xaxis&&x.yaxis===E.yaxis){x.opacity=void 0;break}}}}}}}),zf=Ke({"src/traces/scatter/layout_defaults.js"(M,N){"use strict";var t=Zt(),v=Oi();N.exports=function(u,m){function g(w,c){return t.coerce(u,m,v,w,c)}var f=m.barmode==="group";m.scattermode==="group"&&g("scattergap",f?m.bargap:.2)}}}),If=Ke({"src/plots/cartesian/align_period.js"(M,N){"use strict";var t=Zr(),v=Zt(),u=v.dateTime2ms,m=v.incrementMonth,g=hn(),f=g.ONEAVGMONTH;N.exports=function(c,r,A,p){if(r.type!=="date")return{vals:p};var E=c[A+"periodalignment"];if(!E)return{vals:p};var S=c[A+"period"],F;if(t(S)){if(S=+S,S<=0)return{vals:p}}else if(typeof S=="string"&&S.charAt(0)==="M"){var x=+S.substring(1);if(x>0&&Math.round(x)===x)F=x;else return{vals:p}}for(var b=r.calendar,h=E==="start",a=E==="end",o=c[A+"period0"],T=u(o,b)||0,C=[],z=[],Y=[],L=p.length,O=0;O<L;O++){var D=p[O],d,U,B;if(F){for(d=Math.round((D-T)/(F*f)),B=m(T,F*d,b);B>D;)B=m(B,-F,b);for(;B<=D;)B=m(B,F,b);U=m(B,-F,b)}else{for(d=Math.round((D-T)/S),B=T+d*S;B>D;)B-=S;for(;B<=D;)B+=S;U=B-S}C[O]=h?U:a?B:(U+B)/2,z[O]=U,Y[O]=B}return{vals:C,starts:z,ends:Y}}}}),ol=Ke({"src/traces/scatter/arrays_to_calcdata.js"(M,N){"use strict";var t=Zt();N.exports=function(u,m){for(var g=0;g<u.length;g++)u[g].i=g;t.mergeArray(m.text,u,"tx"),t.mergeArray(m.texttemplate,u,"txt"),t.mergeArray(m.hovertext,u,"htx"),t.mergeArray(m.customdata,u,"data"),t.mergeArray(m.textposition,u,"tp"),m.textfont&&(t.mergeArrayCastPositive(m.textfont.size,u,"ts"),t.mergeArray(m.textfont.color,u,"tc"),t.mergeArray(m.textfont.family,u,"tf"),t.mergeArray(m.textfont.weight,u,"tw"),t.mergeArray(m.textfont.style,u,"ty"),t.mergeArray(m.textfont.variant,u,"tv"),t.mergeArray(m.textfont.textcase,u,"tC"),t.mergeArray(m.textfont.lineposition,u,"tE"),t.mergeArray(m.textfont.shadow,u,"tS"));var f=m.marker;if(f){t.mergeArrayCastPositive(f.size,u,"ms"),t.mergeArrayCastPositive(f.opacity,u,"mo"),t.mergeArray(f.symbol,u,"mx"),t.mergeArray(f.angle,u,"ma"),t.mergeArray(f.standoff,u,"mf"),t.mergeArray(f.color,u,"mc");var w=f.line;f.line&&(t.mergeArray(w.color,u,"mlc"),t.mergeArrayCastPositive(w.width,u,"mlw"));var c=f.gradient;c&&c.type!=="none"&&(t.mergeArray(c.type,u,"mgt"),t.mergeArray(c.color,u,"mgc"))}}}}),Of=Ke({"src/traces/scatter/calc_selection.js"(M,N){"use strict";var t=Zt();N.exports=function(u,m){t.isArrayOrTypedArray(m.selectedpoints)&&t.tagSelected(u,m)}}}),ll=Ke({"src/traces/scatter/calc.js"(M,N){"use strict";var t=Zr(),v=Zt(),u=An(),m=If(),g=hn().BADNUM,f=Gn(),w=ol(),c=Of();function r(x,b){var h=x._fullLayout,a=b._xA=u.getFromId(x,b.xaxis||"x","x"),o=b._yA=u.getFromId(x,b.yaxis||"y","y"),T=a.makeCalcdata(b,"x"),C=o.makeCalcdata(b,"y"),z=m(b,a,"x",T),Y=m(b,o,"y",C),L=z.vals,O=Y.vals,D=b._length,d=new Array(D),U=b.ids,B=F(b,h,a,o),X=!1,K,H,te,ne,ie,re;E(h,b);var oe="x",W="y",ee;if(B)v.pushUnique(B.traceIndices,b.index),K=B.orientation==="v",K?(W="s",ee="x"):(oe="s",ee="y"),ie=B.stackgaps==="interpolate";else{var de=p(b,D);A(x,b,a,o,L,O,de)}var he=!!b.xperiodalignment,I=!!b.yperiodalignment;for(H=0;H<D;H++){var R=d[H]={},_=t(L[H]),i=t(O[H]);_&&i?(R[oe]=L[H],R[W]=O[H],he&&(R.orig_x=T[H],R.xEnd=z.ends[H],R.xStart=z.starts[H]),I&&(R.orig_y=C[H],R.yEnd=Y.ends[H],R.yStart=Y.starts[H])):B&&(K?_:i)?(R[ee]=K?L[H]:O[H],R.gap=!0,ie?(R.s=g,X=!0):R.s=0):R[oe]=R[W]=g,U&&(R.id=String(U[H]))}if(w(d,b),calcColorscale(x,b),c(d,b),B){for(H=0;H<d.length;)d[H][ee]===g?d.splice(H,1):H++;if(v.sort(d,function(n,q){return n[ee]-q[ee]||n.i-q.i}),X){for(H=0;H<d.length-1&&d[H].gap;)H++;for(re=d[H].s,re||(re=d[H].s=0),te=0;te<H;te++)d[te].s=re;for(ne=d.length-1;ne>H&&d[ne].gap;)ne--;for(re=d[ne].s,te=d.length-1;te>ne;te--)d[te].s=re;for(;H<ne;)if(H++,d[H].gap){for(te=H+1;d[te].gap;)te++;for(var l=d[H-1][ee],k=d[H-1].s,y=(d[te].s-k)/(d[te][ee]-l);H<te;)d[H].s=k+(d[H][ee]-l)*y,H++}}}return d}function A(x,b,h,a,o,T,C){var z=b._length,Y=x._fullLayout,L=h._id,O=a._id,D=Y._firstScatter[S(b)]===b.uid,d=(F(b,Y,h,a)||{}).orientation,U=b.fill;h._minDtick=0,a._minDtick=0;var B={padded:!0},X={padded:!0};C&&(B.ppad=X.ppad=C);var K=z<2||o[0]!==o[z-1]||T[0]!==T[z-1];K&&(U==="tozerox"||U==="tonextx"&&(D||d==="h"))?B.tozero=!0:!(b.error_y||{}).visible&&(U==="tonexty"||U==="tozeroy"||!f.hasMarkers(b)&&!f.hasText(b))&&(B.padded=!1,B.ppad=0),K&&(U==="tozeroy"||U==="tonexty"&&(D||d==="v"))?X.tozero=!0:(U==="tonextx"||U==="tozerox")&&(X.padded=!1),L&&(b._extremes[L]=u.findExtremes(h,o,B)),O&&(b._extremes[O]=u.findExtremes(a,T,X))}function p(x,b){if(f.hasMarkers(x)){var h=x.marker,a=1.6*(x.marker.sizeref||1),o;if(x.marker.sizemode==="area"?o=function(L){return Math.max(Math.sqrt((L||0)/a),3)}:o=function(L){return Math.max((L||0)/a,3)},v.isArrayOrTypedArray(h.size)){var T={type:"linear"};u.setConvert(T);for(var C=T.makeCalcdata(x.marker,"size"),z=new Array(b),Y=0;Y<b;Y++)z[Y]=o(C[Y]);return z}else return o(h.size)}}function E(x,b){var h=S(b),a=x._firstScatter;a[h]||(a[h]=b.uid)}function S(x){var b=x.stackgroup;return x.xaxis+x.yaxis+x.type+(b?"-"+b:"")}function F(x,b,h,a){var o=x.stackgroup;if(o){var T=b._scatterStackOpts[h._id+a._id][o],C=T.orientation==="v"?a:h;if(C.type==="linear"||C.type==="log")return T}}N.exports={calc:r,calcMarkerSize:p,calcAxisExpansion:A,setFirstScatter:E,getStackOpts:F}}}),Hf=Ke({"src/traces/bar/sieve.js"(M,N){"use strict";N.exports=v;var t=Zt().distinctVals;function v(u,m){this.traces=u,this.sepNegVal=m.sepNegVal,this.overlapNoMerge=m.overlapNoMerge;for(var g=1/0,f=m.posAxis._id.charAt(0),w=[],c=0;c<u.length;c++){for(var r=u[c],A=0;A<r.length;A++){var p=r[A],E=p.p;E===void 0&&(E=p[f]),E!==void 0&&w.push(E)}r[0]&&r[0].width1&&(g=Math.min(r[0].width1,g))}this.positions=w;var S=t(w);this.distinctPositions=S.vals,S.vals.length===1&&g!==1/0?this.minDiff=g:this.minDiff=Math.min(S.minDiff,g);var F=(m.posAxis||{}).type;(F==="category"||F==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}v.prototype.put=function(m,g,f){var w=this.getLabel(m,g,f),c=this.bins[w]||0;return this.bins[w]=c+f,c},v.prototype.get=function(m,g,f){var w=this.getLabel(m,g,f);return this.bins[w]||0},v.prototype.getLabel=function(m,g,f){var w=f<0&&this.sepNegVal?"v":"^",c=this.overlapNoMerge?m:Math.round(m/this.binWidth);return w+c+"g"+g}}}),qf=Ke({"src/traces/bar/cross_trace_calc.js"(M,N){"use strict";var t=Zr(),v=Zt().isArrayOrTypedArray,u=hn().BADNUM,m=Er(),g=An(),f=Va().getAxisGroup,w=Hf();function c(U,B){for(var X=B.xaxis,K=B.yaxis,H=U._fullLayout,te=U._fullData,ne=U.calcdata,ie=[],re=[],oe=0;oe<te.length;oe++){var W=te[oe];if(W.visible===!0&&m.traceIs(W,"bar")&&W.xaxis===X._id&&W.yaxis===K._id&&(W.orientation==="h"?ie.push(ne[oe]):re.push(ne[oe]),W._computePh))for(var ee=U.calcdata[oe],de=0;de<ee.length;de++)typeof ee[de].ph0=="function"&&(ee[de].ph0=ee[de].ph0()),typeof ee[de].ph1=="function"&&(ee[de].ph1=ee[de].ph1())}var he={xCat:X.type==="category"||X.type==="multicategory",yCat:K.type==="category"||K.type==="multicategory",mode:H.barmode,norm:H.barnorm,gap:H.bargap,groupgap:H.bargroupgap};r(U,X,K,re,he),r(U,K,X,ie,he)}function r(U,B,X,K,H){if(K.length){var te,ne,ie,re,oe;switch(E(X,K),H.mode){case"overlay":S(U,B,X,K,H);break;case"group":for(te=[],ne=[],ie=0;ie<K.length;ie++)re=K[ie],oe=re[0].trace,oe.offset===void 0?ne.push(re):te.push(re);ne.length&&F(U,B,X,ne,H),te.length&&S(U,B,X,te,H);break;case"stack":case"relative":for(te=[],ne=[],ie=0;ie<K.length;ie++)re=K[ie],oe=re[0].trace,oe.base===void 0?ne.push(re):te.push(re);p(ne),ne.length&&x(U,B,X,ne,H),te.length&&S(U,B,X,te,H);break}A(K),D(K,B)}}function A(U){var B,X,K,H,te,ne,ie;for(B=0;B<U.length;B++)X=U[B],K=X[0].trace,H=X[0].t,H.cornerradiusvalue===void 0&&(te=K.marker?K.marker.cornerradius:void 0,te!==void 0&&(ne=t(te)?+te:+te.slice(0,-1),ie=t(te)?"px":"%",H.cornerradiusvalue=ne,H.cornerradiusform=ie))}function p(U){if(!(U.length<2)){var B,X,K,H,te,ne,ie;for(B=0;B<U.length&&(X=U[B],K=X[0].trace,te=K.marker?K.marker.cornerradius:void 0,te===void 0);B++);if(te!==void 0)for(ne=t(te)?+te:+te.slice(0,-1),ie=t(te)?"px":"%",B=0;B<U.length;B++)X=U[B],H=X[0].t,H.cornerradiusvalue=ne,H.cornerradiusform=ie}}function E(U,B){var X,K;for(X=0;X<B.length;X++){var H=B[X],te=H[0].trace,ne=te.type==="funnel"?te._base:te.base,ie,re=te.orientation==="h"?te.xcalendar:te.ycalendar,oe=U.type==="category"||U.type==="multicategory"?function(){return null}:U.d2c;if(v(ne)){for(K=0;K<Math.min(ne.length,H.length);K++)ie=oe(ne[K],0,re),t(ie)?(H[K].b=+ie,H[K].hasB=1):H[K].b=0;for(;K<H.length;K++)H[K].b=0}else{ie=oe(ne,0,re);var W=t(ie);for(ie=W?ie:0,K=0;K<H.length;K++)H[K].b=ie,W&&(H[K].hasB=1)}}}function S(U,B,X,K,H){for(var te=0;te<K.length;te++){var ne=K[te],ie=new w([ne],{posAxis:B,sepNegVal:!1,overlapNoMerge:!H.norm});b(U,B,ie,H),H.norm?(z(ie),L(X,ie,H)):T(X,ie)}}function F(U,B,X,K,H){var te=new w(K,{posAxis:B,sepNegVal:!1,overlapNoMerge:!H.norm});b(U,B,te,H),Y(te,B),H.norm?(z(te),L(X,te,H)):T(X,te)}function x(U,B,X,K,H){var te=new w(K,{posAxis:B,sepNegVal:H.mode==="relative",overlapNoMerge:!(H.norm||H.mode==="stack"||H.mode==="relative")});b(U,B,te,H),C(X,te,H);for(var ne=0;ne<K.length;ne++)for(var ie=K[ne],re=ie[0].t.offsetindex,oe=0;oe<ie.length;oe++){var W=ie[oe];if(W.s!==u){var ee=W.b+W.s===te.get(W.p,re,W.s);ee&&(W._outmost=!0)}}H.norm&&L(X,te,H)}function b(U,B,X,K){var H=U._fullLayout,te=X.positions,ne=X.distinctPositions,ie=X.minDiff,re=X.traces,oe=re.length,W=te.length!==ne.length,ee=ie*(1-K.gap),de,he,I,R;if(B._id==="angularaxis")de=ee,he=de*(1-(K.groupgap||0)),I=-he/2;else{var _=f(H,B._id)+re[0][0].trace.orientation;R=H._alignmentOpts[_]||{}}for(var i=0;i<oe;i++){var l=re[i],k=l[0].trace;if(B._id!=="angularaxis"){var y=R[k.alignmentgroup]||{},n=Object.keys(y.offsetGroups||{}).length;n?de=ee/n:de=W?ee/oe:ee,he=de*(1-(K.groupgap||0)),n?I=((2*k._offsetIndex+1-n)*de-he)/2:I=W?((2*i+1-oe)*de-he)/2:-he/2}var q=l[0].t;q.barwidth=he,q.offsetindex=k._offsetIndex||0,q.poffset=I,q.bargroupwidth=ee,q.bardelta=ie}X.binWidth=re[0][0].t.barwidth/100,h(X),a(B,X),B._id==="angularaxis"?o(B,X):o(B,X,W)}function h(U){var B=U.traces,X,K;for(X=0;X<B.length;X++){var H=B[X],te=H[0],ne=te.trace,ie=te.t,re=ne._offset||ne.offset,oe=ie.poffset,W;if(v(re)){for(W=Array.prototype.slice.call(re,0,H.length),K=0;K<W.length;K++)t(W[K])||(W[K]=oe);for(K=W.length;K<H.length;K++)W.push(oe);ie.poffset=W}else re!==void 0&&(ie.poffset=re);var ee=ne._width||ne.width,de=ie.barwidth;if(v(ee)){var he=Array.prototype.slice.call(ee,0,H.length);for(K=0;K<he.length;K++)t(he[K])||(he[K]=de);for(K=he.length;K<H.length;K++)he.push(de);if(ie.barwidth=he,re===void 0){for(W=[],K=0;K<H.length;K++)W.push(oe+(de-he[K])/2);ie.poffset=W}}else ee!==void 0&&(ie.barwidth=ee,re===void 0&&(ie.poffset=oe+(de-ee)/2))}}function a(U,B){for(var X=B.traces,K=d(U),H=0;H<X.length;H++)for(var te=X[H],ne=te[0].t,ie=ne.poffset,re=v(ie),oe=ne.barwidth,W=v(oe),ee=0;ee<te.length;ee++){var de=te[ee],he=de.w=W?oe[ee]:oe;de.p===void 0&&(de.p=de[K],de["orig_"+K]=de[K]);var I=(re?ie[ee]:ie)+he/2;de[K]=de.p+I}}function o(U,B,X){var K=B.traces,H=B.minDiff,te=H/2;g.minDtick(U,B.minDiff,B.distinctPositions[0],X);for(var ne=0;ne<K.length;ne++){var ie=K[ne],re=ie[0],oe=re.trace,W=[],ee,de,he,I;for(I=0;I<ie.length;I++)ee=ie[I],de=ee.p-te,he=ee.p+te,W.push(de,he);if(oe.width||oe.offset){var R=re.t,_=R.poffset,i=R.barwidth,l=v(_),k=v(i);for(I=0;I<ie.length;I++){ee=ie[I];var y=l?_[I]:_,n=k?i[I]:i;de=ee.p+y,he=de+n,W.push(de,he)}}oe._extremes[U._id]=g.findExtremes(U,W,{padded:!1})}}function T(U,B){for(var X=B.traces,K=d(U),H=0;H<X.length;H++){for(var te=X[H],ne=te[0].trace,ie=ne.type==="scatter",re=ne.orientation==="v",oe=[],W=!1,ee=0;ee<te.length;ee++){var de=te[ee],he=ie?0:de.b,I=ie?re?de.y:de.x:he+de.s;de[K]=I,oe.push(I),de.hasB&&oe.push(he),(!de.hasB||!de.b)&&(W=!0)}ne._extremes[U._id]=g.findExtremes(U,oe,{tozero:W,padded:!0})}}function C(U,B,X){var K=d(U),H=B.traces,te,ne,ie,re,oe,W,ee;for(re=0;re<H.length;re++)if(te=H[re],ne=te[0].trace,ne.type==="funnel")for(ee=te[0].t.offsetindex,oe=0;oe<te.length;oe++)W=te[oe],W.s!==u&&B.put(W.p,ee,-.5*W.s);for(re=0;re<H.length;re++){te=H[re],ne=te[0].trace,ie=ne.type==="funnel",ee=ne.type==="barpolar"?0:te[0].t.offsetindex;var de=[];for(oe=0;oe<te.length;oe++)if(W=te[oe],W.s!==u){var he;ie?he=W.s:he=W.s+W.b;var I=B.put(W.p,ee,he),R=I+he;W.b=I,W[K]=R,X.norm||(de.push(R),W.hasB&&de.push(I))}X.norm||(ne._extremes[U._id]=g.findExtremes(U,de,{tozero:!0,padded:!0}))}}function z(U){for(var B=U.traces,X=0;X<B.length;X++)for(var K=B[X],H=K[0].t.offsetindex,te=0;te<K.length;te++){var ne=K[te];ne.s!==u&&U.put(ne.p,H,ne.b+ne.s)}}function Y(U,B){for(var X=U.traces,K=0;K<X.length;K++){var H=X[K],te=H[0].trace,ne=H[0].t.offsetindex;if(te.base===void 0)for(var ie=new w([H],{posAxis:B,sepNegVal:!0,overlapNoMerge:!0}),re=0;re<H.length;re++){var oe=H[re];if(oe.p!==u){var W=ie.put(oe.p,ne,oe.b+oe.s);W&&(oe.b=W)}}}}function L(U,B,X){var K=B.traces,H=d(U),te=X.norm==="fraction"?1:100,ne=te/1e9,ie=U.l2c(U.c2l(0)),re=X.mode==="stack"?te:ie;function oe(q){return t(U.c2l(q))&&(q<ie-ne||q>re+ne||!t(ie))}for(var W=0;W<K.length;W++){for(var ee=K[W],de=ee[0].t.offsetindex,he=ee[0].trace,I=[],R=!1,_=!1,i=0;i<ee.length;i++){var l=ee[i];if(l.s!==u){var k=Math.abs(te/B.get(l.p,de,l.s));l.b*=k,l.s*=k;var y=l.b,n=y+l.s;l[H]=n,I.push(n),_=_||oe(n),l.hasB&&(I.push(y),_=_||oe(y)),(!l.hasB||!l.b)&&(R=!0)}}he._extremes[U._id]=g.findExtremes(U,I,{tozero:R,padded:_})}}function O(U,B,X,K){for(var H=d(K),te=0;te<U.length;te++)for(var ne=U[te],ie=0;ie<ne.length;ie++){var re=ne[ie],oe=re[H];re._sMin=B[oe],re._sMax=X[oe]}}function D(U,B){var X=d(B),K={},H,te,ne,ie=1/0,re=-1/0;for(H=0;H<U.length;H++)for(ne=U[H],te=0;te<ne.length;te++){var oe=ne[te].p;t(oe)&&(ie=Math.min(ie,oe),re=Math.max(re,oe))}var W=1e4/(re-ie),ee=K.round=function(se){return String(Math.round(W*(se-ie)))},de={},he={},I=U.some(function(se){var ye=se[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(H=0;H<U.length;H++){ne=U[H],ne[0].t.extents=K;var R=ne[0].t.poffset,_=v(R);for(te=0;te<ne.length;te++){var i=ne[te],l=i[X]-i.w/2;if(t(l)){var k=i[X]+i.w/2,y=ee(i.p);K[y]?K[y]=[Math.min(l,K[y][0]),Math.max(k,K[y][1])]:K[y]=[l,k]}if(i.p0=i.p+(_?R[te]:R),i.p1=i.p0+i.w,i.s0=i.b,i.s1=i.s0+i.s,I){var n=Math.min(i.s0,i.s1)||0,q=Math.max(i.s0,i.s1)||0,J=i[X];de[J]=J in de?Math.min(de[J],n):n,he[J]=J in he?Math.max(he[J],q):q}}}I&&O(U,de,he,B)}function d(U){return U._id.charAt(0)}N.exports={crossTraceCalc:c,setGroupPositions:r}}}),Bf=Ke({"src/traces/scatter/cross_trace_calc.js"(M,N){"use strict";var t=ll(),v=qf().setGroupPositions;function u(f,w){for(var c=w.xaxis,r=w.yaxis,A=f._fullLayout,p=f._fullData,E=f.calcdata,S=[],F=[],x=0;x<p.length;x++){var b=p[x];b.visible===!0&&b.type==="scatter"&&b.xaxis===c._id&&b.yaxis===r._id&&(b.orientation==="h"?S.push(E[x]):b.orientation==="v"&&F.push(E[x]))}var h={mode:A.scattermode,gap:A.scattergap};v(f,c,r,F,h),v(f,r,c,S,h)}N.exports=function(w,c){w._fullLayout.scattermode==="group"&&u(w,c);var r=c.xaxis,A=c.yaxis,p=r._id+A._id,E=w._fullLayout._scatterStackOpts[p];if(E){var S=w.calcdata,F,x,b,h,a,o,T,C,z,Y,L,O,D,d,U;for(var B in E){Y=E[B];var X=Y.traceIndices;if(X.length){for(L=Y.stackgaps==="interpolate",O=Y.groupnorm,Y.orientation==="v"?(D="x",d="y"):(D="y",d="x"),U=new Array(X.length),F=0;F<U.length;F++)U[F]=!1;o=S[X[0]];var K=new Array(o.length);for(F=0;F<o.length;F++)K[F]=o[F][D];for(F=1;F<X.length;F++){for(a=S[X[F]],x=b=0;x<a.length;x++){for(T=a[x][D];T>K[b]&&b<K.length;b++)m(a,x,K[b],F,U,L,D),x++;if(T!==K[b]){for(h=0;h<F;h++)m(S[X[h]],b,T,h,U,L,D);K.splice(b,0,T)}b++}for(;b<K.length;b++)m(a,x,K[b],F,U,L,D),x++}var H=K.length;for(x=0;x<o.length;x++){for(C=o[x][d]=o[x].s,F=1;F<X.length;F++)a=S[X[F]],a[0].trace._rawLength=a[0].trace._length,a[0].trace._length=H,C+=a[x].s,a[x][d]=C;if(O)for(z=(O==="fraction"?C:C/100)||1,F=0;F<X.length;F++){var te=S[X[F]][x];te[d]/=z,te.sNorm=te.s/z}}for(F=0;F<X.length;F++){a=S[X[F]];var ne=a[0].trace,ie=t.calcMarkerSize(ne,ne._rawLength),re=Array.isArray(ie);if(ie&&U[F]||re){var oe=ie;for(ie=new Array(H),x=0;x<H;x++)ie[x]=a[x].gap?0:re?oe[a[x].i]:oe}var W=new Array(H),ee=new Array(H);for(x=0;x<H;x++)W[x]=a[x].x,ee[x]=a[x].y;t.calcAxisExpansion(w,ne,r,A,W,ee,ie),a[0].t.orientation=Y.orientation}}}}};function m(f,w,c,r,A,p,E){A[r]=!0;var S={i:null,gap:!0,s:0};if(S[E]=c,f.splice(w,0,S),w&&c===f[w-1][E]){var F=f[w-1];S.s=F.s,S.i=F.i,S.gap=F.gap}else p&&(S.s=g(f,w,c,E));w||(f[0].t=f[1].t,f[0].trace=f[1].trace,delete f[1].t,delete f[1].trace)}function g(f,w,c,r){var A=f[w-1],p=f[w+1];return p?A?A.s+(p.s-A.s)*(c-A[r])/(p[r]-A[r]):p.s:A.s}}}),Gf=Ke({"src/traces/scatter/line_points.js"(M,N){"use strict";var t=un(),v=hn(),u=v.BADNUM,m=v.LOG_CLIP,g=m+.5,f=m-.5,w=Zt(),c=w.segmentsIntersect,r=w.constrain,A=Yi();N.exports=function(E,S){var F=S.trace||{},x=S.xaxis,b=S.yaxis,h=x.type==="log",a=b.type==="log",o=x._length,T=b._length,C=S.backoff,z=F.marker,Y=S.connectGaps,L=S.baseTolerance,O=S.shape,D=O==="linear",d=F.fill&&F.fill!=="none",U=[],B=A.minTolerance,X=E.length,K=new Array(X),H=0,te,ne,ie,re,oe,W,ee,de,he,I,R,_,i,l,k,y;function n(Ie){var Be=E[Ie];if(!Be)return!1;var ze=S.linearized?x.l2p(Be.x):x.c2p(Be.x),st=S.linearized?b.l2p(Be.y):b.c2p(Be.y);if(ze===u){if(h&&(ze=x.c2p(Be.x,!0)),ze===u)return!1;a&&st===u&&(ze*=Math.abs(x._m*T*(x._m>0?g:f)/(b._m*o*(b._m>0?g:f)))),ze*=1e3}if(st===u){if(a&&(st=b.c2p(Be.y,!0)),st===u)return!1;st*=1e3}return[ze,st]}function q(Ie,Be,ze,st){var vt=ze-Ie,xt=st-Be,Lt=.5-Ie,Wt=.5-Be,Vt=vt*vt+xt*xt,Gt=vt*Lt+xt*Wt;if(Gt>0&&Gt<Vt){var hr=Lt*xt-Wt*vt;if(hr*hr<Vt)return!0}}var J,se;function ye(Ie,Be){var ze=Ie[0]/o,st=Ie[1]/T,vt=Math.max(0,-ze,ze-1,-st,st-1);return vt&&J!==void 0&&q(ze,st,J,se)&&(vt=0),vt&&Be&&q(ze,st,Be[0]/o,Be[1]/T)&&(vt=0),(1+A.toleranceGrowth*vt)*L}function we(Ie,Be){var ze=Ie[0]-Be[0],st=Ie[1]-Be[1];return Math.sqrt(ze*ze+st*st)}var ke=A.maxScreensAway,ue=-o*ke,Me=o*(1+ke),Ne=-T*ke,Ce=T*(1+ke),Le=[[ue,Ne,Me,Ne],[Me,Ne,Me,Ce],[Me,Ce,ue,Ce],[ue,Ce,ue,Ne]],$,ce,me,pe,xe,Oe;function Xe(Ie,Be){for(var ze=[],st=0,vt=0;vt<4;vt++){var xt=Le[vt],Lt=c(Ie[0],Ie[1],Be[0],Be[1],xt[0],xt[1],xt[2],xt[3]);Lt&&(!st||Math.abs(Lt.x-ze[0][0])>1||Math.abs(Lt.y-ze[0][1])>1)&&(Lt=[Lt.x,Lt.y],st&&we(Lt,Ie)<we(ze[0],Ie)?ze.unshift(Lt):ze.push(Lt),st++)}return ze}function $e(Ie){if(Ie[0]<ue||Ie[0]>Me||Ie[1]<Ne||Ie[1]>Ce)return[r(Ie[0],ue,Me),r(Ie[1],Ne,Ce)]}function pt(Ie,Be){if(Ie[0]===Be[0]&&(Ie[0]===ue||Ie[0]===Me)||Ie[1]===Be[1]&&(Ie[1]===Ne||Ie[1]===Ce))return!0}function rt(Ie,Be){var ze=[],st=$e(Ie),vt=$e(Be);return st&&vt&&pt(st,vt)||(st&&ze.push(st),vt&&ze.push(vt)),ze}function kt(Ie,Be,ze){return function(st,vt){var xt=$e(st),Lt=$e(vt),Wt=[];if(xt&&Lt&&pt(xt,Lt))return Wt;xt&&Wt.push(xt),Lt&&Wt.push(Lt);var Vt=2*w.constrain((st[Ie]+vt[Ie])/2,Be,ze)-((xt||st)[Ie]+(Lt||vt)[Ie]);if(Vt){var Gt;xt&&Lt?Gt=Vt>0==xt[Ie]>Lt[Ie]?xt:Lt:Gt=xt||Lt,Gt[Ie]+=Vt}return Wt}}var Mt;O==="linear"||O==="spline"?Mt=Xe:O==="hv"||O==="vh"?Mt=rt:O==="hvh"?Mt=kt(0,ue,Me):O==="vhv"&&(Mt=kt(1,Ne,Ce));function Dt(Ie,Be){var ze=Be[0]-Ie[0],st=(Be[1]-Ie[1])/ze,vt=(Ie[1]*Be[0]-Be[1]*Ie[0])/ze;return vt>0?[st>0?ue:Me,Ce]:[st>0?Me:ue,Ne]}function lt(Ie){var Be=Ie[0],ze=Ie[1],st=Be===K[H-1][0],vt=ze===K[H-1][1];if(!(st&&vt))if(H>1){var xt=Be===K[H-2][0],Lt=ze===K[H-2][1];st&&(Be===ue||Be===Me)&&xt?Lt?H--:K[H-1]=Ie:vt&&(ze===Ne||ze===Ce)&&Lt?xt?H--:K[H-1]=Ie:K[H++]=Ie}else K[H++]=Ie}function wt(Ie){K[H-1][0]!==Ie[0]&&K[H-1][1]!==Ie[1]&&lt([me,pe]),lt(Ie),xe=null,me=pe=0}var ut=w.isArrayOrTypedArray(z);function yt(Ie){if(Ie&&C&&(Ie.i=te,Ie.d=E,Ie.trace=F,Ie.marker=ut?z[Ie.i]:z,Ie.backoff=C),J=Ie[0]/o,se=Ie[1]/T,$=Ie[0]<ue?ue:Ie[0]>Me?Me:0,ce=Ie[1]<Ne?Ne:Ie[1]>Ce?Ce:0,$||ce){if(!H)K[H++]=[$||Ie[0],ce||Ie[1]];else if(xe){var Be=Mt(xe,Ie);Be.length>1&&(wt(Be[0]),K[H++]=Be[1])}else Oe=Mt(K[H-1],Ie)[0],K[H++]=Oe;var ze=K[H-1];$&&ce&&(ze[0]!==$||ze[1]!==ce)?(xe&&(me!==$&&pe!==ce?lt(me&&pe?Dt(xe,Ie):[me||$,pe||ce]):me&&pe&&lt([me,pe])),lt([$,ce])):me-$&&pe-ce&&lt([$||me,ce||pe]),xe=Ie,me=$,pe=ce}else xe&&wt(Mt(xe,Ie)[0]),K[H++]=Ie}for(te=0;te<X;te++)if(ne=n(te),!!ne){for(H=0,xe=null,yt(ne),te++;te<X;te++){if(re=n(te),!re){if(Y)continue;break}if(!D||!S.simplify){yt(re);continue}var et=n(te+1);if(I=we(re,ne),!(!(d&&(H===0||H===X-1))&&I<ye(re,et)*B)){for(de=[(re[0]-ne[0])/I,(re[1]-ne[1])/I],oe=ne,R=I,_=l=k=0,ee=!1,ie=re,te++;te<E.length;te++){if(W=et,et=n(te+1),!W){if(Y)continue;break}if(he=[W[0]-ne[0],W[1]-ne[1]],y=he[0]*de[1]-he[1]*de[0],l=Math.min(l,y),k=Math.max(k,y),k-l>ye(W,et))break;ie=W,i=he[0]*de[0]+he[1]*de[1],i>R?(R=i,re=W,ee=!1):i<_&&(_=i,oe=W,ee=!0)}if(ee?(yt(re),ie!==oe&&yt(oe)):(oe!==ne&&yt(oe),ie!==re&&yt(re)),yt(ie),te>=E.length||!W)break;yt(W),ne=W}}xe&&lt([me||xe[0],pe||xe[1]]),U.push(K.slice(0,H))}var tt=O.slice(O.length-1);if(C&&tt!=="h"&&tt!=="v"){for(var ct=!1,le=-1,ge=[],_e=0;_e<U.length;_e++)for(var Te=0;Te<U[_e].length-1;Te++){var He=U[_e][Te],qe=U[_e][Te+1],Ze=t.applyBackoff(qe,He);(Ze[0]!==qe[0]||Ze[1]!==qe[1])&&(ct=!0),ge[le+1]||(le++,ge[le]=[He,[Ze[0],Ze[1]]])}return ct?ge:U}return U}}}),Uf=Ke({"src/traces/scatter/link_traces.js"(M,N){"use strict";var t={tonextx:1,tonexty:1,tonext:1};N.exports=function(u,m,g){var f,w,c,r,A,p={},E=!1,S=-1,F=0,x=-1;for(w=0;w<g.length;w++)f=g[w][0].trace,c=f.stackgroup||"",c?c in p?A=p[c]:(A=p[c]=F,F++):f.fill in t&&x>=0?A=x:(A=x=F,F++),A<S&&(E=!0),f._groupIndex=S=A;var b=g.slice();E&&b.sort(function(a,o){var T=a[0].trace,C=o[0].trace;return T._groupIndex-C._groupIndex||T.index-C.index});var h={};for(w=0;w<b.length;w++)f=b[w][0].trace,c=f.stackgroup||"",f.visible===!0?(f._nexttrace=null,f.fill in t&&(r=h[c],f._prevtrace=r||null,r&&(r._nexttrace=f)),f._ownfill=f.fill&&(f.fill.substr(0,6)==="tozero"||f.fill==="toself"||f.fill.substr(0,2)==="to"&&!f._prevtrace),h[c]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return b}}}),jf=Ke({"src/traces/scatter/plot.js"(M,N){"use strict";var t=Yr(),v=Er(),u=Zt(),m=u.ensureSingle,g=u.identity,f=un(),w=Gn(),c=Gf(),r=Uf(),A=df().tester;N.exports=function(x,b,h,a,o,T){var C,z,Y=!o,L=!!o&&o.duration>0,O=r(x,b,h);if(C=a.selectAll("g.trace").data(O,function(d){return d[0].trace.uid}),C.enter().append("g").attr("class",function(d){return"trace scatter trace"+d[0].trace.uid}).style("stroke-miterlimit",2),C.order(),p(x,C,b),L){T&&(z=T());var D=t.transition().duration(o.duration).ease(o.easing).each("end",function(){z&&z()}).each("interrupt",function(){z&&z()});D.each(function(){a.selectAll("g.trace").each(function(d,U){E(x,U,b,d,O,this,o)})})}else C.each(function(d,U){E(x,U,b,d,O,this,o)});Y&&C.exit().remove(),a.selectAll("path:not([d])").remove()};function p(F,x,b){x.each(function(h){var a=m(t.select(this),"g","fills");f.setClipUrl(a,b.layerClipId,F);var o=h[0].trace,T=[];o._ownfill&&T.push("_ownFill"),o._nexttrace&&T.push("_nextFill");var C=a.selectAll("g").data(T,g);C.enter().append("g"),C.exit().each(function(z){o[z]=null}).remove(),C.order().each(function(z){o[z]=m(t.select(this),"path","js-fill")})})}function E(F,x,b,h,a,o,T){var C=F._context.staticPlot,z;S(F,x,b,h,a);var Y=!!T&&T.duration>0;function L(lt){return Y?lt.transition():lt}var O=b.xaxis,D=b.yaxis,d=h[0].trace,U=d.line,B=t.select(o),X=m(B,"g","errorbars"),K=m(B,"g","lines"),H=m(B,"g","points"),te=m(B,"g","text");if(v.getComponentMethod("errorbars","plot")(F,X,b,T),d.visible!==!0)return;L(B).style("opacity",d.opacity);var ne,ie,re=d.fill.charAt(d.fill.length-1);re!=="x"&&re!=="y"&&(re="");var oe,W;re==="y"?(oe=1,W=D.c2p(0,!0)):re==="x"&&(oe=0,W=O.c2p(0,!0)),h[0][b.isRangePlot?"nodeRangePlot3":"node3"]=B;var ee="",de=[],he=d._prevtrace,I=null,R=null;he&&(ee=he._prevRevpath||"",ie=he._nextFill,de=he._ownPolygons,I=he._fillsegments,R=he._fillElement);var _,i,l="",k="",y,n,q,J,se,ye,we=[];d._polygons=[];var ke=[],ue=[],Me=u.noop;if(ne=d._ownFill,w.hasLines(d)||d.fill!=="none"){ie&&ie.datum(h),["hv","vh","hvh","vhv"].indexOf(U.shape)!==-1?(y=f.steps(U.shape),n=f.steps(U.shape.split("").reverse().join(""))):U.shape==="spline"?y=n=function(lt){var wt=lt[lt.length-1];return lt.length>1&&lt[0][0]===wt[0]&&lt[0][1]===wt[1]?f.smoothclosed(lt.slice(1),U.smoothing):f.smoothopen(lt,U.smoothing)}:y=n=function(lt){return"M"+lt.join("L")},q=function(lt){return n(lt.reverse())},ue=c(h,{xaxis:O,yaxis:D,trace:d,connectGaps:d.connectgaps,baseTolerance:Math.max(U.width||1,3)/4,shape:U.shape,backoff:U.backoff,simplify:U.simplify,fill:d.fill}),ke=new Array(ue.length);var Ne=0;for(z=0;z<ue.length;z++){var Ce,Le=ue[z];!Ce||!re?(Ce=Le.slice(),ke[Ne]=Ce,Ne++):Ce.push.apply(Ce,Le)}d._fillElement=null,d._fillExclusionElement=R,d._fillsegments=ke.slice(0,Ne),ke=d._fillsegments,ue.length&&(J=ue[0][0].slice(),se=ue[ue.length-1],ye=se[se.length-1].slice()),Me=function(lt){return function(wt){if(_=y(wt),i=q(wt),l?re?(l+="L"+_.substr(1),k=i+("L"+k.substr(1))):(l+="Z"+_,k=i+"Z"+k):(l=_,k=i),w.hasLines(d)){var ut=t.select(this);if(ut.datum(h),lt)L(ut.style("opacity",0).attr("d",_).call(f.lineGroupStyle)).style("opacity",1);else{var yt=L(ut);yt.attr("d",_),f.singleLineStyle(h,yt)}}}}}var $=K.selectAll(".js-line").data(ue);L($.exit()).style("opacity",0).remove(),$.each(Me(!1)),$.enter().append("path").classed("js-line",!0).style("vector-effect",C?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(Me(!0)),f.setClipUrl($,b.layerClipId,F);function ce(lt){L(lt).attr("d","M0,0Z")}var me=function(){var lt=new Array(ke.length);for(z=0;z<ke.length;z++)lt[z]=A(ke[z]);return lt},pe=function(lt){var wt,ut;if(!lt||lt.length===0)for(wt=new Array(ke.length),ut=0;ut<ke.length;ut++){var yt=ke[ut][0].slice(),et=ke[ut][ke[ut].length-1].slice();yt[oe]=et[oe]=W;var tt=[et,yt],ct=tt.concat(ke[ut]);wt[ut]=A(ct)}else{for(wt=new Array(lt.length-1+ke.length),ut=0;ut<lt.length-1;ut++)wt[ut]=A(lt[ut]);var le=lt[lt.length-1].slice();for(le.reverse(),ut=0;ut<ke.length;ut++)wt[lt.length-1+ut]=A(ke[ut].concat(le))}return wt};ue.length?(ne?(ne.datum(h),J&&ye&&(re?(J[oe]=ye[oe]=W,L(ne).attr("d","M"+ye+"L"+J+"L"+l.substr(1)).call(f.singleFillStyle,F),we=pe(null)):(L(ne).attr("d",l+"Z").call(f.singleFillStyle,F),we=me())),d._polygons=we,d._fillElement=ne):ie&&(d.fill.substr(0,6)==="tonext"&&l&&ee?(d.fill==="tonext"?(L(ie).attr("d",l+"Z"+ee+"Z").call(f.singleFillStyle,F),we=me(),d._polygons=we.concat(de)):(L(ie).attr("d",l+"L"+ee.substr(1)+"Z").call(f.singleFillStyle,F),we=pe(I),d._polygons=we),d._fillElement=ie):ce(ie)),d._prevRevpath=k):(ne?ce(ne):ie&&ce(ie),d._prevRevpath=null),d._ownPolygons=we;function xe(lt){return lt.filter(function(wt){return!wt.gap&&wt.vis})}function Oe(lt){return lt.filter(function(wt){return wt.vis})}function Xe(lt){return lt.filter(function(wt){return!wt.gap})}function $e(lt){return lt.id}function pt(lt){if(lt.ids)return $e}function rt(){return!1}function kt(lt,wt,ut){var yt,et,tt,ct=ut[0].trace,le=w.hasMarkers(ct),ge=w.hasText(ct),_e=pt(ct),Te=rt,He=rt;if(le||ge){var qe=g,Ze=ct.stackgroup,Ie=Ze&&F._fullLayout._scatterStackOpts[O._id+D._id][Ze].stackgaps==="infer zero";ct.marker.maxdisplayed||ct._needsCull?qe=Ie?Oe:xe:Ze&&!Ie&&(qe=Xe),le&&(Te=qe),ge&&(He=qe)}et=lt.selectAll("path.point"),yt=et.data(Te,_e);var Be=yt.enter().append("path").classed("point",!0);Y&&Be.call(f.pointStyle,ct,F).call(f.translatePoints,O,D).style("opacity",0).transition().style("opacity",1),yt.order();var ze;le&&(ze=f.makePointStyleFns(ct)),yt.each(function(st){var vt=t.select(this),xt=L(vt);tt=f.translatePoint(st,xt,O,D),tt?(f.singlePointStyle(st,xt,ct,ze,F),b.layerClipId&&f.hideOutsideRangePoint(st,xt,O,D,ct.xcalendar,ct.ycalendar),ct.customdata&&vt.classed("plotly-customdata",st.data!==null&&st.data!==void 0)):xt.remove()}),Y?yt.exit().transition().style("opacity",0).remove():yt.exit().remove(),et=wt.selectAll("g"),yt=et.data(He,_e),yt.enter().append("g").classed("textpoint",!0).append("text"),yt.order(),yt.each(function(st){var vt=t.select(this),xt=L(vt.select("text"));tt=f.translatePoint(st,xt,O,D),tt?b.layerClipId&&f.hideOutsideRangePoint(st,vt,O,D,ct.xcalendar,ct.ycalendar):vt.remove()}),yt.selectAll("text").call(f.textPointStyle,ct,F).each(function(st){var vt=O.c2p(st.x),xt=D.c2p(st.y);t.select(this).selectAll("tspan.line").each(function(){L(t.select(this)).attr({x:vt,y:xt})})}),yt.exit().remove()}H.datum(h),te.datum(h),kt(H,te,h);var Mt=d.cliponaxis===!1,Dt=Mt?null:b.layerClipId;f.setClipUrl(H,Dt,F),f.setClipUrl(te,Dt,F)}function S(F,x,b,h,a){var o=b.xaxis,T=b.yaxis,C=t.extent(u.simpleMap(o.range,o.r2c)),z=t.extent(u.simpleMap(T.range,T.r2c)),Y=h[0].trace;if(w.hasMarkers(Y)){var L=Y.marker.maxdisplayed;if(L!==0){var O=h.filter(function(B){return B.x>=C[0]&&B.x<=C[1]&&B.y>=z[0]&&B.y<=z[1]}),D=Math.ceil(O.length/L),d=0;a.forEach(function(B,X){var K=B[0].trace;w.hasMarkers(K)&&K.marker.maxdisplayed>0&&X<x&&d++});var U=Math.round(d*D/3+Math.floor(d/3)*D/7.1);h.forEach(function(B){delete B.vis}),O.forEach(function(B,X){Math.round((X+U)%D)===0&&(B.vis=!0)})}}}}}),Xf=Ke({"src/traces/scatter/marker_colorbar.js"(M,N){"use strict";N.exports={container:"marker",min:"cmin",max:"cmax"}}}),Vf=Ke({"src/traces/scatter/format_labels.js"(M,N){"use strict";var t=An();N.exports=function(u,m,g){var f={},w={_fullLayout:g},c=t.getFromTrace(w,m,"x"),r=t.getFromTrace(w,m,"y"),A=u.orig_x;A===void 0&&(A=u.x);var p=u.orig_y;return p===void 0&&(p=u.y),f.xLabel=t.tickText(c,c.c2l(A),!0).text,f.yLabel=t.tickText(r,r.c2l(p),!0).text,f}}}),sl=Ke({"src/traces/scatter/style.js"(M,N){"use strict";var t=Yr(),v=un(),u=Er();function m(c){var r=t.select(c).selectAll("g.trace.scatter");r.style("opacity",function(A){return A[0].trace.opacity}),r.selectAll("g.points").each(function(A){var p=t.select(this),E=A.trace||A[0].trace;g(p,E,c)}),r.selectAll("g.text").each(function(A){var p=t.select(this),E=A.trace||A[0].trace;f(p,E,c)}),r.selectAll("g.trace path.js-line").call(v.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(v.fillGroupStyle,c,!1),u.getComponentMethod("errorbars","style")(r)}function g(c,r,A){v.pointStyle(c.selectAll("path.point"),r,A)}function f(c,r,A){v.textPointStyle(c.selectAll("text"),r,A)}function w(c,r,A){var p=r[0].trace;p.selectedpoints?(v.selectedPointStyle(A.selectAll("path.point"),p),v.selectedTextStyle(A.selectAll("text"),p)):(g(A,p,c),f(A,p,c))}N.exports={style:m,stylePoints:g,styleText:f,styleOnSelect:w}}}),Yf=Ke({"src/traces/scatter/get_trace_color.js"(M,N){"use strict";var t=$r(),v=Gn();N.exports=function(m,g){var f,w;if(m.mode==="lines")return f=m.line.color,f&&t.opacity(f)?f:m.fillcolor;if(m.mode==="none")return m.fill?m.fillcolor:"";var c=g.mcc||(m.marker||{}).color,r=g.mlcc||((m.marker||{}).line||{}).color;return w=c&&t.opacity(c)?c:r&&t.opacity(r)&&(g.mlw||((m.marker||{}).line||{}).width)?r:"",w?t.opacity(w)<.3?t.addOpacity(w,.3):w:(f=(m.line||{}).color,f&&t.opacity(f)&&v.hasLines(m)&&m.line.width?f:m.fillcolor)}}}),Zf=Ke({"src/traces/scatter/hover.js"(M,N){"use strict";var t=Zt(),v=Ma(),u=Er(),m=Yf(),g=$r(),f=t.fillText;N.exports=function(c,r,A,p){var E=c.cd,S=E[0].trace,F=c.xa,x=c.ya,b=F.c2p(r),h=x.c2p(A),a=[b,h],o=S.hoveron||"",T=S.mode.indexOf("markers")!==-1?3:.5,C=!!S.xperiodalignment,z=!!S.yperiodalignment;if(o.indexOf("points")!==-1){var Y=function(de){if(C){var he=F.c2p(de.xStart),I=F.c2p(de.xEnd);return b>=Math.min(he,I)&&b<=Math.max(he,I)?0:1/0}var R=Math.max(3,de.mrc||0),_=1-1/R,i=Math.abs(F.c2p(de.x)-b);return i<R?_*i/R:i-R+_},L=function(de){if(z){var he=x.c2p(de.yStart),I=x.c2p(de.yEnd);return h>=Math.min(he,I)&&h<=Math.max(he,I)?0:1/0}var R=Math.max(3,de.mrc||0),_=1-1/R,i=Math.abs(x.c2p(de.y)-h);return i<R?_*i/R:i-R+_},O=function(de){var he=Math.max(T,de.mrc||0),I=F.c2p(de.x)-b,R=x.c2p(de.y)-h;return Math.max(Math.sqrt(I*I+R*R)-he,1-T/he)},D=v.getDistanceFunction(p,Y,L,O);if(v.getClosest(E,D,c),c.index!==!1){var d=E[c.index],U=F.c2p(d.x,!0),B=x.c2p(d.y,!0),X=d.mrc||1;c.index=d.i;var K=E[0].t.orientation,H=K&&(d.sNorm||d.s),te=K==="h"?H:d.orig_x!==void 0?d.orig_x:d.x,ne=K==="v"?H:d.orig_y!==void 0?d.orig_y:d.y;return t.extendFlat(c,{color:m(S,d),x0:U-X,x1:U+X,xLabelVal:te,y0:B-X,y1:B+X,yLabelVal:ne,spikeDistance:O(d),hovertemplate:S.hovertemplate}),f(d,S,c),u.getComponentMethod("errorbars","hoverInfo")(d,S,c),[c]}}function ie(de){if(!de)return!1;var he=de.node();try{var I=new DOMPoint(a[0],a[1]);return he.isPointInFill(I)}catch{var R=he.ownerSVGElement.createSVGPoint();return R.x=a[0],R.y=a[1],he.isPointInFill(R)}}function re(de){var he,I=[],R=1/0,_=-1/0,i=1/0,l=-1/0,k;for(he=0;he<de.length;he++){var y=de[he];y.contains(a)&&(I.push(y),i=Math.min(i,y.ymin),l=Math.max(l,y.ymax))}if(I.length===0)return null;i=Math.max(i,0),l=Math.min(l,x._length),k=(i+l)/2;var n,q,J,se,ye,we,ke;for(he=0;he<I.length;he++)for(q=I[he].pts,n=1;n<q.length;n++)we=q[n-1][1],ke=q[n][1],we>k!=ke>=k&&(se=q[n-1][0],ye=q[n][0],ke-we&&(J=se+(ye-se)*(k-we)/(ke-we),R=Math.min(R,J),_=Math.max(_,J)));return R=Math.max(R,0),_=Math.min(_,F._length),{x0:R,x1:_,y0:k,y1:k}}if(o.indexOf("fills")!==-1&&S._fillElement){var oe=ie(S._fillElement)&&!ie(S._fillExclusionElement);if(oe){var W=re(S._polygons);W===null&&(W={x0:a[0],x1:a[0],y0:a[1],y1:a[1]});var ee=g.defaultLine;return g.opacity(S.fillcolor)?ee=S.fillcolor:g.opacity((S.line||{}).color)&&(ee=S.line.color),t.extendFlat(c,{distance:c.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:ee,hovertemplate:!1}),delete c.index,S.text&&!t.isArrayOrTypedArray(S.text)?c.text=String(S.text):c.text=S.name,[c]}}}}}),Wf=Ke({"src/traces/scatter/select.js"(M,N){"use strict";var t=Gn();N.exports=function(u,m){var g=u.cd,f=u.xaxis,w=u.yaxis,c=[],r=g[0].trace,A,p,E,S,F=!t.hasMarkers(r)&&!t.hasText(r);if(F)return[];if(m===!1)for(A=0;A<g.length;A++)g[A].selected=0;else for(A=0;A<g.length;A++)p=g[A],E=f.c2p(p.x),S=w.c2p(p.y),p.i!==null&&m.contains([E,S],!1,A,u)?(c.push({pointNumber:p.i,x:f.c2d(p.x),y:w.c2d(p.y)}),p.selected=1):p.selected=0;return c}}}),$f=Ke({"src/plots/cartesian/attributes.js"(M,N){"use strict";N.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}}),Qf=Ke({"src/plots/cartesian/type_defaults.js"(M,N){"use strict";var t=Er().traceIs,v=Go();N.exports=function(c,r,A,p){A("autotypenumbers",p.autotypenumbersDflt);var E=A("type",(p.splomStash||{}).type);E==="-"&&(u(r,p.data),r.type==="-"?r.type="linear":c.type=r.type)};function u(w,c){if(w.type==="-"){var r=w._id,A=r.charAt(0),p;r.indexOf("scene")!==-1&&(r=A);var E=m(c,r,A);if(E){if(E.type==="histogram"&&A==={v:"y",h:"x"}[E.orientation||"v"]){w.type="linear";return}var S=A+"calendar",F=E[S],x={noMultiCategory:!t(E,"cartesian")||t(E,"noMultiCategory")};if(E.type==="box"&&E._hasPreCompStats&&A==={h:"x",v:"y"}[E.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=w.autotypenumbers,f(E,A)){var b=g(E),h=[];for(p=0;p<c.length;p++){var a=c[p];!t(a,"box-violin")||(a[A+"axis"]||A)!==r||(a[b]!==void 0?h.push(a[b][0]):a.name!==void 0?h.push(a.name):h.push("text"),a[S]!==F&&(F=void 0))}w.type=v(h,F,x)}else if(E.type==="splom"){var o=E.dimensions,T=o[E._axesDim[r]];T.visible&&(w.type=v(T.values,F,x))}else w.type=v(E[A]||[E[A+"0"]],F,x)}}}function m(w,c,r){for(var A=0;A<w.length;A++){var p=w[A];if(p.type==="splom"&&p._length>0&&(p["_"+r+"axes"]||{})[c])return p;if((p[r+"axis"]||r)===c){if(f(p,r))return p;if((p[r]||[]).length||p[r+"0"])return p}}}function g(w){return{v:"x",h:"y"}[w.orientation||"v"]}function f(w,c){var r=g(w),A=t(w,"box-violin"),p=t(w._fullInput||{},"candlestick");return A&&!p&&c===r&&w[r]===void 0&&w[r+"0"]===void 0}}}),Jf=Ke({"src/plots/cartesian/category_order_defaults.js"(M,N){"use strict";var t=qn().isTypedArraySpec;function v(u,m){var g=m.dataAttr||u._id.charAt(0),f={},w,c,r;if(m.axData)w=m.axData;else for(w=[],c=0;c<m.data.length;c++){var A=m.data[c];A[g+"axis"]===u._id&&w.push(A)}for(c=0;c<w.length;c++){var p=w[c][g];for(r=0;r<p.length;r++){var E=p[r];E!=null&&(f[E]=1)}}return Object.keys(f)}N.exports=function(m,g,f,w){if(g.type==="category"){var c=m.categoryarray,r=Array.isArray(c)&&c.length>0||t(c),A;r&&(A="array");var p=f("categoryorder",A),E;p==="array"&&(E=f("categoryarray")),!r&&p==="array"&&(p=g.categoryorder="trace"),p==="trace"?g._initialCategories=[]:p==="array"?g._initialCategories=E.slice():(E=v(g,w).sort(),p==="category ascending"?g._initialCategories=E:p==="category descending"&&(g._initialCategories=E.reverse()))}}}}),Kf=Ke({"src/plots/cartesian/line_grid_defaults.js"(M,N){"use strict";var t=Un().mix,v=sa(),u=Zt();N.exports=function(g,f,w,c){c=c||{};var r=c.dfltColor;function A(d,U){return u.coerce2(g,f,c.attributes,d,U)}var p=A("linecolor",r),E=A("linewidth"),S=w("showline",c.showLine||!!p||!!E);S||(delete f.linecolor,delete f.linewidth);var F=t(r,c.bgColor,c.blend||v.lightFraction).toRgbString(),x=A("gridcolor",F),b=A("gridwidth"),h=A("griddash"),a=w("showgrid",c.showGrid||!!x||!!b||!!h);if(a||(delete f.gridcolor,delete f.gridwidth,delete f.griddash),c.hasMinor){var o=t(f.gridcolor,c.bgColor,67).toRgbString(),T=A("minor.gridcolor",o),C=A("minor.gridwidth",f.gridwidth||1),z=A("minor.griddash",f.griddash||"solid"),Y=w("minor.showgrid",!!T||!!C||!!z);Y||(delete f.minor.gridcolor,delete f.minor.gridwidth,delete f.minor.griddash)}if(!c.noZeroLine){var L=A("zerolinecolor",r),O=A("zerolinewidth"),D=w("zeroline",c.showGrid||!!L||!!O);D||(delete f.zerolinecolor,delete f.zerolinewidth)}}}}),ec=Ke({"src/plots/cartesian/axis_defaults.js"(M,N){"use strict";var t=Zr(),v=Er(),u=Zt(),m=Pn(),g=Bi(),f=fa(),w=Jf(),c=Kf(),r=Uo(),A=Gi(),p=xn().WEEKDAY_PATTERN,E=xn().HOUR_PATTERN;N.exports=function(h,a,o,T,C){var z=T.letter,Y=T.font||{},L=T.splomStash||{},O=o("visible",!T.visibleDflt),D=a._template||{},d=a.type||D.type||"-",U;if(d==="date"){var B=v.getComponentMethod("calendars","handleDefaults");B(h,a,"calendar",T.calendar),T.noTicklabelmode||(U=o("ticklabelmode"))}!T.noTicklabelindex&&(d==="date"||d==="linear")&&o("ticklabelindex");var X="";(!T.noTicklabelposition||d==="multicategory")&&(X=u.coerce(h,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:z==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),T.noTicklabeloverflow||o("ticklabeloverflow",X.indexOf("inside")!==-1?"hide past domain":d==="category"||d==="multicategory"?"allow":"hide past div"),A(a,C),r(h,a,o,T),w(h,a,o,T),d!=="category"&&!T.noHover&&o("hoverformat");var K=o("color"),H=K!==f.color.dflt?K:Y.color,te=L.label||C._dfltTitle[z];if(handlePrefixSuffixDefaults(h,a,o,d,T),!O)return a;o("title.text",te),u.coerceFont(o,"title.font",Y,{overrideDflt:{size:u.bigFont(Y.size),color:H}});var ne=T.hasMinor;if(ne&&m.newContainer(a,"minor"),ne){var ie=T.isMinor;T.isMinor=!0,T.isMinor=ie}c(h,a,o,{dfltColor:K,bgColor:T.bgColor,showGrid:T.showGrid,hasMinor:ne,attributes:f}),ne&&!a.minor.ticks&&!a.minor.showgrid&&delete a.minor,(a.showline||a.ticks)&&o("mirror");var re=d==="multicategory";if(!T.noTickson&&(d==="category"||re)&&(a.ticks||a.showgrid)){var oe;re&&(oe="boundaries");var W=o("tickson",oe);W==="boundaries"&&delete a.ticklabelposition}if(re){var ee=o("showdividers");ee&&(o("dividercolor"),o("dividerwidth"))}if(d==="date")if(g(h,a,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:S}),!a.rangebreaks.length)delete a.rangebreaks;else{for(var de=0;de<a.rangebreaks.length;de++)if(a.rangebreaks[de].pattern===p){a._hasDayOfWeekBreaks=!0;break}if(A(a,C),C._has("scattergl")||C._has("splom"))for(var he=0;he<T.data.length;he++){var I=T.data[he];(I.type==="scattergl"||I.type==="splom")&&(I.visible=!1,u.warn(I.type+" traces do not work on axes with rangebreaks. Setting trace "+I.index+" to `visible: false`."))}}return a};function S(b,h,a){function o(U,B){return u.coerce(b,h,f.rangebreaks,U,B)}var T=o("enabled");if(T){var C=o("bounds");if(C&&C.length>=2){var z="",Y,L;if(C.length===2){for(Y=0;Y<2;Y++)if(L=x(C[Y]),L){z=p;break}}var O=o("pattern",z);if(O===p)for(Y=0;Y<2;Y++)L=x(C[Y]),L&&(h.bounds[Y]=C[Y]=L-1);if(O)for(Y=0;Y<2;Y++)switch(L=C[Y],O){case p:if(!t(L)){h.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){h.enabled=!1;return}h.bounds[Y]=C[Y]=L;break;case E:if(!t(L)){h.enabled=!1;return}if(L=+L,L<0||L>24){h.enabled=!1;return}h.bounds[Y]=C[Y]=L;break}if(a.autorange===!1){var D=a.range;if(D[0]<D[1]){if(C[0]<D[0]&&C[1]>D[1]){h.enabled=!1;return}}else if(C[0]>D[0]&&C[1]<D[1]){h.enabled=!1;return}}}else{var d=o("values");if(d&&d.length)o("dvalue");else{h.enabled=!1;return}}}}var F={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function x(b){if(typeof b=="string")return F[b.substr(0,3).toLowerCase()]}}}),tc=Ke({"src/plots/cartesian/position_defaults.js"(M,N){"use strict";var t=Zr(),v=Zt();N.exports=function(m,g,f,w){var c=w.counterAxes||[],r=w.overlayableAxes||[],A=w.letter,p=w.grid,E=w.overlayingDomain,S,F,x,b,h,a;p&&(F=p._domains[A][p._axisMap[g._id]],S=p._anchors[g._id],F&&(x=p[A+"side"].split(" ")[0],b=p.domain[A][x==="right"||x==="top"?1:0])),F=F||[0,1],S=S||(t(m.position)?"free":c[0]||"free"),x=x||(A==="x"?"bottom":"left"),b=b||0,h=0,a=!1;var o=v.coerce(m,g,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:S}},"anchor"),T=v.coerce(m,g,{side:{valType:"enumerated",values:A==="x"?["bottom","top"]:["left","right"],dflt:x}},"side");if(o==="free"){if(A==="y"){var C=f("autoshift");C&&(b=T==="left"?E[0]:E[1],a=g.automargin?g.automargin:!0,h=T==="left"?-3:3),f("shift",h)}f("position",b)}f("automargin",a);var z=!1;if(r.length&&(z=v.coerce(m,g,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!z){var Y=f("domain",F);Y[0]>Y[1]-1/4096&&(g.domain=F),v.noneOrAll(m.domain,g.domain,F),g.tickmode==="sync"&&(g.tickmode="auto")}return f("layer"),g}}}),rc=Ke({"src/plots/cartesian/layout_defaults.js"(M,N){"use strict";var t=Zt(),v=$r(),u=Ta().isUnifiedHover,m=$o(),g=Pn(),f=xa(),w=fa(),c=Qf(),r=ec(),A=Va(),p=tc(),E=Bn(),S=E.id2name,F=E.name2id,x=xn().AX_ID_PATTERN,b=Er(),h=b.traceIs,a=b.getComponentMethod;function o(T,C,z){Array.isArray(T[C])?T[C].push(z):T[C]=[z]}N.exports=function(C,z,Y){var L=z.autotypenumbers,O={},D={},d={},U={},B={},X={},K={},H={},te={},ne={},ie,re;for(ie=0;ie<Y.length;ie++){var oe=Y[ie];if(h(oe,"cartesian")){var W;if(oe.xaxis)W=S(oe.xaxis),o(O,W,oe);else if(oe.xaxes)for(re=0;re<oe.xaxes.length;re++)o(O,S(oe.xaxes[re]),oe);var ee;if(oe.yaxis)ee=S(oe.yaxis),o(O,ee,oe);else if(oe.yaxes)for(re=0;re<oe.yaxes.length;re++)o(O,S(oe.yaxes[re]),oe);if(oe.type==="funnel"?oe.orientation==="h"?(W&&(D[W]=!0),ee&&(K[ee]=!0)):ee&&(d[ee]=!0):oe.type==="image"?(ee&&(H[ee]=!0),W&&(H[W]=!0)):(ee&&(B[ee]=!0,X[ee]=!0),(!h(oe,"carpet")||oe.type==="carpet"&&!oe._cheater)&&W&&(U[W]=!0)),oe.type==="carpet"&&oe._cheater&&W&&(D[W]=!0),h(oe,"2dMap")&&(te[W]=!0,te[ee]=!0),h(oe,"oriented")){var de=oe.orientation==="h"?ee:W;ne[de]=!0}}}var he=z._subplots,I=he.xaxis,R=he.yaxis,_=t.simpleMap(I,S),i=t.simpleMap(R,S),l=_.concat(i),k=v.background;I.length&&R.length&&(k=t.coerce(C,z,f,"plot_bgcolor"));var y=v.combine(k,z.paper_bgcolor),n,q,J,se,ye;function we(){var Te=O[n]||[];ye._traceIndices=Te.map(function(He){return He.index}),ye._annIndices=[],ye._shapeIndices=[],ye._selectionIndices=[],ye._imgIndices=[],ye._subplotsWith=[],ye._counterAxes=[],ye._name=ye._attr=n,ye._id=q}function ke(Te,He){return t.coerce(se,ye,w,Te,He)}function ue(Te,He){return t.coerce2(se,ye,w,Te,He)}function Me(Te){return Te==="x"?R:I}function Ne(Te,He){for(var qe=Te==="x"?_:i,Ze=[],Ie=0;Ie<qe.length;Ie++){var Be=qe[Ie];Be!==He&&!(C[Be]||{}).overlaying&&Ze.push(F(Be))}return Ze}var Ce={x:Me("x"),y:Me("y")},Le=Ce.x.concat(Ce.y),$={},ce=[];function me(){var Te=se.matches;x.test(Te)&&Le.indexOf(Te)===-1&&($[Te]=se.type,ce=Object.keys($))}var pe=m(C,z),xe=u(pe);for(ie=0;ie<l.length;ie++){n=l[ie],q=F(n),J=n.charAt(0),t.isPlainObject(C[n])||(C[n]={}),se=C[n],ye=g.newContainer(z,n,J+"axis"),we();var Oe=J==="x"&&!U[n]&&D[n]||J==="y"&&!B[n]&&d[n],Xe=J==="y"&&(!X[n]&&K[n]||H[n]),$e={hasMinor:!0,letter:J,font:z.font,outerTicks:te[n],showGrid:!ne[n],data:O[n]||[],bgColor:y,calendar:z.calendar,automargin:!0,visibleDflt:Oe,reverseDflt:Xe,autotypenumbersDflt:L,splomStash:((z._splomAxes||{})[J]||{})[q],noAutotickangles:J==="y"};ke("uirevision",z.uirevision),c(se,ye,ke,$e),r(se,ye,ke,$e,z);var pt=xe&&J===pe.charAt(0),rt=ue("spikecolor",xe?ye.color:void 0),kt=ue("spikethickness",xe?1.5:void 0),Mt=ue("spikedash",xe?"dot":void 0),Dt=ue("spikemode",xe?"across":void 0),lt=ue("spikesnap"),wt=ke("showspikes",!!pt||!!rt||!!kt||!!Mt||!!Dt||!!lt);wt||(delete ye.spikecolor,delete ye.spikethickness,delete ye.spikedash,delete ye.spikemode,delete ye.spikesnap);var ut=S(se.overlaying),yt=[0,1];if(z[ut]!==void 0){var et=S(z[ut].anchor);z[et]!==void 0&&(yt=z[et].domain)}p(se,ye,ke,{letter:J,counterAxes:Ce[J],overlayableAxes:Ne(J,n),grid:z.grid,overlayingDomain:yt}),ke("title.standoff"),me(),ye._input=se}for(ie=0;ie<ce.length;){q=ce[ie++],n=S(q),J=n.charAt(0),t.isPlainObject(C[n])||(C[n]={}),se=C[n],ye=g.newContainer(z,n,J+"axis"),we();var tt={letter:J,font:z.font,outerTicks:te[n],showGrid:!ne[n],data:[],bgColor:y,calendar:z.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((z._splomAxes||{})[J]||{})[q]};ke("uirevision",z.uirevision),ye.type=$[q]||"linear",r(se,ye,ke,tt,z),p(se,ye,ke,{letter:J,counterAxes:Ce[J],overlayableAxes:Ne(J,n),grid:z.grid}),ke("fixedrange"),me(),ye._input=se}var ct=a("rangeslider","handleDefaults"),le=a("rangeselector","handleDefaults");for(ie=0;ie<_.length;ie++)n=_[ie],se=C[n],ye=z[n],ct(C,z,n),ye.type==="date"&&le(se,ye,z,i,ye.calendar),ke("fixedrange");for(ie=0;ie<i.length;ie++){n=i[ie],se=C[n],ye=z[n];var ge=z[S(ye.anchor)],_e=a("rangeslider","isVisible")(ge);ke("fixedrange",_e)}A.handleDefaults(C,z,{axIds:Le.concat(ce).sort(E.idSort),axHasImage:H})}}}),nc=Ke({"src/plots/cartesian/transition_axes.js"(M,N){"use strict";var t=Yr(),v=Er(),u=Zt(),m=un(),g=An();N.exports=function(w,c,r,A){var p=w._fullLayout;if(c.length===0){g.redrawComponents(w);return}function E(z){var Y=z.xaxis,L=z.yaxis;p._defs.select("#"+z.clipId+"> rect").call(m.setTranslate,0,0).call(m.setScale,1,1),z.plot.call(m.setTranslate,Y._offset,L._offset).call(m.setScale,1,1);var O=z.plot.selectAll(".scatterlayer .trace");O.selectAll(".point").call(m.setPointGroupScale,1,1),O.selectAll(".textpoint").call(m.setTextPointsScale,1,1),O.call(m.hideOutsideRangePoints,z)}function S(z,Y){var L=z.plotinfo,O=L.xaxis,D=L.yaxis,d=O._length,U=D._length,B=!!z.xr1,X=!!z.yr1,K=[];if(B){var H=u.simpleMap(z.xr0,O.r2l),te=u.simpleMap(z.xr1,O.r2l),ne=H[1]-H[0],ie=te[1]-te[0];K[0]=(H[0]*(1-Y)+Y*te[0]-H[0])/(H[1]-H[0])*d,K[2]=d*(1-Y+Y*ie/ne),O.range[0]=O.l2r(H[0]*(1-Y)+Y*te[0]),O.range[1]=O.l2r(H[1]*(1-Y)+Y*te[1])}else K[0]=0,K[2]=d;if(X){var re=u.simpleMap(z.yr0,D.r2l),oe=u.simpleMap(z.yr1,D.r2l),W=re[1]-re[0],ee=oe[1]-oe[0];K[1]=(re[1]*(1-Y)+Y*oe[1]-re[1])/(re[0]-re[1])*U,K[3]=U*(1-Y+Y*ee/W),D.range[0]=O.l2r(re[0]*(1-Y)+Y*oe[0]),D.range[1]=D.l2r(re[1]*(1-Y)+Y*oe[1])}else K[1]=0,K[3]=U;g.drawOne(w,O,{skipTitle:!0}),g.drawOne(w,D,{skipTitle:!0}),g.redrawComponents(w,[O._id,D._id]);var de=B?d/K[2]:1,he=X?U/K[3]:1,I=B?K[0]:0,R=X?K[1]:0,_=B?K[0]/K[2]*d:0,i=X?K[1]/K[3]*U:0,l=O._offset-_,k=D._offset-i;L.clipRect.call(m.setTranslate,I,R).call(m.setScale,1/de,1/he),L.plot.call(m.setTranslate,l,k).call(m.setScale,de,he),m.setPointGroupScale(L.zoomScalePts,1/de,1/he),m.setTextPointsScale(L.zoomScaleTxt,1/de,1/he)}var F;A&&(F=A());function x(){for(var z={},Y=0;Y<c.length;Y++){var L=c[Y],O=L.plotinfo.xaxis,D=L.plotinfo.yaxis;L.xr1&&(z[O._name+".range"]=L.xr1.slice()),L.yr1&&(z[D._name+".range"]=L.yr1.slice())}return F&&F(),v.call("relayout",w,z).then(function(){for(var d=0;d<c.length;d++)E(c[d].plotinfo)})}function b(){for(var z={},Y=0;Y<c.length;Y++){var L=c[Y],O=L.plotinfo.xaxis,D=L.plotinfo.yaxis;L.xr0&&(z[O._name+".range"]=L.xr0.slice()),L.yr0&&(z[D._name+".range"]=L.yr0.slice())}return v.call("relayout",w,z).then(function(){for(var d=0;d<c.length;d++)E(c[d].plotinfo)})}var h,a,o,T=t.ease(r.easing);w._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,b()});function C(){a=Date.now();for(var z=Math.min(1,(a-h)/r.duration),Y=T(z),L=0;L<c.length;L++)S(c[L],Y);a-h>r.duration?(x(),o=window.cancelAnimationFrame(C)):o=window.requestAnimationFrame(C)}return h=Date.now(),o=window.requestAnimationFrame(C),Promise.resolve()}}}),ac=Ke({"src/plots/cartesian/index.js"(M){"use strict";var N=Yr(),t=Er(),v=Zt(),u=En(),m=un(),g=Hi().getModuleCalcData,f=Bn(),w=xn(),c=Aa(),r=v.ensureSingle;function A(h,a,o){return v.ensureSingle(h,a,o,function(T){T.datum(o)})}var p=w.zindexSeparator;M.name="cartesian",M.attr=["xaxis","yaxis"],M.idRoot=["x","y"],M.idRegex=w.idRegex,M.attrRegex=w.attrRegex,M.attributes=$f(),M.layoutAttributes=fa(),M.supplyLayoutDefaults=rc(),M.transitionAxes=nc(),M.finalizeSubplots=function(h,a){var o=a._subplots,T=o.xaxis,C=o.yaxis,z=o.cartesian,Y=z,L={},O={},D,d,U;for(D=0;D<Y.length;D++){var B=Y[D].split("y");L[B[0]]=1,O["y"+B[1]]=1}for(D=0;D<T.length;D++)d=T[D],L[d]||(U=(h[f.id2name(d)]||{}).anchor,w.idRegex.y.test(U)||(U="y"),z.push(d+U),Y.push(d+U),O[U]||(O[U]=1,v.pushUnique(C,U)));for(D=0;D<C.length;D++)U=C[D],O[U]||(d=(h[f.id2name(U)]||{}).anchor,w.idRegex.x.test(d)||(d="x"),z.push(d+U),Y.push(d+U),L[d]||(L[d]=1,v.pushUnique(T,d)));if(!Y.length){d="",U="";for(var X in h)if(w.attrRegex.test(X)){var K=X.charAt(0);K==="x"?(!d||+X.substr(5)<+d.substr(5))&&(d=X):(!U||+X.substr(5)<+U.substr(5))&&(U=X)}d=d?f.name2id(d):"x",U=U?f.name2id(U):"y",T.push(d),C.push(U),z.push(d+U)}},M.plot=function(h,a,o,T){var C=h._fullLayout,z=C._subplots.cartesian,Y=h.calcdata,L;if(!Array.isArray(a))for(a=[],L=0;L<Y.length;L++)a.push(L);for(var O=C._zindices,D=0;D<O.length;D++){var d=O[D];for(L=0;L<z.length;L++){var U=z[L],B=C._plots[U];if(D>0){var X=B.id;if(X.indexOf(p)!==-1)continue;X+=p+(D+1),B=v.extendFlat({},B,{id:X,plot:C._cartesianlayer.selectAll(".subplot").select("."+X)})}for(var K=[],H,te=0;te<Y.length;te++){var ne=Y[te],ie=ne[0].trace;d===(ie.zorder||0)&&ie.xaxis+ie.yaxis===U&&((a.indexOf(ie.index)!==-1||ie.carpet)&&(H&&H[0].trace.xaxis+H[0].trace.yaxis===U&&["tonextx","tonexty","tonext"].indexOf(ie.fill)!==-1&&K.indexOf(H)===-1&&K.push(H),K.push(ne)),H=ne)}E(h,B,K,o,T)}}};function E(h,a,o,T,C){for(var z=w.traceLayerClasses,Y=h._fullLayout,L=Y._zindices,O=Y._modules,D,d,U,B=[],X=[],K=0;K<L.length;K++)for(var H=L[K],te=0;te<O.length;te++){D=O[te];var ne=D.name,ie=t.modules[ne].categories;if(ie.svg){var re=D.layerName||ne+"layer",oe=re+(K?Number(K)+1:""),W=D.plot;d=g(o,W,H),U=d[0],o=d[1],U.length&&B.push({i:z.indexOf(re),zindex:K,className:oe,plotMethod:W,cdModule:U}),ie.zoomScale&&X.push("."+oe)}}B.sort(function(he,I){return(he.zindex||0)-(I.zindex||0)||he.i-I.i});var ee=a.plot.selectAll("g.mlayer").data(B,function(he){return he.className});if(ee.enter().append("g").attr("class",function(he){return he.className}).classed("mlayer",!0).classed("rangeplot",a.isRangePlot),ee.exit().remove(),ee.order(),ee.each(function(he){var I=N.select(this),R=he.className;he.plotMethod(h,a,he.cdModule,I,T,C),w.clipOnAxisFalseQuery.indexOf("."+R)===-1&&m.setClipUrl(I,a.layerClipId,h)}),Y._has("scattergl")&&(D=t.getModule("scattergl"),U=g(o,D)[0],D.plot(h,a,U)),!h._context.staticPlot&&(a._hasClipOnAxisFalse&&(a.clipOnAxisFalseTraces=a.plot.selectAll(w.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),X.length)){var de=a.plot.selectAll(X.join(",")).selectAll(".trace");a.zoomScalePts=de.selectAll("path.point"),a.zoomScaleTxt=de.selectAll(".textpoint")}}M.clean=function(h,a,o,T){var C=T._plots||{},z=a._plots||{},Y=T._subplots||{},L,O,D;if(T._hasOnlyLargeSploms&&!a._hasOnlyLargeSploms)for(D in C)L=C[D],L.plotgroup&&L.plotgroup.remove();var d=T._has&&T._has("gl"),U=a._has&&a._has("gl");if(d&&!U)for(D in C)L=C[D],L._scene&&L._scene.destroy();if(Y.xaxis&&Y.yaxis){var B=f.listIds({_fullLayout:T});for(O=0;O<B.length;O++){var X=B[O];a[f.id2name(X)]||T._infolayer.selectAll(".g-"+X+"title").remove()}}var K=T._has&&T._has("cartesian"),H=a._has&&a._has("cartesian");if(K&&!H)x(T._cartesianlayer.selectAll(".subplot"),T),T._defs.selectAll(".axesclip").remove(),delete T._axisConstraintGroups,delete T._axisMatchGroups;else if(Y.cartesian)for(O=0;O<Y.cartesian.length;O++){var te=Y.cartesian[O];if(te.indexOf(p)===-1&&!z[te]){var ne="."+te+",."+te+"-x,."+te+"-y";T._cartesianlayer.selectAll(ne).remove(),b(te,T)}}},M.drawFramework=function(h){var a=h._fullLayout,o=h.calcdata,T,C={};for(T=0;T<o.length;T++){var z=o[T][0],Y=z.trace,L=Y.zorder||0;C[L]||(C[L]=[]),C[L].push(z)}var O=Object.keys(C).map(Number).sort(v.sorterAsc);O.length||(O=[0]),a._zindices=O;var D=S(h),d=D.length,U=[];for(T=0;T<d;T++)U[T]=D[T].slice();for(var B=1;B<O.length;B++){var X=[];for(T=0;T<d;T++)X[T]=D[T].slice(),X[T][0]+=p+(B+1);U=U.concat(X)}var K=a._cartesianlayer.selectAll(".subplot").data(U,String);K.enter().append("g").attr("class",function(H){return"subplot "+H[0]}),K.order(),K.exit().call(x,a),K.each(function(H){var te=H[0],ne=te.indexOf(p),ie=ne!==-1,re=ie?te.slice(0,ne):te,oe=a._plots[te];oe||(oe=v.extendFlat({},a._plots[re]),oe&&(oe.id=te,a._plots[te]=oe,a._subplots.cartesian.push(te))),oe&&(oe.plotgroup=N.select(this),F(h,oe),ie||(oe.draglayer=r(a._draggers,"g",te)))})},M.rangePlot=function(h,a,o){F(h,a),E(h,a,o),u.style(h)};function S(h){var a=h._fullLayout,o=a._zindices.length,T=a._subplots.cartesian,C=T.length,z,Y,L,O,D,d,U=[],B=[];for(z=0;z<C;z++){L=T[z],O=a._plots[L],D=O.xaxis,d=O.yaxis;var X=D._mainAxis,K=d._mainAxis,H=X._id+K._id,te=a._plots[H];O.overlays=[],H!==L&&te?(O.mainplot=H,O.mainplotinfo=te,B.push(L)):(O.mainplot=void 0,O.mainplotinfo=void 0,U.push(L))}for(z=0;z<B.length;z++)L=B[z],O=a._plots[L],O.mainplotinfo.overlays.push(O);var ne=U.concat(B),ie=[];for(z=0;z<C;z++){L=ne[z],O=a._plots[L],D=O.xaxis,d=O.yaxis;for(var re=[],oe=1;oe<=o;oe++){var W="";for(oe>1&&(W+=p+oe),re.push(L+W),Y=0;Y<O.overlays.length;Y++)re.push(O.overlays[Y].id+W)}re=re.concat([D.layer,d.layer,D.overlaying||"",d.overlaying||""]),ie.push(re)}return ie}function F(h,a){var o=h._fullLayout,T=a.plotgroup,C=a.id,z=C.indexOf(p),Y=z!==-1,L=w.layerValue2layerClass[a.xaxis.layer],O=w.layerValue2layerClass[a.yaxis.layer],D=o._hasOnlyLargeSploms,d=o._zindices.length>1,U=a.mainplotinfo;if(!a.mainplot||d)if(D)a.xlines=r(T,"path","xlines-above"),a.ylines=r(T,"path","ylines-above"),a.xaxislayer=r(T,"g","xaxislayer-above"),a.yaxislayer=r(T,"g","yaxislayer-above");else{if(!Y){var B=r(T,"g","layer-subplot");a.shapelayer=r(B,"g","shapelayer"),a.imagelayer=r(B,"g","imagelayer"),U&&d?(a.minorGridlayer=U.minorGridlayer,a.gridlayer=U.gridlayer,a.zerolinelayer=U.zerolinelayer):(a.minorGridlayer=r(T,"g","minor-gridlayer"),a.gridlayer=r(T,"g","gridlayer"),a.zerolinelayer=r(T,"g","zerolinelayer"));var X=r(T,"g","layer-between");a.shapelayerBetween=r(X,"g","shapelayer"),a.imagelayerBetween=r(X,"g","imagelayer"),r(T,"path","xlines-below"),r(T,"path","ylines-below"),a.overlinesBelow=r(T,"g","overlines-below"),r(T,"g","xaxislayer-below"),r(T,"g","yaxislayer-below"),a.overaxesBelow=r(T,"g","overaxes-below")}a.overplot=r(T,"g","overplot"),a.plot=r(a.overplot,"g",C),Y||(a.xlines=r(T,"path","xlines-above"),a.ylines=r(T,"path","ylines-above"),a.overlinesAbove=r(T,"g","overlines-above"),r(T,"g","xaxislayer-above"),r(T,"g","yaxislayer-above"),a.overaxesAbove=r(T,"g","overaxes-above"),a.xlines=T.select(".xlines-"+L),a.ylines=T.select(".ylines-"+O),a.xaxislayer=T.select(".xaxislayer-"+L),a.yaxislayer=T.select(".yaxislayer-"+O))}else{var K=U.plotgroup,H=C+"-x",te=C+"-y";a.minorGridlayer=U.minorGridlayer,a.gridlayer=U.gridlayer,a.zerolinelayer=U.zerolinelayer,r(U.overlinesBelow,"path",H),r(U.overlinesBelow,"path",te),r(U.overaxesBelow,"g",H),r(U.overaxesBelow,"g",te),a.plot=r(U.overplot,"g",C),r(U.overlinesAbove,"path",H),r(U.overlinesAbove,"path",te),r(U.overaxesAbove,"g",H),r(U.overaxesAbove,"g",te),a.xlines=K.select(".overlines-"+L).select("."+H),a.ylines=K.select(".overlines-"+O).select("."+te),a.xaxislayer=K.select(".overaxes-"+L).select("."+H),a.yaxislayer=K.select(".overaxes-"+O).select("."+te)}Y||(D||(A(a.minorGridlayer,"g",a.xaxis._id),A(a.minorGridlayer,"g",a.yaxis._id),a.minorGridlayer.selectAll("g").map(function(ne){return ne[0]}).sort(f.idSort),A(a.gridlayer,"g",a.xaxis._id),A(a.gridlayer,"g",a.yaxis._id),a.gridlayer.selectAll("g").map(function(ne){return ne[0]}).sort(f.idSort)),a.xlines.style("fill","none").classed("crisp",!0),a.ylines.style("fill","none").classed("crisp",!0))}function x(h,a){if(h){var o={};h.each(function(O){var D=O[0],d=N.select(this);d.remove(),b(D,a),o[D]=!0});for(var T in a._plots)for(var C=a._plots[T],z=C.overlays||[],Y=0;Y<z.length;Y++){var L=z[Y];o[L.id]&&L.plot.selectAll(".trace").remove()}}}function b(h,a){a._draggers.selectAll("g."+h).remove(),a._defs.select("#clip"+a._uid+h+"plot").remove()}M.toSVG=function(h){var a=h._fullLayout._glimages,o=N.select(h).selectAll(".svg-container"),T=o.filter(function(z,Y){return Y===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function C(){var z=this,Y=z.toDataURL("image/png"),L=a.append("svg:image");L.attr({xmlns:c.svg,"xlink:href":Y,preserveAspectRatio:"none",x:0,y:0,width:z.style.width,height:z.style.height})}T.each(C)},M.updateFx=rl().updateFx}}),ic=Ke({"src/traces/scatter/index.js"(M,N){"use strict";var t=Gn();N.exports={hasLines:t.hasLines,hasMarkers:t.hasMarkers,hasText:t.hasText,isBubble:t.isBubble,attributes:Ya(),layoutAttributes:Oi(),supplyDefaults:Rf(),crossTraceDefaults:Ff(),supplyLayoutDefaults:zf(),calc:ll().calc,crossTraceCalc:Bf(),arraysToCalcdata:ol(),plot:jf(),colorbar:Xf(),formatLabels:Vf(),style:sl().style,styleOnSelect:sl().styleOnSelect,hoverPoints:Zf(),selectPoints:Wf(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:ac(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}}),ul=Ke({"src/components/shapes/attributes.js"(M,N){"use strict";var t=Sn(),v=Ya().line,u=_a().dash,m=wn().extendFlat,g=Pn().templatedArray,f=pf(),w=Fn(),c=ba().shapeTexttemplateAttrs,r=Fi();N.exports=g("shape",{visible:m({},w.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:m({},w.legend,{editType:"calc+arraydraw"}),legendgroup:m({},w.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:m({},w.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:m({},w.legendrank,{editType:"calc+arraydraw"}),legendwidth:m({},w.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:m({},v.color,{editType:"arraydraw"}),width:m({},v.width,{editType:"calc+arraydraw"}),dash:m({},u,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:c({},{keys:Object.keys(r)}),font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}}),oc=Ke({"src/components/shapes/defaults.js"(M,N){"use strict";var t=Zt(),v=An(),u=Bi(),m=ul(),g=Xa();N.exports=function(r,A){u(r,A,{name:"shapes",handleItemDefaults:w})};function f(c,r){return c?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function w(c,r,A){function p(R,_){return t.coerce(c,r,m,R,_)}r._isShape=!0;var E=p("visible");if(E){var S=p("showlegend");S&&(p("legend"),p("legendwidth"),p("legendgroup"),p("legendgrouptitle.text"),t.coerceFont(p,"legendgrouptitle.font"),p("legendrank"));var F=p("path"),x=F?"path":"rect",b=p("type",x),h=b!=="path";h&&delete r.path,p("editable"),p("layer"),p("opacity"),p("fillcolor"),p("fillrule");var a=p("line.width");a&&(p("line.color"),p("line.dash"));for(var o=p("xsizemode"),T=p("ysizemode"),C=["x","y"],z=0;z<2;z++){var Y=C[z],L=Y+"anchor",O=Y==="x"?o:T,D={_fullLayout:A},d,U,B,X=v.coerceRef(c,r,D,Y,void 0,"paper"),K=v.getRefType(X);if(K==="range"?(d=v.getFromId(D,X),d._shapeIndices.push(r._index),B=g.rangeToShapePosition(d),U=g.shapePositionToRange(d),(d.type==="category"||d.type==="multicategory")&&(p(Y+"0shift"),p(Y+"1shift"))):U=B=t.identity,h){var H=.25,te=.75,ne=Y+"0",ie=Y+"1",re=c[ne],oe=c[ie];c[ne]=U(c[ne],!0),c[ie]=U(c[ie],!0),O==="pixel"?(p(ne,0),p(ie,10)):(v.coercePosition(r,D,p,X,ne,H),v.coercePosition(r,D,p,X,ie,te)),r[ne]=B(r[ne]),r[ie]=B(r[ie]),c[ne]=re,c[ie]=oe}if(O==="pixel"){var W=c[L];c[L]=U(c[L],!0),v.coercePosition(r,D,p,X,L,.25),r[L]=B(r[L]),c[L]=W}}h&&t.noneOrAll(c,r,["x0","x1","y0","y1"]);var ee=b==="line",de,he;if(h&&(de=p("label.texttemplate")),de||(he=p("label.text")),he||de){p("label.textangle");var I=p("label.textposition",ee?"middle":"middle center");p("label.xanchor"),p("label.yanchor",f(ee,I)),p("label.padding"),t.coerceFont(p,"label.font",A.font)}}}}}),lc=Ke({"src/components/shapes/draw_newshape/defaults.js"(M,N){"use strict";var t=$r(),v=Zt();function u(m,g){return m?"bottom":g.indexOf("top")!==-1?"top":g.indexOf("bottom")!==-1?"bottom":"middle"}N.exports=function(g,f,w){w("newshape.visible"),w("newshape.name"),w("newshape.showlegend"),w("newshape.legend"),w("newshape.legendwidth"),w("newshape.legendgroup"),w("newshape.legendgrouptitle.text"),v.coerceFont(w,"newshape.legendgrouptitle.font"),w("newshape.legendrank"),w("newshape.drawdirection"),w("newshape.layer"),w("newshape.fillcolor"),w("newshape.fillrule"),w("newshape.opacity");var c=w("newshape.line.width");if(c){var r=(g||{}).plot_bgcolor||"#FFF";w("newshape.line.color",t.contrast(r)),w("newshape.line.dash")}var A=g.dragmode==="drawline",p=w("newshape.label.text"),E=w("newshape.label.texttemplate");if(p||E){w("newshape.label.textangle");var S=w("newshape.label.textposition",A?"middle":"middle center");w("newshape.label.xanchor"),w("newshape.label.yanchor",u(A,S)),w("newshape.label.padding"),v.coerceFont(w,"newshape.label.font",f.font)}w("activeshape.fillcolor"),w("activeshape.opacity")}}}),sc=Ke({"src/components/shapes/calc_autorange.js"(M,N){"use strict";var t=Zt(),v=An(),u=Vi(),m=Xa();N.exports=function(A){var p=A._fullLayout,E=t.filterVisible(p.shapes);if(!(!E.length||!A._fullData.length))for(var S=0;S<E.length;S++){var F=E[S];F._extremes={};var x,b,h=v.getRefType(F.xref),a=v.getRefType(F.yref);F.xref!=="paper"&&h!=="domain"&&(x=v.getFromId(A,F.xref),b=c(x,F,u.paramIsX),b&&(F._extremes[x._id]=v.findExtremes(x,b,g(F)))),F.yref!=="paper"&&a!=="domain"&&(x=v.getFromId(A,F.yref),b=c(x,F,u.paramIsY),b&&(F._extremes[x._id]=v.findExtremes(x,b,f(F))))}};function g(r){return w(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function f(r){return w(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function w(r,A,p,E,S,F){var x=r/2,b=F;if(A==="pixel"){var h=S?m.extractPathCoords(S,F?u.paramIsY:u.paramIsX):[p,E],a=t.aggNums(Math.max,null,h),o=t.aggNums(Math.min,null,h),T=o<0?Math.abs(o)+x:x,C=a>0?a+x:x;return{ppad:x,ppadplus:b?T:C,ppadminus:b?C:T}}else return{ppad:x}}function c(r,A,p){var E=r._id.charAt(0)==="x"?"x":"y",S=r.type==="category"||r.type==="multicategory",F,x,b=0,h=0,a=S?r.r2c:r.d2c,o=A[E+"sizemode"]==="scaled";if(o?(F=A[E+"0"],x=A[E+"1"],S&&(b=A[E+"0shift"],h=A[E+"1shift"])):(F=A[E+"anchor"],x=A[E+"anchor"]),F!==void 0)return[a(F)+b,a(x)+h];if(A.path){var T=1/0,C=-1/0,z=A.path.match(u.segmentRE),Y,L,O,D,d;for(r.type==="date"&&(a=m.decodeDate(a)),Y=0;Y<z.length;Y++)L=z[Y],O=p[L.charAt(0)].drawn,O!==void 0&&(D=z[Y].substr(1).match(u.paramRE),!(!D||D.length<O)&&(d=a(D[O]),d<T&&(T=d),d>C&&(C=d)));if(C>=T)return[T,C]}}}}),uc=Ke({"src/components/shapes/index.js"(M,N){"use strict";var t=tl();N.exports={moduleType:"component",name:"shapes",layoutAttributes:ul(),supplyLayoutDefaults:oc(),supplyDrawNewShapeDefaults:lc(),includeBasePlot:gf()("shapes"),calcAutorange:sc(),draw:t.draw,drawOne:t.drawOne}}}),fl=Ke({"src/plots/domain.js"(M){"use strict";var N=wn().extendFlat;M.attributes=function(t,v){t=t||{},v=v||{};var u={valType:"info_array",editType:t.editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},m=t.name?t.name+" ":"",g=t.trace?"trace ":"subplot ",f=v.description?" "+v.description:"",w={x:N({},u,{}),y:N({},u,{}),editType:t.editType};return t.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:t.editType},w.column={valType:"integer",min:0,dflt:0,editType:t.editType}),w},M.defaults=function(t,v,u,m){var g=m&&m.x||[0,1],f=m&&m.y||[0,1],w=v.grid;if(w){var c=u("domain.column");c!==void 0&&(c<w.columns?g=w._domains.x[c]:delete t.domain.column);var r=u("domain.row");r!==void 0&&(r<w.rows?f=w._domains.y[r]:delete t.domain.row)}var A=u("domain.x",g),p=u("domain.y",f);A[0]<A[1]||(t.domain.x=g.slice()),p[0]<p[1]||(t.domain.y=f.slice())}}}),fc=Ke({"src/components/legend/index.js"(M,N){"use strict";N.exports={moduleType:"component",name:"legend",layoutAttributes:jo(),supplyLayoutDefaults:Xo(),draw:Zo(),style:Yo()}}}),cc=Ke({"src/locale-en.js"(M,N){"use strict";N.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}}),vc=Ke({"src/locale-en-us.js"(M,N){"use strict";N.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}}),cl=Ke({"src/snapshot/cloneplot.js"(M,N){"use strict";var t=Er(),v=Zt(),u=v.extendFlat,m=v.extendDeep;function g(w){var c;switch(w){case"themes__thumb":c={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":c={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:c={}}return c}function f(w){var c=["xaxis","yaxis","zaxis"];return c.indexOf(w.slice(0,5))>-1}N.exports=function(c,r){var A,p=c.data,E=c.layout,S=m([],p),F=m({},E,g(r.tileClass)),x=c._context||{};if(r.width&&(F.width=r.width),r.height&&(F.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){F.annotations=[];var b=Object.keys(F);for(A=0;A<b.length;A++)f(b[A])&&(F[b[A]].title={text:""});for(A=0;A<S.length;A++){var h=S[A];h.showscale=!1,h.marker&&(h.marker.showscale=!1),t.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(r.annotations))for(A=0;A<r.annotations.length;A++)F.annotations.push(r.annotations[A]);var a=Object.keys(F).filter(function(Y){return Y.match(/^scene\d*$/)});if(a.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),A=0;A<a.length;A++){var T=F[a[A]];T.xaxis||(T.xaxis={}),T.yaxis||(T.yaxis={}),T.zaxis||(T.zaxis={}),u(T.xaxis,o),u(T.yaxis,o),u(T.zaxis,o),T._scene=null}}var C=document.createElement("div");r.tileClass&&(C.className=r.tileClass);var z={gd:C,td:C,layout:F,data:S,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:x.mapboxAccessToken}};return r.setBackground!=="transparent"&&(z.config.setBackground=r.setBackground||"opaque"),z.gd.defaultLayout=g(r.tileClass),z}}}),hc=Ke({"src/snapshot/toimage.js"(M,N){"use strict";var t=Ii().EventEmitter,v=Er(),u=Zt(),m=ca(),g=cl(),f=Zi(),w=Wi();function c(r,A){var p=new t,E=g(r,{format:"png"}),S=E.gd;S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);function F(){var b=m.getDelay(S._fullLayout);setTimeout(function(){var h=f(S),a=document.createElement("canvas");a.id=u.randstr(),p=w({format:A.format,width:S._fullLayout.width,height:S._fullLayout.height,canvas:a,emitter:p,svg:h}),p.clean=function(){S&&document.body.removeChild(S)}},b)}var x=m.getRedrawFunc(S);return v.call("_doPlot",S,E.data,E.layout,E.config).then(x).then(F).catch(function(b){p.emit("error",b)}),p}N.exports=c}}),dc=Ke({"src/snapshot/index.js"(M,N){"use strict";var t=ca(),v={getDelay:t.getDelay,getRedrawFunc:t.getRedrawFunc,clone:cl(),toSVG:Zi(),svgToImg:Wi(),toImage:hc(),downloadImage:il()};N.exports=v}}),pc=Ke({"src/core.js"(M){"use strict";M.version=Po().version,xu(),ju();var N=Er(),t=M.register=N.register,v=Tf(),u=Object.keys(v);for(g=0;g<u.length;g++)m=u[g],m.charAt(0)!=="_"&&(M[m]=v[m]),t({moduleType:"apiMethod",name:m,fn:v[m]});var m,g;t(ic()),t([uc(),fc(),Ma()]),t([cc(),vc()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(t(window.PlotlyLocales),delete window.PlotlyLocales);var f=Ma(),w=En();M.Plots={resize:w.resize,graphJson:w.graphJson,sendDataToCloud:w.sendDataToCloud},M.Fx={hover:f.hover,unhover:f.unhover,loneHover:f.loneHover,loneUnhover:f.loneUnhover},M.Snapshot=dc(),M.PlotSchema=wa()}}),yc=Ke({"lib/core.js"(M,N){"use strict";N.exports=pc()}}),vl=Ke({"src/traces/sankey/attributes.js"(M,N){"use strict";var t=Sn(),v=Fn(),u=sa(),m=Oa(),g=fl().attributes,f=ba().hovertemplateAttrs,w=Pn().templatedArray,c=qi().descriptionOnlyNumbers,r=wn().extendFlat,A=ma().overrideAll,p=N.exports=A({hoverinfo:r({},v.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:m.hoverlabel,domain:g({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:c("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:t({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:u.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:m.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:u.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:m.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:w("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0}})}},"calc","nested")}}),gc=Ke({"src/traces/sankey/defaults.js"(M,N){"use strict";var t=Zt(),v=vl(),u=$r(),m=Un(),g=fl().defaults,f=Ua(),w=Pn(),c=Bi();N.exports=function(p,E,S,F){function x(X,K){return t.coerce(p,E,v,X,K)}var b=t.extendDeep(F.hoverlabel,p.hoverlabel),h=p.node,a=w.newContainer(E,"node");function o(X,K){return t.coerce(h,a,v.node,X,K)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",p.hoverinfo),f(h,a,o,b),o("hovertemplate"),o("align");var T=F.colorway,C=function(X){return T[X%T.length]};o("color",a.label.map(function(X,K){return u.addOpacity(C(K),.8)})),o("customdata");var z=p.link||{},Y=w.newContainer(E,"link");function L(X,K){return t.coerce(z,Y,v.link,X,K)}L("label"),L("arrowlen"),L("source"),L("target"),L("value"),L("line.color"),L("line.width"),L("hoverinfo",p.hoverinfo),f(z,Y,L,b),L("hovertemplate");var O=m(F.paper_bgcolor).getLuminance()<.333,D=O?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",d=L("color",D);function U(X){var K=m(X);if(!K.isValid())return X;var H=K.getAlpha();return H<=.8?K.setAlpha(H+.2):K=O?K.brighten():K.darken(),K.toRgbString()}L("hovercolor",Array.isArray(d)?d.map(U):U(d)),L("customdata"),c(z,Y,{name:"colorscales",handleItemDefaults:r}),g(E,F,x),x("orientation"),x("valueformat"),x("valuesuffix");var B;a.x.length&&a.y.length&&(B="freeform"),x("arrangement",B),t.coerceFont(x,"textfont",F.font,{autoShadowDflt:!0}),E._length=null};function r(A,p){function E(S,F){return t.coerce(A,p,v.link.colorscales,S,F)}E("label"),E("cmin"),E("cmax"),E("colorscale")}}}),hl=Ke({"node_modules/strongly-connected-components/scc.js"(M,N){"use strict";N.exports=t;function t(v){for(var u=v.length,m=new Array(u),g=new Array(u),f=new Array(u),w=new Array(u),c=new Array(u),r=new Array(u),A=0;A<u;++A)m[A]=-1,g[A]=0,f[A]=!1,w[A]=0,c[A]=-1,r[A]=[];var p=0,E=[],S=[];function F(a){var o=[a],T=[a];for(m[a]=g[a]=p,f[a]=!0,p+=1;T.length>0;){a=T[T.length-1];var C=v[a];if(w[a]<C.length){for(var z=w[a];z<C.length;++z){var Y=C[z];if(m[Y]<0){m[Y]=g[Y]=p,f[Y]=!0,p+=1,o.push(Y),T.push(Y);break}else f[Y]&&(g[a]=Math.min(g[a],g[Y])|0);c[Y]>=0&&r[a].push(c[Y])}w[a]=z}else{if(g[a]===m[a]){for(var L=[],O=[],D=0,z=o.length-1;z>=0;--z){var d=o[z];if(f[d]=!1,L.push(d),O.push(r[d]),D+=r[d].length,c[d]=E.length,d===a){o.length=z;break}}E.push(L);for(var U=new Array(D),z=0;z<O.length;z++)for(var B=0;B<O[z].length;B++)U[--D]=O[z][B];S.push(U)}T.pop()}}}for(var A=0;A<u;++A)m[A]<0&&F(A);for(var x,A=0;A<S.length;A++){var b=S[A];if(b.length!==0){b.sort(function(o,T){return o-T}),x=[b[0]];for(var h=1;h<b.length;h++)b[h]!==b[h-1]&&x.push(b[h]);S[A]=x}}return{components:E,adjacencyList:S}}}}),dl=Ke({"src/lib/gup.js"(M,N){"use strict";var t=zi();function v(u){return[u]}N.exports={keyFun:function(u){return u.key},repeat:v,descend:t,wrap:v,unwrap:function(u){return u[0]}}}}),mc=Ke({"src/traces/sankey/calc.js"(M,N){"use strict";var t=hl(),v=Zt(),u=dl().wrap,m=v.isArrayOrTypedArray,g=v.isIndex;function f(c){var r=c.node,A=c.link,p=[],E=m(A.color),S=m(A.hovercolor),F=m(A.customdata),x={},b={},h=A.colorscales.length,a;for(a=0;a<h;a++){var o=A.colorscales[a],T=Colorscale.extractScale(o,{cLetter:"c"}),C=Colorscale.makeColorScaleFunc(T);b[o.label]=C}var z=0;for(a=0;a<A.value.length;a++)A.source[a]>z&&(z=A.source[a]),A.target[a]>z&&(z=A.target[a]);var Y=z+1;c.node._count=Y;var L,O=c.node.groups,D={};for(a=0;a<O.length;a++){var d=O[a];for(L=0;L<d.length;L++){var U=d[L],B=Y+a;D.hasOwnProperty(U)?v.warn("Node "+U+" is already part of a group."):D[U]=B}}var X={source:[],target:[]};for(a=0;a<A.value.length;a++){var K=A.value[a],H=A.source[a],te=A.target[a];if(K>0&&g(H,Y)&&g(te,Y)&&!(D.hasOwnProperty(H)&&D.hasOwnProperty(te)&&D[H]===D[te])){D.hasOwnProperty(te)&&(te=D[te]),D.hasOwnProperty(H)&&(H=D[H]),H=+H,te=+te,x[H]=x[te]=!0;var ne="";A.label&&A.label[a]&&(ne=A.label[a]);var ie=null;ne&&b.hasOwnProperty(ne)&&(ie=b[ne]),p.push({pointNumber:a,label:ne,color:E?A.color[a]:A.color,hovercolor:S?A.hovercolor[a]:A.hovercolor,customdata:F?A.customdata[a]:A.customdata,concentrationscale:ie,source:H,target:te,value:+K}),X.source.push(H),X.target.push(te)}}var re=Y+O.length,oe=m(r.color),W=m(r.customdata),ee=[];for(a=0;a<re;a++)if(x[a]){var de=r.label[a];ee.push({group:a>Y-1,childrenNodes:[],pointNumber:a,label:de,color:oe?r.color[a]:r.color,customdata:W?r.customdata[a]:r.customdata})}var he=!1;return w(re,X.source,X.target)&&(he=!0),{circular:he,links:p,nodes:ee,groups:O,groupLookup:D}}function w(c,r,A){for(var p=v.init2dArray(c,0),E=0;E<Math.min(r.length,A.length);E++)if(v.isIndex(r[E],c)&&v.isIndex(A[E],c)){if(r[E]===A[E])return!0;p[r[E]].push(A[E])}var S=t(p);return S.components.some(function(F){return F.length>1})}N.exports=function(r,A){var p=f(A);return u({circular:p.circular,_nodes:p.nodes,_links:p.links,_groups:p.groups,_groupLookup:p.groupLookup})}}}),_c=Ke({"node_modules/d3-quadtree/dist/d3-quadtree.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=t||self,v(t.d3=t.d3||{}))})(M,function(t){"use strict";function v(L){var O=+this._x.call(null,L),D=+this._y.call(null,L);return u(this.cover(O,D),O,D,L)}function u(L,O,D,d){if(isNaN(O)||isNaN(D))return L;var U,B=L._root,X={data:d},K=L._x0,H=L._y0,te=L._x1,ne=L._y1,ie,re,oe,W,ee,de,he,I;if(!B)return L._root=X,L;for(;B.length;)if((ee=O>=(ie=(K+te)/2))?K=ie:te=ie,(de=D>=(re=(H+ne)/2))?H=re:ne=re,U=B,!(B=B[he=de<<1|ee]))return U[he]=X,L;if(oe=+L._x.call(null,B.data),W=+L._y.call(null,B.data),O===oe&&D===W)return X.next=B,U?U[he]=X:L._root=X,L;do U=U?U[he]=new Array(4):L._root=new Array(4),(ee=O>=(ie=(K+te)/2))?K=ie:te=ie,(de=D>=(re=(H+ne)/2))?H=re:ne=re;while((he=de<<1|ee)===(I=(W>=re)<<1|oe>=ie));return U[I]=B,U[he]=X,L}function m(L){var O,D,d=L.length,U,B,X=new Array(d),K=new Array(d),H=1/0,te=1/0,ne=-1/0,ie=-1/0;for(D=0;D<d;++D)isNaN(U=+this._x.call(null,O=L[D]))||isNaN(B=+this._y.call(null,O))||(X[D]=U,K[D]=B,U<H&&(H=U),U>ne&&(ne=U),B<te&&(te=B),B>ie&&(ie=B));if(H>ne||te>ie)return this;for(this.cover(H,te).cover(ne,ie),D=0;D<d;++D)u(this,X[D],K[D],L[D]);return this}function g(L,O){if(isNaN(L=+L)||isNaN(O=+O))return this;var D=this._x0,d=this._y0,U=this._x1,B=this._y1;if(isNaN(D))U=(D=Math.floor(L))+1,B=(d=Math.floor(O))+1;else{for(var X=U-D,K=this._root,H,te;D>L||L>=U||d>O||O>=B;)switch(te=(O<d)<<1|L<D,H=new Array(4),H[te]=K,K=H,X*=2,te){case 0:U=D+X,B=d+X;break;case 1:D=U-X,B=d+X;break;case 2:U=D+X,d=B-X;break;case 3:D=U-X,d=B-X;break}this._root&&this._root.length&&(this._root=K)}return this._x0=D,this._y0=d,this._x1=U,this._y1=B,this}function f(){var L=[];return this.visit(function(O){if(!O.length)do L.push(O.data);while(O=O.next)}),L}function w(L){return arguments.length?this.cover(+L[0][0],+L[0][1]).cover(+L[1][0],+L[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function c(L,O,D,d,U){this.node=L,this.x0=O,this.y0=D,this.x1=d,this.y1=U}function r(L,O,D){var d,U=this._x0,B=this._y0,X,K,H,te,ne=this._x1,ie=this._y1,re=[],oe=this._root,W,ee;for(oe&&re.push(new c(oe,U,B,ne,ie)),D==null?D=1/0:(U=L-D,B=O-D,ne=L+D,ie=O+D,D*=D);W=re.pop();)if(!(!(oe=W.node)||(X=W.x0)>ne||(K=W.y0)>ie||(H=W.x1)<U||(te=W.y1)<B))if(oe.length){var de=(X+H)/2,he=(K+te)/2;re.push(new c(oe[3],de,he,H,te),new c(oe[2],X,he,de,te),new c(oe[1],de,K,H,he),new c(oe[0],X,K,de,he)),(ee=(O>=he)<<1|L>=de)&&(W=re[re.length-1],re[re.length-1]=re[re.length-1-ee],re[re.length-1-ee]=W)}else{var I=L-+this._x.call(null,oe.data),R=O-+this._y.call(null,oe.data),_=I*I+R*R;if(_<D){var i=Math.sqrt(D=_);U=L-i,B=O-i,ne=L+i,ie=O+i,d=oe.data}}return d}function A(L){if(isNaN(ne=+this._x.call(null,L))||isNaN(ie=+this._y.call(null,L)))return this;var O,D=this._root,d,U,B,X=this._x0,K=this._y0,H=this._x1,te=this._y1,ne,ie,re,oe,W,ee,de,he;if(!D)return this;if(D.length)for(;;){if((W=ne>=(re=(X+H)/2))?X=re:H=re,(ee=ie>=(oe=(K+te)/2))?K=oe:te=oe,O=D,!(D=D[de=ee<<1|W]))return this;if(!D.length)break;(O[de+1&3]||O[de+2&3]||O[de+3&3])&&(d=O,he=de)}for(;D.data!==L;)if(U=D,!(D=D.next))return this;return(B=D.next)&&delete D.next,U?(B?U.next=B:delete U.next,this):O?(B?O[de]=B:delete O[de],(D=O[0]||O[1]||O[2]||O[3])&&D===(O[3]||O[2]||O[1]||O[0])&&!D.length&&(d?d[he]=D:this._root=D),this):(this._root=B,this)}function p(L){for(var O=0,D=L.length;O<D;++O)this.remove(L[O]);return this}function E(){return this._root}function S(){var L=0;return this.visit(function(O){if(!O.length)do++L;while(O=O.next)}),L}function F(L){var O=[],D,d=this._root,U,B,X,K,H;for(d&&O.push(new c(d,this._x0,this._y0,this._x1,this._y1));D=O.pop();)if(!L(d=D.node,B=D.x0,X=D.y0,K=D.x1,H=D.y1)&&d.length){var te=(B+K)/2,ne=(X+H)/2;(U=d[3])&&O.push(new c(U,te,ne,K,H)),(U=d[2])&&O.push(new c(U,B,ne,te,H)),(U=d[1])&&O.push(new c(U,te,X,K,ne)),(U=d[0])&&O.push(new c(U,B,X,te,ne))}return this}function x(L){var O=[],D=[],d;for(this._root&&O.push(new c(this._root,this._x0,this._y0,this._x1,this._y1));d=O.pop();){var U=d.node;if(U.length){var B,X=d.x0,K=d.y0,H=d.x1,te=d.y1,ne=(X+H)/2,ie=(K+te)/2;(B=U[0])&&O.push(new c(B,X,K,ne,ie)),(B=U[1])&&O.push(new c(B,ne,K,H,ie)),(B=U[2])&&O.push(new c(B,X,ie,ne,te)),(B=U[3])&&O.push(new c(B,ne,ie,H,te))}D.push(d)}for(;d=D.pop();)L(d.node,d.x0,d.y0,d.x1,d.y1);return this}function b(L){return L[0]}function h(L){return arguments.length?(this._x=L,this):this._x}function a(L){return L[1]}function o(L){return arguments.length?(this._y=L,this):this._y}function T(L,O,D){var d=new C(O??b,D??a,NaN,NaN,NaN,NaN);return L==null?d:d.addAll(L)}function C(L,O,D,d,U,B){this._x=L,this._y=O,this._x0=D,this._y0=d,this._x1=U,this._y1=B,this._root=void 0}function z(L){for(var O={data:L.data},D=O;L=L.next;)D=D.next={data:L.data};return O}var Y=T.prototype=C.prototype;Y.copy=function(){var L=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),O=this._root,D,d;if(!O)return L;if(!O.length)return L._root=z(O),L;for(D=[{source:O,target:L._root=new Array(4)}];O=D.pop();)for(var U=0;U<4;++U)(d=O.source[U])&&(d.length?D.push({source:d,target:O.target[U]=new Array(4)}):O.target[U]=z(d));return L},Y.add=v,Y.addAll=m,Y.cover=g,Y.data=f,Y.extent=w,Y.find=r,Y.remove=A,Y.removeAll=p,Y.root=E,Y.size=S,Y.visit=F,Y.visitAfter=x,Y.x=h,Y.y=o,t.quadtree=T,Object.defineProperty(t,"__esModule",{value:!0})})}}),$i=Ke({"node_modules/d3-collection/dist/d3-collection.js"(M,N){(function(t,v){v(typeof M=="object"&&typeof N<"u"?M:t.d3=t.d3||{})})(M,function(t){"use strict";var v="$";function u(){}u.prototype=m.prototype={constructor:u,has:function(b){return v+b in this},get:function(b){return this[v+b]},set:function(b,h){return this[v+b]=h,this},remove:function(b){var h=v+b;return h in this&&delete this[h]},clear:function(){for(var b in this)b[0]===v&&delete this[b]},keys:function(){var b=[];for(var h in this)h[0]===v&&b.push(h.slice(1));return b},values:function(){var b=[];for(var h in this)h[0]===v&&b.push(this[h]);return b},entries:function(){var b=[];for(var h in this)h[0]===v&&b.push({key:h.slice(1),value:this[h]});return b},size:function(){var b=0;for(var h in this)h[0]===v&&++b;return b},empty:function(){for(var b in this)if(b[0]===v)return!1;return!0},each:function(b){for(var h in this)h[0]===v&&b(this[h],h.slice(1),this)}};function m(b,h){var a=new u;if(b instanceof u)b.each(function(Y,L){a.set(L,Y)});else if(Array.isArray(b)){var o=-1,T=b.length,C;if(h==null)for(;++o<T;)a.set(o,b[o]);else for(;++o<T;)a.set(h(C=b[o],o,b),C)}else if(b)for(var z in b)a.set(z,b[z]);return a}function g(){var b=[],h=[],a,o,T;function C(Y,L,O,D){if(L>=b.length)return a!=null&&Y.sort(a),o!=null?o(Y):Y;for(var d=-1,U=Y.length,B=b[L++],X,K,H=m(),te,ne=O();++d<U;)(te=H.get(X=B(K=Y[d])+""))?te.push(K):H.set(X,[K]);return H.each(function(ie,re){D(ne,re,C(ie,L,O,D))}),ne}function z(Y,L){if(++L>b.length)return Y;var O,D=h[L-1];return o!=null&&L>=b.length?O=Y.entries():(O=[],Y.each(function(d,U){O.push({key:U,values:z(d,L)})})),D!=null?O.sort(function(d,U){return D(d.key,U.key)}):O}return T={object:function(Y){return C(Y,0,f,w)},map:function(Y){return C(Y,0,c,r)},entries:function(Y){return z(C(Y,0,c,r),0)},key:function(Y){return b.push(Y),T},sortKeys:function(Y){return h[b.length-1]=Y,T},sortValues:function(Y){return a=Y,T},rollup:function(Y){return o=Y,T}}}function f(){return{}}function w(b,h,a){b[h]=a}function c(){return m()}function r(b,h,a){b.set(h,a)}function A(){}var p=m.prototype;A.prototype=E.prototype={constructor:A,has:p.has,add:function(b){return b+="",this[v+b]=b,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each};function E(b,h){var a=new A;if(b instanceof A)b.each(function(C){a.add(C)});else if(b){var o=-1,T=b.length;if(h==null)for(;++o<T;)a.add(b[o]);else for(;++o<T;)a.add(h(b[o],o,b))}return a}function S(b){var h=[];for(var a in b)h.push(a);return h}function F(b){var h=[];for(var a in b)h.push(b[a]);return h}function x(b){var h=[];for(var a in b)h.push({key:a,value:b[a]});return h}t.nest=g,t.set=E,t.map=m,t.keys=S,t.values=F,t.entries=x,Object.defineProperty(t,"__esModule",{value:!0})})}}),bc=Ke({"node_modules/d3-dispatch/dist/d3-dispatch.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=t||self,v(t.d3=t.d3||{}))})(M,function(t){"use strict";var v={value:function(){}};function u(){for(var c=0,r=arguments.length,A={},p;c<r;++c){if(!(p=arguments[c]+"")||p in A||/[\s.]/.test(p))throw new Error("illegal type: "+p);A[p]=[]}return new m(A)}function m(c){this._=c}function g(c,r){return c.trim().split(/^|\s+/).map(function(A){var p="",E=A.indexOf(".");if(E>=0&&(p=A.slice(E+1),A=A.slice(0,E)),A&&!r.hasOwnProperty(A))throw new Error("unknown type: "+A);return{type:A,name:p}})}m.prototype=u.prototype={constructor:m,on:function(c,r){var A=this._,p=g(c+"",A),E,S=-1,F=p.length;if(arguments.length<2){for(;++S<F;)if((E=(c=p[S]).type)&&(E=f(A[E],c.name)))return E;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++S<F;)if(E=(c=p[S]).type)A[E]=w(A[E],c.name,r);else if(r==null)for(E in A)A[E]=w(A[E],c.name,null);return this},copy:function(){var c={},r=this._;for(var A in r)c[A]=r[A].slice();return new m(c)},call:function(c,r){if((E=arguments.length-2)>0)for(var A=new Array(E),p=0,E,S;p<E;++p)A[p]=arguments[p+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(S=this._[c],p=0,E=S.length;p<E;++p)S[p].value.apply(r,A)},apply:function(c,r,A){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var p=this._[c],E=0,S=p.length;E<S;++E)p[E].value.apply(r,A)}};function f(c,r){for(var A=0,p=c.length,E;A<p;++A)if((E=c[A]).name===r)return E.value}function w(c,r,A){for(var p=0,E=c.length;p<E;++p)if(c[p].name===r){c[p]=v,c=c.slice(0,p).concat(c.slice(p+1));break}return A!=null&&c.push({name:r,value:A}),c}t.dispatch=u,Object.defineProperty(t,"__esModule",{value:!0})})}}),xc=Ke({"node_modules/d3-timer/dist/d3-timer.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=t||self,v(t.d3=t.d3||{}))})(M,function(t){"use strict";var v=0,u=0,m=0,g=1e3,f,w,c=0,r=0,A=0,p=typeof performance=="object"&&performance.now?performance:Date,E=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(L){setTimeout(L,17)};function S(){return r||(E(F),r=p.now()+A)}function F(){r=0}function x(){this._call=this._time=this._next=null}x.prototype=b.prototype={constructor:x,restart:function(L,O,D){if(typeof L!="function")throw new TypeError("callback is not a function");D=(D==null?S():+D)+(O==null?0:+O),!this._next&&w!==this&&(w?w._next=this:f=this,w=this),this._call=L,this._time=D,C()},stop:function(){this._call&&(this._call=null,this._time=1/0,C())}};function b(L,O,D){var d=new x;return d.restart(L,O,D),d}function h(){S(),++v;for(var L=f,O;L;)(O=r-L._time)>=0&&L._call.call(null,O),L=L._next;--v}function a(){r=(c=p.now())+A,v=u=0;try{h()}finally{v=0,T(),r=0}}function o(){var L=p.now(),O=L-c;O>g&&(A-=O,c=L)}function T(){for(var L,O=f,D,d=1/0;O;)O._call?(d>O._time&&(d=O._time),L=O,O=O._next):(D=O._next,O._next=null,O=L?L._next=D:f=D);w=L,C(d)}function C(L){if(!v){u&&(u=clearTimeout(u));var O=L-r;O>24?(L<1/0&&(u=setTimeout(a,L-p.now()-A)),m&&(m=clearInterval(m))):(m||(c=p.now(),m=setInterval(o,g)),v=1,E(a))}}function z(L,O,D){var d=new x;return O=O==null?0:+O,d.restart(function(U){d.stop(),L(U+O)},O,D),d}function Y(L,O,D){var d=new x,U=O;return O==null?(d.restart(L,O,D),d):(O=+O,D=D==null?S():+D,d.restart(function B(X){X+=U,d.restart(B,U+=O,D),L(X)},O,D),d)}t.interval=Y,t.now=S,t.timeout=z,t.timer=b,t.timerFlush=h,Object.defineProperty(t,"__esModule",{value:!0})})}}),wc=Ke({"node_modules/d3-force/dist/d3-force.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M,_c(),$i(),bc(),xc()):v(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)})(M,function(t,v,u,m,g){"use strict";function f(L,O){var D;L==null&&(L=0),O==null&&(O=0);function d(){var U,B=D.length,X,K=0,H=0;for(U=0;U<B;++U)X=D[U],K+=X.x,H+=X.y;for(K=K/B-L,H=H/B-O,U=0;U<B;++U)X=D[U],X.x-=K,X.y-=H}return d.initialize=function(U){D=U},d.x=function(U){return arguments.length?(L=+U,d):L},d.y=function(U){return arguments.length?(O=+U,d):O},d}function w(L){return function(){return L}}function c(){return(Math.random()-.5)*1e-6}function r(L){return L.x+L.vx}function A(L){return L.y+L.vy}function p(L){var O,D,d=1,U=1;typeof L!="function"&&(L=w(L==null?1:+L));function B(){for(var H,te=O.length,ne,ie,re,oe,W,ee,de=0;de<U;++de)for(ne=v.quadtree(O,r,A).visitAfter(X),H=0;H<te;++H)ie=O[H],W=D[ie.index],ee=W*W,re=ie.x+ie.vx,oe=ie.y+ie.vy,ne.visit(he);function he(I,R,_,i,l){var k=I.data,y=I.r,n=W+y;if(k){if(k.index>ie.index){var q=re-k.x-k.vx,J=oe-k.y-k.vy,se=q*q+J*J;se<n*n&&(q===0&&(q=c(),se+=q*q),J===0&&(J=c(),se+=J*J),se=(n-(se=Math.sqrt(se)))/se*d,ie.vx+=(q*=se)*(n=(y*=y)/(ee+y)),ie.vy+=(J*=se)*n,k.vx-=q*(n=1-n),k.vy-=J*n)}return}return R>re+n||i<re-n||_>oe+n||l<oe-n}}function X(H){if(H.data)return H.r=D[H.data.index];for(var te=H.r=0;te<4;++te)H[te]&&H[te].r>H.r&&(H.r=H[te].r)}function K(){if(O){var H,te=O.length,ne;for(D=new Array(te),H=0;H<te;++H)ne=O[H],D[ne.index]=+L(ne,H,O)}}return B.initialize=function(H){O=H,K()},B.iterations=function(H){return arguments.length?(U=+H,B):U},B.strength=function(H){return arguments.length?(d=+H,B):d},B.radius=function(H){return arguments.length?(L=typeof H=="function"?H:w(+H),K(),B):L},B}function E(L){return L.index}function S(L,O){var D=L.get(O);if(!D)throw new Error("missing: "+O);return D}function F(L){var O=E,D=ne,d,U=w(30),B,X,K,H,te=1;L==null&&(L=[]);function ne(ee){return 1/Math.min(K[ee.source.index],K[ee.target.index])}function ie(ee){for(var de=0,he=L.length;de<te;++de)for(var I=0,R,_,i,l,k,y,n;I<he;++I)R=L[I],_=R.source,i=R.target,l=i.x+i.vx-_.x-_.vx||c(),k=i.y+i.vy-_.y-_.vy||c(),y=Math.sqrt(l*l+k*k),y=(y-B[I])/y*ee*d[I],l*=y,k*=y,i.vx-=l*(n=H[I]),i.vy-=k*n,_.vx+=l*(n=1-n),_.vy+=k*n}function re(){if(X){var ee,de=X.length,he=L.length,I=u.map(X,O),R;for(ee=0,K=new Array(de);ee<he;++ee)R=L[ee],R.index=ee,typeof R.source!="object"&&(R.source=S(I,R.source)),typeof R.target!="object"&&(R.target=S(I,R.target)),K[R.source.index]=(K[R.source.index]||0)+1,K[R.target.index]=(K[R.target.index]||0)+1;for(ee=0,H=new Array(he);ee<he;++ee)R=L[ee],H[ee]=K[R.source.index]/(K[R.source.index]+K[R.target.index]);d=new Array(he),oe(),B=new Array(he),W()}}function oe(){if(X)for(var ee=0,de=L.length;ee<de;++ee)d[ee]=+D(L[ee],ee,L)}function W(){if(X)for(var ee=0,de=L.length;ee<de;++ee)B[ee]=+U(L[ee],ee,L)}return ie.initialize=function(ee){X=ee,re()},ie.links=function(ee){return arguments.length?(L=ee,re(),ie):L},ie.id=function(ee){return arguments.length?(O=ee,ie):O},ie.iterations=function(ee){return arguments.length?(te=+ee,ie):te},ie.strength=function(ee){return arguments.length?(D=typeof ee=="function"?ee:w(+ee),oe(),ie):D},ie.distance=function(ee){return arguments.length?(U=typeof ee=="function"?ee:w(+ee),W(),ie):U},ie}function x(L){return L.x}function b(L){return L.y}var h=10,a=Math.PI*(3-Math.sqrt(5));function o(L){var O,D=1,d=.001,U=1-Math.pow(d,1/300),B=0,X=.6,K=u.map(),H=g.timer(ne),te=m.dispatch("tick","end");L==null&&(L=[]);function ne(){ie(),te.call("tick",O),D<d&&(H.stop(),te.call("end",O))}function ie(W){var ee,de=L.length,he;W===void 0&&(W=1);for(var I=0;I<W;++I)for(D+=(B-D)*U,K.each(function(R){R(D)}),ee=0;ee<de;++ee)he=L[ee],he.fx==null?he.x+=he.vx*=X:(he.x=he.fx,he.vx=0),he.fy==null?he.y+=he.vy*=X:(he.y=he.fy,he.vy=0);return O}function re(){for(var W=0,ee=L.length,de;W<ee;++W){if(de=L[W],de.index=W,de.fx!=null&&(de.x=de.fx),de.fy!=null&&(de.y=de.fy),isNaN(de.x)||isNaN(de.y)){var he=h*Math.sqrt(W),I=W*a;de.x=he*Math.cos(I),de.y=he*Math.sin(I)}(isNaN(de.vx)||isNaN(de.vy))&&(de.vx=de.vy=0)}}function oe(W){return W.initialize&&W.initialize(L),W}return re(),O={tick:ie,restart:function(){return H.restart(ne),O},stop:function(){return H.stop(),O},nodes:function(W){return arguments.length?(L=W,re(),K.each(oe),O):L},alpha:function(W){return arguments.length?(D=+W,O):D},alphaMin:function(W){return arguments.length?(d=+W,O):d},alphaDecay:function(W){return arguments.length?(U=+W,O):+U},alphaTarget:function(W){return arguments.length?(B=+W,O):B},velocityDecay:function(W){return arguments.length?(X=1-W,O):1-X},force:function(W,ee){return arguments.length>1?(ee==null?K.remove(W):K.set(W,oe(ee)),O):K.get(W)},find:function(W,ee,de){var he=0,I=L.length,R,_,i,l,k;for(de==null?de=1/0:de*=de,he=0;he<I;++he)l=L[he],R=W-l.x,_=ee-l.y,i=R*R+_*_,i<de&&(k=l,de=i);return k},on:function(W,ee){return arguments.length>1?(te.on(W,ee),O):te.on(W)}}}function T(){var L,O,D,d=w(-30),U,B=1,X=1/0,K=.81;function H(re){var oe,W=L.length,ee=v.quadtree(L,x,b).visitAfter(ne);for(D=re,oe=0;oe<W;++oe)O=L[oe],ee.visit(ie)}function te(){if(L){var re,oe=L.length,W;for(U=new Array(oe),re=0;re<oe;++re)W=L[re],U[W.index]=+d(W,re,L)}}function ne(re){var oe=0,W,ee,de=0,he,I,R;if(re.length){for(he=I=R=0;R<4;++R)(W=re[R])&&(ee=Math.abs(W.value))&&(oe+=W.value,de+=ee,he+=ee*W.x,I+=ee*W.y);re.x=he/de,re.y=I/de}else{W=re,W.x=W.data.x,W.y=W.data.y;do oe+=U[W.data.index];while(W=W.next)}re.value=oe}function ie(re,oe,W,ee){if(!re.value)return!0;var de=re.x-O.x,he=re.y-O.y,I=ee-oe,R=de*de+he*he;if(I*I/K<R)return R<X&&(de===0&&(de=c(),R+=de*de),he===0&&(he=c(),R+=he*he),R<B&&(R=Math.sqrt(B*R)),O.vx+=de*re.value*D/R,O.vy+=he*re.value*D/R),!0;if(re.length||R>=X)return;(re.data!==O||re.next)&&(de===0&&(de=c(),R+=de*de),he===0&&(he=c(),R+=he*he),R<B&&(R=Math.sqrt(B*R)));do re.data!==O&&(I=U[re.data.index]*D/R,O.vx+=de*I,O.vy+=he*I);while(re=re.next)}return H.initialize=function(re){L=re,te()},H.strength=function(re){return arguments.length?(d=typeof re=="function"?re:w(+re),te(),H):d},H.distanceMin=function(re){return arguments.length?(B=re*re,H):Math.sqrt(B)},H.distanceMax=function(re){return arguments.length?(X=re*re,H):Math.sqrt(X)},H.theta=function(re){return arguments.length?(K=re*re,H):Math.sqrt(K)},H}function C(L,O,D){var d,U=w(.1),B,X;typeof L!="function"&&(L=w(+L)),O==null&&(O=0),D==null&&(D=0);function K(te){for(var ne=0,ie=d.length;ne<ie;++ne){var re=d[ne],oe=re.x-O||1e-6,W=re.y-D||1e-6,ee=Math.sqrt(oe*oe+W*W),de=(X[ne]-ee)*B[ne]*te/ee;re.vx+=oe*de,re.vy+=W*de}}function H(){if(d){var te,ne=d.length;for(B=new Array(ne),X=new Array(ne),te=0;te<ne;++te)X[te]=+L(d[te],te,d),B[te]=isNaN(X[te])?0:+U(d[te],te,d)}}return K.initialize=function(te){d=te,H()},K.strength=function(te){return arguments.length?(U=typeof te=="function"?te:w(+te),H(),K):U},K.radius=function(te){return arguments.length?(L=typeof te=="function"?te:w(+te),H(),K):L},K.x=function(te){return arguments.length?(O=+te,K):O},K.y=function(te){return arguments.length?(D=+te,K):D},K}function z(L){var O=w(.1),D,d,U;typeof L!="function"&&(L=w(L==null?0:+L));function B(K){for(var H=0,te=D.length,ne;H<te;++H)ne=D[H],ne.vx+=(U[H]-ne.x)*d[H]*K}function X(){if(D){var K,H=D.length;for(d=new Array(H),U=new Array(H),K=0;K<H;++K)d[K]=isNaN(U[K]=+L(D[K],K,D))?0:+O(D[K],K,D)}}return B.initialize=function(K){D=K,X()},B.strength=function(K){return arguments.length?(O=typeof K=="function"?K:w(+K),X(),B):O},B.x=function(K){return arguments.length?(L=typeof K=="function"?K:w(+K),X(),B):L},B}function Y(L){var O=w(.1),D,d,U;typeof L!="function"&&(L=w(L==null?0:+L));function B(K){for(var H=0,te=D.length,ne;H<te;++H)ne=D[H],ne.vy+=(U[H]-ne.y)*d[H]*K}function X(){if(D){var K,H=D.length;for(d=new Array(H),U=new Array(H),K=0;K<H;++K)d[K]=isNaN(U[K]=+L(D[K],K,D))?0:+O(D[K],K,D)}}return B.initialize=function(K){D=K,X()},B.strength=function(K){return arguments.length?(O=typeof K=="function"?K:w(+K),X(),B):O},B.y=function(K){return arguments.length?(L=typeof K=="function"?K:w(+K),X(),B):L},B}t.forceCenter=f,t.forceCollide=p,t.forceLink=F,t.forceManyBody=T,t.forceRadial=C,t.forceSimulation=o,t.forceX=z,t.forceY=Y,Object.defineProperty(t,"__esModule",{value:!0})})}});function Za(M,N,t){M.prototype=N.prototype=t,t.constructor=M}function Qi(M,N){var t=Object.create(M.prototype);for(var v in N)t[v]=N[v];return t}var pl=Ur({"node_modules/d3-color/src/define.js"(){}});function va(){}function yl(){return this.rgb().formatHex()}function Ac(){return this.rgb().formatHex8()}function Tc(){return Al(this).formatHsl()}function gl(){return this.rgb().formatRgb()}function ka(M){var N,t;return M=(M+"").trim().toLowerCase(),(N=Ml.exec(M))?(t=N[1].length,N=parseInt(N[1],16),t===6?ml(N):t===3?new dn(N>>8&15|N>>4&240,N>>4&15|N&240,(N&15)<<4|N&15,1):t===8?Wa(N>>24&255,N>>16&255,N>>8&255,(N&255)/255):t===4?Wa(N>>12&15|N>>8&240,N>>8&15|N>>4&240,N>>4&15|N&240,((N&15)<<4|N&15)/255):null):(N=kl.exec(M))?new dn(N[1],N[2],N[3],1):(N=Ll.exec(M))?new dn(N[1]*255/100,N[2]*255/100,N[3]*255/100,1):(N=Sl.exec(M))?Wa(N[1],N[2],N[3],N[4]):(N=Pl.exec(M))?Wa(N[1]*255/100,N[2]*255/100,N[3]*255/100,N[4]):(N=El.exec(M))?wl(N[1],N[2]/100,N[3]/100,1):(N=Cl.exec(M))?wl(N[1],N[2]/100,N[3]/100,N[4]):eo.hasOwnProperty(M)?ml(eo[M]):M==="transparent"?new dn(NaN,NaN,NaN,0):null}function ml(M){return new dn(M>>16&255,M>>8&255,M&255,1)}function Wa(M,N,t,v){return v<=0&&(M=N=t=NaN),new dn(M,N,t,v)}function _l(M){return M instanceof va||(M=ka(M)),M?(M=M.rgb(),new dn(M.r,M.g,M.b,M.opacity)):new dn}function $a(M,N,t,v){return arguments.length===1?_l(M):new dn(M,N,t,v??1)}function dn(M,N,t,v){this.r=+M,this.g=+N,this.b=+t,this.opacity=+v}function bl(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}`}function Mc(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}${Jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function xl(){const M=Qa(this.opacity);return`${M===1?"rgb(":"rgba("}${Qn(this.r)}, ${Qn(this.g)}, ${Qn(this.b)}${M===1?")":`, ${M})`}`}function Qa(M){return isNaN(M)?1:Math.max(0,Math.min(1,M))}function Qn(M){return Math.max(0,Math.min(255,Math.round(M)||0))}function Jn(M){return M=Qn(M),(M<16?"0":"")+M.toString(16)}function wl(M,N,t,v){return v<=0?M=N=t=NaN:t<=0||t>=1?M=N=NaN:N<=0&&(M=NaN),new Cn(M,N,t,v)}function Al(M){if(M instanceof Cn)return new Cn(M.h,M.s,M.l,M.opacity);if(M instanceof va||(M=ka(M)),!M)return new Cn;if(M instanceof Cn)return M;M=M.rgb();var N=M.r/255,t=M.g/255,v=M.b/255,u=Math.min(N,t,v),m=Math.max(N,t,v),g=NaN,f=m-u,w=(m+u)/2;return f?(N===m?g=(t-v)/f+(t<v)*6:t===m?g=(v-N)/f+2:g=(N-t)/f+4,f/=w<.5?m+u:2-m-u,g*=60):f=w>0&&w<1?0:g,new Cn(g,f,w,M.opacity)}function Ji(M,N,t,v){return arguments.length===1?Al(M):new Cn(M,N,t,v??1)}function Cn(M,N,t,v){this.h=+M,this.s=+N,this.l=+t,this.opacity=+v}function Tl(M){return M=(M||0)%360,M<0?M+360:M}function Ja(M){return Math.max(0,Math.min(1,M||0))}function Ki(M,N,t){return(M<60?N+(t-N)*M/60:M<180?t:M<240?N+(t-N)*(240-M)/60:N)*255}var Xn,Kn,ea,ha,Dn,Ml,kl,Ll,Sl,Pl,El,Cl,eo,Dl=Ur({"node_modules/d3-color/src/color.js"(){pl(),Xn=.7,Kn=1/Xn,ea="\\s*([+-]?\\d+)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ml=/^#([0-9a-f]{3,8})$/,kl=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),Ll=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),Sl=new RegExp(`^rgba\\(${ea},${ea},${ea},${ha}\\)$`),Pl=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${ha}\\)$`),El=new RegExp(`^hsl\\(${ha},${Dn},${Dn}\\)$`),Cl=new RegExp(`^hsla\\(${ha},${Dn},${Dn},${ha}\\)$`),eo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Za(va,ka,{copy(M){return Object.assign(new this.constructor,this,M)},displayable(){return this.rgb().displayable()},hex:yl,formatHex:yl,formatHex8:Ac,formatHsl:Tc,formatRgb:gl,toString:gl}),Za(dn,$a,Qi(va,{brighter(M){return M=M==null?Kn:Math.pow(Kn,M),new dn(this.r*M,this.g*M,this.b*M,this.opacity)},darker(M){return M=M==null?Xn:Math.pow(Xn,M),new dn(this.r*M,this.g*M,this.b*M,this.opacity)},rgb(){return this},clamp(){return new dn(Qn(this.r),Qn(this.g),Qn(this.b),Qa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bl,formatHex:bl,formatHex8:Mc,formatRgb:xl,toString:xl})),Za(Cn,Ji,Qi(va,{brighter(M){return M=M==null?Kn:Math.pow(Kn,M),new Cn(this.h,this.s,this.l*M,this.opacity)},darker(M){return M=M==null?Xn:Math.pow(Xn,M),new Cn(this.h,this.s,this.l*M,this.opacity)},rgb(){var M=this.h%360+(this.h<0)*360,N=isNaN(M)||isNaN(this.s)?0:this.s,t=this.l,v=t+(t<.5?t:1-t)*N,u=2*t-v;return new dn(Ki(M>=240?M-240:M+120,u,v),Ki(M,u,v),Ki(M<120?M+240:M-120,u,v),this.opacity)},clamp(){return new Cn(Tl(this.h),Ja(this.s),Ja(this.l),Qa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const M=Qa(this.opacity);return`${M===1?"hsl(":"hsla("}${Tl(this.h)}, ${Ja(this.s)*100}%, ${Ja(this.l)*100}%${M===1?")":`, ${M})`}`}}))}}),Rl,Nl,kc=Ur({"node_modules/d3-color/src/math.js"(){Rl=Math.PI/180,Nl=180/Math.PI}});function Lc(M){if(M instanceof ta)return new ta(M.h,M.s,M.l,M.opacity);M instanceof dn||(M=_l(M));var N=M.r/255,t=M.g/255,v=M.b/255,u=(io*v+no*N-ao*t)/(io+no-ao),m=v-u,g=(da*(t-u)-ei*m)/La,f=Math.sqrt(g*g+m*m)/(da*u*(1-u)),w=f?Math.atan2(g,m)*Nl-120:NaN;return new ta(w<0?w+360:w,f,u,M.opacity)}function to(M,N,t,v){return arguments.length===1?Lc(M):new ta(M,N,t,v??1)}function ta(M,N,t,v){this.h=+M,this.s=+N,this.l=+t,this.opacity=+v}var ro,Ka,ei,La,da,no,ao,io,Sc=Ur({"node_modules/d3-color/src/cubehelix.js"(){pl(),Dl(),kc(),ro=-.14861,Ka=1.78277,ei=-.29227,La=-.90649,da=1.97294,no=da*La,ao=da*Ka,io=Ka*ei-La*ro,Za(ta,to,Qi(va,{brighter(M){return M=M==null?Kn:Math.pow(Kn,M),new ta(this.h,this.s,this.l*M,this.opacity)},darker(M){return M=M==null?Xn:Math.pow(Xn,M),new ta(this.h,this.s,this.l*M,this.opacity)},rgb(){var M=isNaN(this.h)?0:(this.h+120)*Rl,N=+this.l,t=isNaN(this.s)?0:this.s*N*(1-N),v=Math.cos(M),u=Math.sin(M);return new dn(255*(N+t*(ro*v+Ka*u)),255*(N+t*(ei*v+La*u)),255*(N+t*(da*v)),this.opacity)}}))}}),Sa=Ur({"node_modules/d3-color/src/index.js"(){Dl(),Sc()}});function Fl(M,N,t,v,u){var m=M*M,g=m*M;return((1-3*M+3*m-g)*N+(4-6*m+3*g)*t+(1+3*M+3*m-3*g)*v+g*u)/6}function zl(M){var N=M.length-1;return function(t){var v=t<=0?t=0:t>=1?(t=1,N-1):Math.floor(t*N),u=M[v],m=M[v+1],g=v>0?M[v-1]:2*u-m,f=v<N-1?M[v+2]:2*m-u;return Fl((t-v/N)*N,g,u,m,f)}}var oo=Ur({"node_modules/d3-interpolate/src/basis.js"(){}});function Il(M){var N=M.length;return function(t){var v=Math.floor(((t%=1)<0?++t:t)*N),u=M[(v+N-1)%N],m=M[v%N],g=M[(v+1)%N],f=M[(v+2)%N];return Fl((t-v/N)*N,u,m,g,f)}}var Ol=Ur({"node_modules/d3-interpolate/src/basisClosed.js"(){oo()}}),Pa,Hl=Ur({"node_modules/d3-interpolate/src/constant.js"(){Pa=M=>()=>M}});function ql(M,N){return function(t){return M+t*N}}function Pc(M,N,t){return M=Math.pow(M,t),N=Math.pow(N,t)-M,t=1/t,function(v){return Math.pow(M+v*N,t)}}function ti(M,N){var t=N-M;return t?ql(M,t>180||t<-180?t-360*Math.round(t/360):t):Pa(isNaN(M)?N:M)}function Ec(M){return(M=+M)==1?mn:function(N,t){return t-N?Pc(N,t,M):Pa(isNaN(N)?t:N)}}function mn(M,N){var t=N-M;return t?ql(M,t):Pa(isNaN(M)?N:M)}var Ea=Ur({"node_modules/d3-interpolate/src/color.js"(){Hl()}});function Bl(M){return function(N){var t=N.length,v=new Array(t),u=new Array(t),m=new Array(t),g,f;for(g=0;g<t;++g)f=$a(N[g]),v[g]=f.r||0,u[g]=f.g||0,m[g]=f.b||0;return v=M(v),u=M(u),m=M(m),f.opacity=1,function(w){return f.r=v(w),f.g=u(w),f.b=m(w),f+""}}}var ri,Gl,Ul,jl=Ur({"node_modules/d3-interpolate/src/rgb.js"(){Sa(),oo(),Ol(),Ea(),ri=function M(N){var t=Ec(N);function v(u,m){var g=t((u=$a(u)).r,(m=$a(m)).r),f=t(u.g,m.g),w=t(u.b,m.b),c=mn(u.opacity,m.opacity);return function(r){return u.r=g(r),u.g=f(r),u.b=w(r),u.opacity=c(r),u+""}}return v.gamma=M,v}(1),Gl=Bl(zl),Ul=Bl(Il)}});function lo(M,N){N||(N=[]);var t=M?Math.min(N.length,M.length):0,v=N.slice(),u;return function(m){for(u=0;u<t;++u)v[u]=M[u]*(1-m)+N[u]*m;return v}}function Xl(M){return ArrayBuffer.isView(M)&&!(M instanceof DataView)}var so=Ur({"node_modules/d3-interpolate/src/numberArray.js"(){}});function Cc(M,N){return(Xl(N)?lo:Vl)(M,N)}function Vl(M,N){var t=N?N.length:0,v=M?Math.min(t,M.length):0,u=new Array(v),m=new Array(t),g;for(g=0;g<v;++g)u[g]=oi(M[g],N[g]);for(;g<t;++g)m[g]=N[g];return function(f){for(g=0;g<v;++g)m[g]=u[g](f);return m}}var Yl=Ur({"node_modules/d3-interpolate/src/array.js"(){li(),so()}});function Zl(M,N){var t=new Date;return M=+M,N=+N,function(v){return t.setTime(M*(1-v)+N*v),t}}var Wl=Ur({"node_modules/d3-interpolate/src/date.js"(){}});function In(M,N){return M=+M,N=+N,function(t){return M*(1-t)+N*t}}var ni=Ur({"node_modules/d3-interpolate/src/number.js"(){}});function $l(M,N){var t={},v={},u;(M===null||typeof M!="object")&&(M={}),(N===null||typeof N!="object")&&(N={});for(u in N)u in M?t[u]=oi(M[u],N[u]):v[u]=N[u];return function(m){for(u in t)v[u]=t[u](m);return v}}var Ql=Ur({"node_modules/d3-interpolate/src/object.js"(){li()}});function Dc(M){return function(){return M}}function Rc(M){return function(N){return M(N)+""}}function Jl(M,N){var t=ai.lastIndex=ii.lastIndex=0,v,u,m,g=-1,f=[],w=[];for(M=M+"",N=N+"";(v=ai.exec(M))&&(u=ii.exec(N));)(m=u.index)>t&&(m=N.slice(t,m),f[g]?f[g]+=m:f[++g]=m),(v=v[0])===(u=u[0])?f[g]?f[g]+=u:f[++g]=u:(f[++g]=null,w.push({i:g,x:In(v,u)})),t=ii.lastIndex;return t<N.length&&(m=N.slice(t),f[g]?f[g]+=m:f[++g]=m),f.length<2?w[0]?Rc(w[0].x):Dc(N):(N=w.length,function(c){for(var r=0,A;r<N;++r)f[(A=w[r]).i]=A.x(c);return f.join("")})}var ai,ii,Kl=Ur({"node_modules/d3-interpolate/src/string.js"(){ni(),ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ii=new RegExp(ai.source,"g")}});function oi(M,N){var t=typeof N,v;return N==null||t==="boolean"?Pa(N):(t==="number"?In:t==="string"?(v=ka(N))?(N=v,ri):Jl:N instanceof ka?ri:N instanceof Date?Zl:Xl(N)?lo:Array.isArray(N)?Vl:typeof N.valueOf!="function"&&typeof N.toString!="function"||isNaN(N)?$l:In)(M,N)}var li=Ur({"node_modules/d3-interpolate/src/value.js"(){Sa(),jl(),Yl(),Wl(),ni(),Ql(),Kl(),Hl(),so()}});function Nc(M){var N=M.length;return function(t){return M[Math.max(0,Math.min(N-1,Math.floor(t*N)))]}}var Fc=Ur({"node_modules/d3-interpolate/src/discrete.js"(){}});function zc(M,N){var t=ti(+M,+N);return function(v){var u=t(v);return u-360*Math.floor(u/360)}}var Ic=Ur({"node_modules/d3-interpolate/src/hue.js"(){Ea()}});function Oc(M,N){return M=+M,N=+N,function(t){return Math.round(M*(1-t)+N*t)}}var Hc=Ur({"node_modules/d3-interpolate/src/round.js"(){}});function es(M,N,t,v,u,m){var g,f,w;return(g=Math.sqrt(M*M+N*N))&&(M/=g,N/=g),(w=M*t+N*v)&&(t-=M*w,v-=N*w),(f=Math.sqrt(t*t+v*v))&&(t/=f,v/=f,w/=f),M*v<N*t&&(M=-M,N=-N,w=-w,g=-g),{translateX:u,translateY:m,rotate:Math.atan2(N,M)*uo,skewX:Math.atan(w)*uo,scaleX:g,scaleY:f}}var uo,si,qc=Ur({"node_modules/d3-interpolate/src/transform/decompose.js"(){uo=180/Math.PI,si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}}});function Bc(M){const N=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(M+"");return N.isIdentity?si:es(N.a,N.b,N.c,N.d,N.e,N.f)}function Gc(M){return M==null||(ui||(ui=document.createElementNS("http://www.w3.org/2000/svg","g")),ui.setAttribute("transform",M),!(M=ui.transform.baseVal.consolidate()))?si:(M=M.matrix,es(M.a,M.b,M.c,M.d,M.e,M.f))}var ui,Uc=Ur({"node_modules/d3-interpolate/src/transform/parse.js"(){qc()}});function ts(M,N,t,v){function u(c){return c.length?c.pop()+" ":""}function m(c,r,A,p,E,S){if(c!==A||r!==p){var F=E.push("translate(",null,N,null,t);S.push({i:F-4,x:In(c,A)},{i:F-2,x:In(r,p)})}else(A||p)&&E.push("translate("+A+N+p+t)}function g(c,r,A,p){c!==r?(c-r>180?r+=360:r-c>180&&(c+=360),p.push({i:A.push(u(A)+"rotate(",null,v)-2,x:In(c,r)})):r&&A.push(u(A)+"rotate("+r+v)}function f(c,r,A,p){c!==r?p.push({i:A.push(u(A)+"skewX(",null,v)-2,x:In(c,r)}):r&&A.push(u(A)+"skewX("+r+v)}function w(c,r,A,p,E,S){if(c!==A||r!==p){var F=E.push(u(E)+"scale(",null,",",null,")");S.push({i:F-4,x:In(c,A)},{i:F-2,x:In(r,p)})}else(A!==1||p!==1)&&E.push(u(E)+"scale("+A+","+p+")")}return function(c,r){var A=[],p=[];return c=M(c),r=M(r),m(c.translateX,c.translateY,r.translateX,r.translateY,A,p),g(c.rotate,r.rotate,A,p),f(c.skewX,r.skewX,A,p),w(c.scaleX,c.scaleY,r.scaleX,r.scaleY,A,p),c=r=null,function(E){for(var S=-1,F=p.length,x;++S<F;)A[(x=p[S]).i]=x.x(E);return A.join("")}}}var rs,ns,jc=Ur({"node_modules/d3-interpolate/src/transform/index.js"(){ni(),Uc(),rs=ts(Bc,"px, ","px)","deg)"),ns=ts(Gc,", ",")",")")}});function as(M){return((M=Math.exp(M))+1/M)/2}function Xc(M){return((M=Math.exp(M))-1/M)/2}function Vc(M){return((M=Math.exp(2*M))-1)/(M+1)}var is,os,Yc=Ur({"node_modules/d3-interpolate/src/zoom.js"(){is=1e-12,os=function M(N,t,v){function u(m,g){var f=m[0],w=m[1],c=m[2],r=g[0],A=g[1],p=g[2],E=r-f,S=A-w,F=E*E+S*S,x,b;if(F<is)b=Math.log(p/c)/N,x=function(z){return[f+z*E,w+z*S,c*Math.exp(N*z*b)]};else{var h=Math.sqrt(F),a=(p*p-c*c+v*F)/(2*c*t*h),o=(p*p-c*c-v*F)/(2*p*t*h),T=Math.log(Math.sqrt(a*a+1)-a),C=Math.log(Math.sqrt(o*o+1)-o);b=(C-T)/N,x=function(z){var Y=z*b,L=as(T),O=c/(t*h)*(L*Vc(N*Y+T)-Xc(T));return[f+O*E,w+O*S,c*L/as(N*Y+T)]}}return x.duration=b*1e3*N/Math.SQRT2,x}return u.rho=function(m){var g=Math.max(.001,+m),f=g*g,w=f*f;return M(g,f,w)},u}(Math.SQRT2,2,4)}});function ls(M){return function(N,t){var v=M((N=Ji(N)).h,(t=Ji(t)).h),u=mn(N.s,t.s),m=mn(N.l,t.l),g=mn(N.opacity,t.opacity);return function(f){return N.h=v(f),N.s=u(f),N.l=m(f),N.opacity=g(f),N+""}}}var ss,us,Zc=Ur({"node_modules/d3-interpolate/src/hsl.js"(){Sa(),Ea(),ss=ls(ti),us=ls(mn)}});function fs(M){return function(N,t){var v=M((N=hcl(N)).h,(t=hcl(t)).h),u=mn(N.c,t.c),m=mn(N.l,t.l),g=mn(N.opacity,t.opacity);return function(f){return N.h=v(f),N.c=u(f),N.l=m(f),N.opacity=g(f),N+""}}}var cs,vs,Wc=Ur({"node_modules/d3-interpolate/src/hcl.js"(){Sa(),Ea(),cs=fs(ti),vs=fs(mn)}});function hs(M){return function N(t){t=+t;function v(u,m){var g=M((u=to(u)).h,(m=to(m)).h),f=mn(u.s,m.s),w=mn(u.l,m.l),c=mn(u.opacity,m.opacity);return function(r){return u.h=g(r),u.s=f(r),u.l=w(Math.pow(r,t)),u.opacity=c(r),u+""}}return v.gamma=N,v}(1)}var ds,ps,$c=Ur({"node_modules/d3-interpolate/src/cubehelix.js"(){Sa(),Ea(),ds=hs(ti),ps=hs(mn)}});function Qc(M,N){N===void 0&&(N=M,M=oi);for(var t=0,v=N.length-1,u=N[0],m=new Array(v<0?0:v);t<v;)m[t]=M(u,u=N[++t]);return function(g){var f=Math.max(0,Math.min(v-1,Math.floor(g*=v)));return m[f](g-f)}}var Jc=Ur({"node_modules/d3-interpolate/src/piecewise.js"(){li()}});function Kc(M,N){for(var t=new Array(N),v=0;v<N;++v)t[v]=M(v/(N-1));return t}var ev=Ur({"node_modules/d3-interpolate/src/quantize.js"(){}}),ys={};mu(ys,{interpolate:()=>oi,interpolateArray:()=>Cc,interpolateBasis:()=>zl,interpolateBasisClosed:()=>Il,interpolateCubehelix:()=>ds,interpolateCubehelixLong:()=>ps,interpolateDate:()=>Zl,interpolateDiscrete:()=>Nc,interpolateHcl:()=>cs,interpolateHclLong:()=>vs,interpolateHsl:()=>ss,interpolateHslLong:()=>us,interpolateHue:()=>zc,interpolateNumber:()=>In,interpolateNumberArray:()=>lo,interpolateObject:()=>$l,interpolateRgb:()=>ri,interpolateRgbBasis:()=>Gl,interpolateRgbBasisClosed:()=>Ul,interpolateRound:()=>Oc,interpolateString:()=>Jl,interpolateTransformCss:()=>rs,interpolateTransformSvg:()=>ns,interpolateZoom:()=>os,piecewise:()=>Qc,quantize:()=>Kc});var tv=Ur({"node_modules/d3-interpolate/src/index.js"(){li(),Yl(),oo(),Ol(),Wl(),Fc(),Ic(),ni(),so(),Ql(),Hc(),Kl(),jc(),Yc(),jl(),Zc(),Wc(),$c(),Jc(),ev()}}),gs=Ke({"node_modules/d3-array/dist/d3-array.js"(M,N){(function(t,v){v(typeof M=="object"&&typeof N<"u"?M:t.d3=t.d3||{})})(M,function(t){"use strict";function v(i,l){return i<l?-1:i>l?1:i>=l?0:NaN}function u(i){return i.length===1&&(i=m(i)),{left:function(l,k,y,n){for(y==null&&(y=0),n==null&&(n=l.length);y<n;){var q=y+n>>>1;i(l[q],k)<0?y=q+1:n=q}return y},right:function(l,k,y,n){for(y==null&&(y=0),n==null&&(n=l.length);y<n;){var q=y+n>>>1;i(l[q],k)>0?n=q:y=q+1}return y}}}function m(i){return function(l,k){return v(i(l),k)}}var g=u(v),f=g.right,w=g.left;function c(i,l){l==null&&(l=r);for(var k=0,y=i.length-1,n=i[0],q=new Array(y<0?0:y);k<y;)q[k]=l(n,n=i[++k]);return q}function r(i,l){return[i,l]}function A(i,l,k){var y=i.length,n=l.length,q=new Array(y*n),J,se,ye,we;for(k==null&&(k=r),J=ye=0;J<y;++J)for(we=i[J],se=0;se<n;++se,++ye)q[ye]=k(we,l[se]);return q}function p(i,l){return l<i?-1:l>i?1:l>=i?0:NaN}function E(i){return i===null?NaN:+i}function S(i,l){var k=i.length,y=0,n=-1,q=0,J,se,ye=0;if(l==null)for(;++n<k;)isNaN(J=E(i[n]))||(se=J-q,q+=se/++y,ye+=se*(J-q));else for(;++n<k;)isNaN(J=E(l(i[n],n,i)))||(se=J-q,q+=se/++y,ye+=se*(J-q));if(y>1)return ye/(y-1)}function F(i,l){var k=S(i,l);return k&&Math.sqrt(k)}function x(i,l){var k=i.length,y=-1,n,q,J;if(l==null){for(;++y<k;)if((n=i[y])!=null&&n>=n)for(q=J=n;++y<k;)(n=i[y])!=null&&(q>n&&(q=n),J<n&&(J=n))}else for(;++y<k;)if((n=l(i[y],y,i))!=null&&n>=n)for(q=J=n;++y<k;)(n=l(i[y],y,i))!=null&&(q>n&&(q=n),J<n&&(J=n));return[q,J]}var b=Array.prototype,h=b.slice,a=b.map;function o(i){return function(){return i}}function T(i){return i}function C(i,l,k){i=+i,l=+l,k=(n=arguments.length)<2?(l=i,i=0,1):n<3?1:+k;for(var y=-1,n=Math.max(0,Math.ceil((l-i)/k))|0,q=new Array(n);++y<n;)q[y]=i+y*k;return q}var z=Math.sqrt(50),Y=Math.sqrt(10),L=Math.sqrt(2);function O(i,l,k){var y,n=-1,q,J,se;if(l=+l,i=+i,k=+k,i===l&&k>0)return[i];if((y=l<i)&&(q=i,i=l,l=q),(se=D(i,l,k))===0||!isFinite(se))return[];if(se>0)for(i=Math.ceil(i/se),l=Math.floor(l/se),J=new Array(q=Math.ceil(l-i+1));++n<q;)J[n]=(i+n)*se;else for(i=Math.floor(i*se),l=Math.ceil(l*se),J=new Array(q=Math.ceil(i-l+1));++n<q;)J[n]=(i-n)/se;return y&&J.reverse(),J}function D(i,l,k){var y=(l-i)/Math.max(0,k),n=Math.floor(Math.log(y)/Math.LN10),q=y/Math.pow(10,n);return n>=0?(q>=z?10:q>=Y?5:q>=L?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(q>=z?10:q>=Y?5:q>=L?2:1)}function d(i,l,k){var y=Math.abs(l-i)/Math.max(0,k),n=Math.pow(10,Math.floor(Math.log(y)/Math.LN10)),q=y/n;return q>=z?n*=10:q>=Y?n*=5:q>=L&&(n*=2),l<i?-n:n}function U(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function B(){var i=T,l=x,k=U;function y(n){var q,J=n.length,se,ye=new Array(J);for(q=0;q<J;++q)ye[q]=i(n[q],q,n);var we=l(ye),ke=we[0],ue=we[1],Me=k(ye,ke,ue);Array.isArray(Me)||(Me=d(ke,ue,Me),Me=C(Math.ceil(ke/Me)*Me,ue,Me));for(var Ne=Me.length;Me[0]<=ke;)Me.shift(),--Ne;for(;Me[Ne-1]>ue;)Me.pop(),--Ne;var Ce=new Array(Ne+1),Le;for(q=0;q<=Ne;++q)Le=Ce[q]=[],Le.x0=q>0?Me[q-1]:ke,Le.x1=q<Ne?Me[q]:ue;for(q=0;q<J;++q)se=ye[q],ke<=se&&se<=ue&&Ce[f(Me,se,0,Ne)].push(n[q]);return Ce}return y.value=function(n){return arguments.length?(i=typeof n=="function"?n:o(n),y):i},y.domain=function(n){return arguments.length?(l=typeof n=="function"?n:o([n[0],n[1]]),y):l},y.thresholds=function(n){return arguments.length?(k=typeof n=="function"?n:Array.isArray(n)?o(h.call(n)):o(n),y):k},y}function X(i,l,k){if(k==null&&(k=E),!!(y=i.length)){if((l=+l)<=0||y<2)return+k(i[0],0,i);if(l>=1)return+k(i[y-1],y-1,i);var y,n=(y-1)*l,q=Math.floor(n),J=+k(i[q],q,i),se=+k(i[q+1],q+1,i);return J+(se-J)*(n-q)}}function K(i,l,k){return i=a.call(i,E).sort(v),Math.ceil((k-l)/(2*(X(i,.75)-X(i,.25))*Math.pow(i.length,-1/3)))}function H(i,l,k){return Math.ceil((k-l)/(3.5*F(i)*Math.pow(i.length,-1/3)))}function te(i,l){var k=i.length,y=-1,n,q;if(l==null){for(;++y<k;)if((n=i[y])!=null&&n>=n)for(q=n;++y<k;)(n=i[y])!=null&&n>q&&(q=n)}else for(;++y<k;)if((n=l(i[y],y,i))!=null&&n>=n)for(q=n;++y<k;)(n=l(i[y],y,i))!=null&&n>q&&(q=n);return q}function ne(i,l){var k=i.length,y=k,n=-1,q,J=0;if(l==null)for(;++n<k;)isNaN(q=E(i[n]))?--y:J+=q;else for(;++n<k;)isNaN(q=E(l(i[n],n,i)))?--y:J+=q;if(y)return J/y}function ie(i,l){var k=i.length,y=-1,n,q=[];if(l==null)for(;++y<k;)isNaN(n=E(i[y]))||q.push(n);else for(;++y<k;)isNaN(n=E(l(i[y],y,i)))||q.push(n);return X(q.sort(v),.5)}function re(i){for(var l=i.length,k,y=-1,n=0,q,J;++y<l;)n+=i[y].length;for(q=new Array(n);--l>=0;)for(J=i[l],k=J.length;--k>=0;)q[--n]=J[k];return q}function oe(i,l){var k=i.length,y=-1,n,q;if(l==null){for(;++y<k;)if((n=i[y])!=null&&n>=n)for(q=n;++y<k;)(n=i[y])!=null&&q>n&&(q=n)}else for(;++y<k;)if((n=l(i[y],y,i))!=null&&n>=n)for(q=n;++y<k;)(n=l(i[y],y,i))!=null&&q>n&&(q=n);return q}function W(i,l){for(var k=l.length,y=new Array(k);k--;)y[k]=i[l[k]];return y}function ee(i,l){if(k=i.length){var k,y=0,n=0,q,J=i[n];for(l==null&&(l=v);++y<k;)(l(q=i[y],J)<0||l(J,J)!==0)&&(J=q,n=y);if(l(J,J)===0)return n}}function de(i,l,k){for(var y=(k??i.length)-(l=l==null?0:+l),n,q;y;)q=Math.random()*y--|0,n=i[y+l],i[y+l]=i[q+l],i[q+l]=n;return i}function he(i,l){var k=i.length,y=-1,n,q=0;if(l==null)for(;++y<k;)(n=+i[y])&&(q+=n);else for(;++y<k;)(n=+l(i[y],y,i))&&(q+=n);return q}function I(i){if(!(q=i.length))return[];for(var l=-1,k=oe(i,R),y=new Array(k);++l<k;)for(var n=-1,q,J=y[l]=new Array(q);++n<q;)J[n]=i[n][l];return y}function R(i){return i.length}function _(){return I(arguments)}t.bisect=f,t.bisectRight=f,t.bisectLeft=w,t.ascending=v,t.bisector=u,t.cross=A,t.descending=p,t.deviation=F,t.extent=x,t.histogram=B,t.thresholdFreedmanDiaconis=K,t.thresholdScott=H,t.thresholdSturges=U,t.max=te,t.mean=ne,t.median=ie,t.merge=re,t.min=oe,t.pairs=c,t.permute=W,t.quantile=X,t.range=C,t.scan=ee,t.shuffle=de,t.sum=he,t.ticks=O,t.tickIncrement=D,t.tickStep=d,t.transpose=I,t.variance=S,t.zip=_,Object.defineProperty(t,"__esModule",{value:!0})})}}),rv=Ke({"node_modules/d3-path/dist/d3-path.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M):(t=t||self,v(t.d3=t.d3||{}))})(M,function(t){"use strict";var v=Math.PI,u=2*v,m=1e-6,g=u-m;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function w(){return new f}f.prototype=w.prototype={constructor:f,moveTo:function(c,r){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,r){this._+="L"+(this._x1=+c)+","+(this._y1=+r)},quadraticCurveTo:function(c,r,A,p){this._+="Q"+ +c+","+ +r+","+(this._x1=+A)+","+(this._y1=+p)},bezierCurveTo:function(c,r,A,p,E,S){this._+="C"+ +c+","+ +r+","+ +A+","+ +p+","+(this._x1=+E)+","+(this._y1=+S)},arcTo:function(c,r,A,p,E){c=+c,r=+r,A=+A,p=+p,E=+E;var S=this._x1,F=this._y1,x=A-c,b=p-r,h=S-c,a=F-r,o=h*h+a*a;if(E<0)throw new Error("negative radius: "+E);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=r);else if(o>m)if(!(Math.abs(a*x-b*h)>m)||!E)this._+="L"+(this._x1=c)+","+(this._y1=r);else{var T=A-S,C=p-F,z=x*x+b*b,Y=T*T+C*C,L=Math.sqrt(z),O=Math.sqrt(o),D=E*Math.tan((v-Math.acos((z+o-Y)/(2*L*O)))/2),d=D/O,U=D/L;Math.abs(d-1)>m&&(this._+="L"+(c+d*h)+","+(r+d*a)),this._+="A"+E+","+E+",0,0,"+ +(a*T>h*C)+","+(this._x1=c+U*x)+","+(this._y1=r+U*b)}},arc:function(c,r,A,p,E,S){c=+c,r=+r,A=+A,S=!!S;var F=A*Math.cos(p),x=A*Math.sin(p),b=c+F,h=r+x,a=1^S,o=S?p-E:E-p;if(A<0)throw new Error("negative radius: "+A);this._x1===null?this._+="M"+b+","+h:(Math.abs(this._x1-b)>m||Math.abs(this._y1-h)>m)&&(this._+="L"+b+","+h),A&&(o<0&&(o=o%u+u),o>g?this._+="A"+A+","+A+",0,1,"+a+","+(c-F)+","+(r-x)+"A"+A+","+A+",0,1,"+a+","+(this._x1=b)+","+(this._y1=h):o>m&&(this._+="A"+A+","+A+",0,"+ +(o>=v)+","+a+","+(this._x1=c+A*Math.cos(E))+","+(this._y1=r+A*Math.sin(E))))},rect:function(c,r,A,p){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+r)+"h"+ +A+"v"+ +p+"h"+-A+"Z"},toString:function(){return this._}},t.path=w,Object.defineProperty(t,"__esModule",{value:!0})})}}),ms=Ke({"node_modules/d3-shape/dist/d3-shape.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M,rv()):(t=t||self,v(t.d3=t.d3||{},t.d3))})(M,function(t,v){"use strict";function u(ae){return function(){return ae}}var m=Math.abs,g=Math.atan2,f=Math.cos,w=Math.max,c=Math.min,r=Math.sin,A=Math.sqrt,p=1e-12,E=Math.PI,S=E/2,F=2*E;function x(ae){return ae>1?0:ae<-1?E:Math.acos(ae)}function b(ae){return ae>=1?S:ae<=-1?-S:Math.asin(ae)}function h(ae){return ae.innerRadius}function a(ae){return ae.outerRadius}function o(ae){return ae.startAngle}function T(ae){return ae.endAngle}function C(ae){return ae&&ae.padAngle}function z(ae,be,Ee,De,it,ft,At,nt){var St=Ee-ae,Et=De-be,Ft=At-it,Ht=nt-ft,$t=Ht*St-Ft*Et;if(!($t*$t<p))return $t=(Ft*(be-ft)-Ht*(ae-it))/$t,[ae+$t*St,be+$t*Et]}function Y(ae,be,Ee,De,it,ft,At){var nt=ae-Ee,St=be-De,Et=(At?ft:-ft)/A(nt*nt+St*St),Ft=Et*St,Ht=-Et*nt,$t=ae+Ft,yr=be+Ht,mr=Ee+Ft,lr=De+Ht,ur=($t+mr)/2,zt=(yr+lr)/2,Ar=mr-$t,gr=lr-yr,Mr=Ar*Ar+gr*gr,ir=it-ft,vr=$t*lr-mr*yr,nr=(gr<0?-1:1)*A(w(0,ir*ir*Mr-vr*vr)),kr=(vr*gr-Ar*nr)/Mr,Pr=(-vr*Ar-gr*nr)/Mr,Dr=(vr*gr+Ar*nr)/Mr,Cr=(-vr*Ar+gr*nr)/Mr,tr=kr-ur,pr=Pr-zt,Ir=Dr-ur,Or=Cr-zt;return tr*tr+pr*pr>Ir*Ir+Or*Or&&(kr=Dr,Pr=Cr),{cx:kr,cy:Pr,x01:-Ft,y01:-Ht,x11:kr*(it/ir-1),y11:Pr*(it/ir-1)}}function L(){var ae=h,be=a,Ee=u(0),De=null,it=o,ft=T,At=C,nt=null;function St(){var Et,Ft,Ht=+ae.apply(this,arguments),$t=+be.apply(this,arguments),yr=it.apply(this,arguments)-S,mr=ft.apply(this,arguments)-S,lr=m(mr-yr),ur=mr>yr;if(nt||(nt=Et=v.path()),$t<Ht&&(Ft=$t,$t=Ht,Ht=Ft),!($t>p))nt.moveTo(0,0);else if(lr>F-p)nt.moveTo($t*f(yr),$t*r(yr)),nt.arc(0,0,$t,yr,mr,!ur),Ht>p&&(nt.moveTo(Ht*f(mr),Ht*r(mr)),nt.arc(0,0,Ht,mr,yr,ur));else{var zt=yr,Ar=mr,gr=yr,Mr=mr,ir=lr,vr=lr,nr=At.apply(this,arguments)/2,kr=nr>p&&(De?+De.apply(this,arguments):A(Ht*Ht+$t*$t)),Pr=c(m($t-Ht)/2,+Ee.apply(this,arguments)),Dr=Pr,Cr=Pr,tr,pr;if(kr>p){var Ir=b(kr/Ht*r(nr)),Or=b(kr/$t*r(nr));(ir-=Ir*2)>p?(Ir*=ur?1:-1,gr+=Ir,Mr-=Ir):(ir=0,gr=Mr=(yr+mr)/2),(vr-=Or*2)>p?(Or*=ur?1:-1,zt+=Or,Ar-=Or):(vr=0,zt=Ar=(yr+mr)/2)}var zr=$t*f(zt),Sr=$t*r(zt),Jr=Ht*f(Mr),Kr=Ht*r(Mr);if(Pr>p){var Xr=$t*f(Ar),en=$t*r(Ar),rn=Ht*f(gr),Vr=Ht*r(gr),nn;if(lr<E&&(nn=z(zr,Sr,rn,Vr,Xr,en,Jr,Kr))){var sn=zr-nn[0],jr=Sr-nn[1],ln=Xr-nn[0],Gr=en-nn[1],Wr=1/r(x((sn*ln+jr*Gr)/(A(sn*sn+jr*jr)*A(ln*ln+Gr*Gr)))/2),Lr=A(nn[0]*nn[0]+nn[1]*nn[1]);Dr=c(Pr,(Ht-Lr)/(Wr-1)),Cr=c(Pr,($t-Lr)/(Wr+1))}}vr>p?Cr>p?(tr=Y(rn,Vr,zr,Sr,$t,Cr,ur),pr=Y(Xr,en,Jr,Kr,$t,Cr,ur),nt.moveTo(tr.cx+tr.x01,tr.cy+tr.y01),Cr<Pr?nt.arc(tr.cx,tr.cy,Cr,g(tr.y01,tr.x01),g(pr.y01,pr.x01),!ur):(nt.arc(tr.cx,tr.cy,Cr,g(tr.y01,tr.x01),g(tr.y11,tr.x11),!ur),nt.arc(0,0,$t,g(tr.cy+tr.y11,tr.cx+tr.x11),g(pr.cy+pr.y11,pr.cx+pr.x11),!ur),nt.arc(pr.cx,pr.cy,Cr,g(pr.y11,pr.x11),g(pr.y01,pr.x01),!ur))):(nt.moveTo(zr,Sr),nt.arc(0,0,$t,zt,Ar,!ur)):nt.moveTo(zr,Sr),!(Ht>p)||!(ir>p)?nt.lineTo(Jr,Kr):Dr>p?(tr=Y(Jr,Kr,Xr,en,Ht,-Dr,ur),pr=Y(zr,Sr,rn,Vr,Ht,-Dr,ur),nt.lineTo(tr.cx+tr.x01,tr.cy+tr.y01),Dr<Pr?nt.arc(tr.cx,tr.cy,Dr,g(tr.y01,tr.x01),g(pr.y01,pr.x01),!ur):(nt.arc(tr.cx,tr.cy,Dr,g(tr.y01,tr.x01),g(tr.y11,tr.x11),!ur),nt.arc(0,0,Ht,g(tr.cy+tr.y11,tr.cx+tr.x11),g(pr.cy+pr.y11,pr.cx+pr.x11),ur),nt.arc(pr.cx,pr.cy,Dr,g(pr.y11,pr.x11),g(pr.y01,pr.x01),!ur))):nt.arc(0,0,Ht,Mr,gr,ur)}if(nt.closePath(),Et)return nt=null,Et+""||null}return St.centroid=function(){var Et=(+ae.apply(this,arguments)+ +be.apply(this,arguments))/2,Ft=(+it.apply(this,arguments)+ +ft.apply(this,arguments))/2-E/2;return[f(Ft)*Et,r(Ft)*Et]},St.innerRadius=function(Et){return arguments.length?(ae=typeof Et=="function"?Et:u(+Et),St):ae},St.outerRadius=function(Et){return arguments.length?(be=typeof Et=="function"?Et:u(+Et),St):be},St.cornerRadius=function(Et){return arguments.length?(Ee=typeof Et=="function"?Et:u(+Et),St):Ee},St.padRadius=function(Et){return arguments.length?(De=Et==null?null:typeof Et=="function"?Et:u(+Et),St):De},St.startAngle=function(Et){return arguments.length?(it=typeof Et=="function"?Et:u(+Et),St):it},St.endAngle=function(Et){return arguments.length?(ft=typeof Et=="function"?Et:u(+Et),St):ft},St.padAngle=function(Et){return arguments.length?(At=typeof Et=="function"?Et:u(+Et),St):At},St.context=function(Et){return arguments.length?(nt=Et??null,St):nt},St}function O(ae){this._context=ae}O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2;default:this._context.lineTo(ae,be);break}}};function D(ae){return new O(ae)}function d(ae){return ae[0]}function U(ae){return ae[1]}function B(){var ae=d,be=U,Ee=u(!0),De=null,it=D,ft=null;function At(nt){var St,Et=nt.length,Ft,Ht=!1,$t;for(De==null&&(ft=it($t=v.path())),St=0;St<=Et;++St)!(St<Et&&Ee(Ft=nt[St],St,nt))===Ht&&((Ht=!Ht)?ft.lineStart():ft.lineEnd()),Ht&&ft.point(+ae(Ft,St,nt),+be(Ft,St,nt));if($t)return ft=null,$t+""||null}return At.x=function(nt){return arguments.length?(ae=typeof nt=="function"?nt:u(+nt),At):ae},At.y=function(nt){return arguments.length?(be=typeof nt=="function"?nt:u(+nt),At):be},At.defined=function(nt){return arguments.length?(Ee=typeof nt=="function"?nt:u(!!nt),At):Ee},At.curve=function(nt){return arguments.length?(it=nt,De!=null&&(ft=it(De)),At):it},At.context=function(nt){return arguments.length?(nt==null?De=ft=null:ft=it(De=nt),At):De},At}function X(){var ae=d,be=null,Ee=u(0),De=U,it=u(!0),ft=null,At=D,nt=null;function St(Ft){var Ht,$t,yr,mr=Ft.length,lr,ur=!1,zt,Ar=new Array(mr),gr=new Array(mr);for(ft==null&&(nt=At(zt=v.path())),Ht=0;Ht<=mr;++Ht){if(!(Ht<mr&&it(lr=Ft[Ht],Ht,Ft))===ur)if(ur=!ur)$t=Ht,nt.areaStart(),nt.lineStart();else{for(nt.lineEnd(),nt.lineStart(),yr=Ht-1;yr>=$t;--yr)nt.point(Ar[yr],gr[yr]);nt.lineEnd(),nt.areaEnd()}ur&&(Ar[Ht]=+ae(lr,Ht,Ft),gr[Ht]=+Ee(lr,Ht,Ft),nt.point(be?+be(lr,Ht,Ft):Ar[Ht],De?+De(lr,Ht,Ft):gr[Ht]))}if(zt)return nt=null,zt+""||null}function Et(){return B().defined(it).curve(At).context(ft)}return St.x=function(Ft){return arguments.length?(ae=typeof Ft=="function"?Ft:u(+Ft),be=null,St):ae},St.x0=function(Ft){return arguments.length?(ae=typeof Ft=="function"?Ft:u(+Ft),St):ae},St.x1=function(Ft){return arguments.length?(be=Ft==null?null:typeof Ft=="function"?Ft:u(+Ft),St):be},St.y=function(Ft){return arguments.length?(Ee=typeof Ft=="function"?Ft:u(+Ft),De=null,St):Ee},St.y0=function(Ft){return arguments.length?(Ee=typeof Ft=="function"?Ft:u(+Ft),St):Ee},St.y1=function(Ft){return arguments.length?(De=Ft==null?null:typeof Ft=="function"?Ft:u(+Ft),St):De},St.lineX0=St.lineY0=function(){return Et().x(ae).y(Ee)},St.lineY1=function(){return Et().x(ae).y(De)},St.lineX1=function(){return Et().x(be).y(Ee)},St.defined=function(Ft){return arguments.length?(it=typeof Ft=="function"?Ft:u(!!Ft),St):it},St.curve=function(Ft){return arguments.length?(At=Ft,ft!=null&&(nt=At(ft)),St):At},St.context=function(Ft){return arguments.length?(Ft==null?ft=nt=null:nt=At(ft=Ft),St):ft},St}function K(ae,be){return be<ae?-1:be>ae?1:be>=ae?0:NaN}function H(ae){return ae}function te(){var ae=H,be=K,Ee=null,De=u(0),it=u(F),ft=u(0);function At(nt){var St,Et=nt.length,Ft,Ht,$t=0,yr=new Array(Et),mr=new Array(Et),lr=+De.apply(this,arguments),ur=Math.min(F,Math.max(-F,it.apply(this,arguments)-lr)),zt,Ar=Math.min(Math.abs(ur)/Et,ft.apply(this,arguments)),gr=Ar*(ur<0?-1:1),Mr;for(St=0;St<Et;++St)(Mr=mr[yr[St]=St]=+ae(nt[St],St,nt))>0&&($t+=Mr);for(be!=null?yr.sort(function(ir,vr){return be(mr[ir],mr[vr])}):Ee!=null&&yr.sort(function(ir,vr){return Ee(nt[ir],nt[vr])}),St=0,Ht=$t?(ur-Et*gr)/$t:0;St<Et;++St,lr=zt)Ft=yr[St],Mr=mr[Ft],zt=lr+(Mr>0?Mr*Ht:0)+gr,mr[Ft]={data:nt[Ft],index:St,value:Mr,startAngle:lr,endAngle:zt,padAngle:Ar};return mr}return At.value=function(nt){return arguments.length?(ae=typeof nt=="function"?nt:u(+nt),At):ae},At.sortValues=function(nt){return arguments.length?(be=nt,Ee=null,At):be},At.sort=function(nt){return arguments.length?(Ee=nt,be=null,At):Ee},At.startAngle=function(nt){return arguments.length?(De=typeof nt=="function"?nt:u(+nt),At):De},At.endAngle=function(nt){return arguments.length?(it=typeof nt=="function"?nt:u(+nt),At):it},At.padAngle=function(nt){return arguments.length?(ft=typeof nt=="function"?nt:u(+nt),At):ft},At}var ne=re(D);function ie(ae){this._curve=ae}ie.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(ae,be){this._curve.point(be*Math.sin(ae),be*-Math.cos(ae))}};function re(ae){function be(Ee){return new ie(ae(Ee))}return be._curve=ae,be}function oe(ae){var be=ae.curve;return ae.angle=ae.x,delete ae.x,ae.radius=ae.y,delete ae.y,ae.curve=function(Ee){return arguments.length?be(re(Ee)):be()._curve},ae}function W(){return oe(B().curve(ne))}function ee(){var ae=X().curve(ne),be=ae.curve,Ee=ae.lineX0,De=ae.lineX1,it=ae.lineY0,ft=ae.lineY1;return ae.angle=ae.x,delete ae.x,ae.startAngle=ae.x0,delete ae.x0,ae.endAngle=ae.x1,delete ae.x1,ae.radius=ae.y,delete ae.y,ae.innerRadius=ae.y0,delete ae.y0,ae.outerRadius=ae.y1,delete ae.y1,ae.lineStartAngle=function(){return oe(Ee())},delete ae.lineX0,ae.lineEndAngle=function(){return oe(De())},delete ae.lineX1,ae.lineInnerRadius=function(){return oe(it())},delete ae.lineY0,ae.lineOuterRadius=function(){return oe(ft())},delete ae.lineY1,ae.curve=function(At){return arguments.length?be(re(At)):be()._curve},ae}function de(ae,be){return[(be=+be)*Math.cos(ae-=Math.PI/2),be*Math.sin(ae)]}var he=Array.prototype.slice;function I(ae){return ae.source}function R(ae){return ae.target}function _(ae){var be=I,Ee=R,De=d,it=U,ft=null;function At(){var nt,St=he.call(arguments),Et=be.apply(this,St),Ft=Ee.apply(this,St);if(ft||(ft=nt=v.path()),ae(ft,+De.apply(this,(St[0]=Et,St)),+it.apply(this,St),+De.apply(this,(St[0]=Ft,St)),+it.apply(this,St)),nt)return ft=null,nt+""||null}return At.source=function(nt){return arguments.length?(be=nt,At):be},At.target=function(nt){return arguments.length?(Ee=nt,At):Ee},At.x=function(nt){return arguments.length?(De=typeof nt=="function"?nt:u(+nt),At):De},At.y=function(nt){return arguments.length?(it=typeof nt=="function"?nt:u(+nt),At):it},At.context=function(nt){return arguments.length?(ft=nt??null,At):ft},At}function i(ae,be,Ee,De,it){ae.moveTo(be,Ee),ae.bezierCurveTo(be=(be+De)/2,Ee,be,it,De,it)}function l(ae,be,Ee,De,it){ae.moveTo(be,Ee),ae.bezierCurveTo(be,Ee=(Ee+it)/2,De,Ee,De,it)}function k(ae,be,Ee,De,it){var ft=de(be,Ee),At=de(be,Ee=(Ee+it)/2),nt=de(De,Ee),St=de(De,it);ae.moveTo(ft[0],ft[1]),ae.bezierCurveTo(At[0],At[1],nt[0],nt[1],St[0],St[1])}function y(){return _(i)}function n(){return _(l)}function q(){var ae=_(k);return ae.angle=ae.x,delete ae.x,ae.radius=ae.y,delete ae.y,ae}var J={draw:function(ae,be){var Ee=Math.sqrt(be/E);ae.moveTo(Ee,0),ae.arc(0,0,Ee,0,F)}},se={draw:function(ae,be){var Ee=Math.sqrt(be/5)/2;ae.moveTo(-3*Ee,-Ee),ae.lineTo(-Ee,-Ee),ae.lineTo(-Ee,-3*Ee),ae.lineTo(Ee,-3*Ee),ae.lineTo(Ee,-Ee),ae.lineTo(3*Ee,-Ee),ae.lineTo(3*Ee,Ee),ae.lineTo(Ee,Ee),ae.lineTo(Ee,3*Ee),ae.lineTo(-Ee,3*Ee),ae.lineTo(-Ee,Ee),ae.lineTo(-3*Ee,Ee),ae.closePath()}},ye=Math.sqrt(1/3),we=ye*2,ke={draw:function(ae,be){var Ee=Math.sqrt(be/we),De=Ee*ye;ae.moveTo(0,-Ee),ae.lineTo(De,0),ae.lineTo(0,Ee),ae.lineTo(-De,0),ae.closePath()}},ue=.8908130915292852,Me=Math.sin(E/10)/Math.sin(7*E/10),Ne=Math.sin(F/10)*Me,Ce=-Math.cos(F/10)*Me,Le={draw:function(ae,be){var Ee=Math.sqrt(be*ue),De=Ne*Ee,it=Ce*Ee;ae.moveTo(0,-Ee),ae.lineTo(De,it);for(var ft=1;ft<5;++ft){var At=F*ft/5,nt=Math.cos(At),St=Math.sin(At);ae.lineTo(St*Ee,-nt*Ee),ae.lineTo(nt*De-St*it,St*De+nt*it)}ae.closePath()}},$={draw:function(ae,be){var Ee=Math.sqrt(be),De=-Ee/2;ae.rect(De,De,Ee,Ee)}},ce=Math.sqrt(3),me={draw:function(ae,be){var Ee=-Math.sqrt(be/(ce*3));ae.moveTo(0,Ee*2),ae.lineTo(-ce*Ee,-Ee),ae.lineTo(ce*Ee,-Ee),ae.closePath()}},pe=-.5,xe=Math.sqrt(3)/2,Oe=1/Math.sqrt(12),Xe=(Oe/2+1)*3,$e={draw:function(ae,be){var Ee=Math.sqrt(be/Xe),De=Ee/2,it=Ee*Oe,ft=De,At=Ee*Oe+Ee,nt=-ft,St=At;ae.moveTo(De,it),ae.lineTo(ft,At),ae.lineTo(nt,St),ae.lineTo(pe*De-xe*it,xe*De+pe*it),ae.lineTo(pe*ft-xe*At,xe*ft+pe*At),ae.lineTo(pe*nt-xe*St,xe*nt+pe*St),ae.lineTo(pe*De+xe*it,pe*it-xe*De),ae.lineTo(pe*ft+xe*At,pe*At-xe*ft),ae.lineTo(pe*nt+xe*St,pe*St-xe*nt),ae.closePath()}},pt=[J,se,ke,$,Le,me,$e];function rt(){var ae=u(J),be=u(64),Ee=null;function De(){var it;if(Ee||(Ee=it=v.path()),ae.apply(this,arguments).draw(Ee,+be.apply(this,arguments)),it)return Ee=null,it+""||null}return De.type=function(it){return arguments.length?(ae=typeof it=="function"?it:u(it),De):ae},De.size=function(it){return arguments.length?(be=typeof it=="function"?it:u(+it),De):be},De.context=function(it){return arguments.length?(Ee=it??null,De):Ee},De}function kt(){}function Mt(ae,be,Ee){ae._context.bezierCurveTo((2*ae._x0+ae._x1)/3,(2*ae._y0+ae._y1)/3,(ae._x0+2*ae._x1)/3,(ae._y0+2*ae._y1)/3,(ae._x0+4*ae._x1+be)/6,(ae._y0+4*ae._y1+Ee)/6)}function Dt(ae){this._context=ae}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mt(this,ae,be);break}this._x0=this._x1,this._x1=ae,this._y0=this._y1,this._y1=be}};function lt(ae){return new Dt(ae)}function wt(ae){this._context=ae}wt.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._x2=ae,this._y2=be;break;case 1:this._point=2,this._x3=ae,this._y3=be;break;case 2:this._point=3,this._x4=ae,this._y4=be,this._context.moveTo((this._x0+4*this._x1+ae)/6,(this._y0+4*this._y1+be)/6);break;default:Mt(this,ae,be);break}this._x0=this._x1,this._x1=ae,this._y0=this._y1,this._y1=be}};function ut(ae){return new wt(ae)}function yt(ae){this._context=ae}yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ee=(this._x0+4*this._x1+ae)/6,De=(this._y0+4*this._y1+be)/6;this._line?this._context.lineTo(Ee,De):this._context.moveTo(Ee,De);break;case 3:this._point=4;default:Mt(this,ae,be);break}this._x0=this._x1,this._x1=ae,this._y0=this._y1,this._y1=be}};function et(ae){return new yt(ae)}function tt(ae,be){this._basis=new Dt(ae),this._beta=be}tt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var ae=this._x,be=this._y,Ee=ae.length-1;if(Ee>0)for(var De=ae[0],it=be[0],ft=ae[Ee]-De,At=be[Ee]-it,nt=-1,St;++nt<=Ee;)St=nt/Ee,this._basis.point(this._beta*ae[nt]+(1-this._beta)*(De+St*ft),this._beta*be[nt]+(1-this._beta)*(it+St*At));this._x=this._y=null,this._basis.lineEnd()},point:function(ae,be){this._x.push(+ae),this._y.push(+be)}};var ct=function ae(be){function Ee(De){return be===1?new Dt(De):new tt(De,be)}return Ee.beta=function(De){return ae(+De)},Ee}(.85);function le(ae,be,Ee){ae._context.bezierCurveTo(ae._x1+ae._k*(ae._x2-ae._x0),ae._y1+ae._k*(ae._y2-ae._y0),ae._x2+ae._k*(ae._x1-be),ae._y2+ae._k*(ae._y1-Ee),ae._x2,ae._y2)}function ge(ae,be){this._context=ae,this._k=(1-be)/6}ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:le(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2,this._x1=ae,this._y1=be;break;case 2:this._point=3;default:le(this,ae,be);break}this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var _e=function ae(be){function Ee(De){return new ge(De,be)}return Ee.tension=function(De){return ae(+De)},Ee}(0);function Te(ae,be){this._context=ae,this._k=(1-be)/6}Te.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._x3=ae,this._y3=be;break;case 1:this._point=2,this._context.moveTo(this._x4=ae,this._y4=be);break;case 2:this._point=3,this._x5=ae,this._y5=be;break;default:le(this,ae,be);break}this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var He=function ae(be){function Ee(De){return new Te(De,be)}return Ee.tension=function(De){return ae(+De)},Ee}(0);function qe(ae,be){this._context=ae,this._k=(1-be)/6}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:le(this,ae,be);break}this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var Ze=function ae(be){function Ee(De){return new qe(De,be)}return Ee.tension=function(De){return ae(+De)},Ee}(0);function Ie(ae,be,Ee){var De=ae._x1,it=ae._y1,ft=ae._x2,At=ae._y2;if(ae._l01_a>p){var nt=2*ae._l01_2a+3*ae._l01_a*ae._l12_a+ae._l12_2a,St=3*ae._l01_a*(ae._l01_a+ae._l12_a);De=(De*nt-ae._x0*ae._l12_2a+ae._x2*ae._l01_2a)/St,it=(it*nt-ae._y0*ae._l12_2a+ae._y2*ae._l01_2a)/St}if(ae._l23_a>p){var Et=2*ae._l23_2a+3*ae._l23_a*ae._l12_a+ae._l12_2a,Ft=3*ae._l23_a*(ae._l23_a+ae._l12_a);ft=(ft*Et+ae._x1*ae._l23_2a-be*ae._l12_2a)/Ft,At=(At*Et+ae._y1*ae._l23_2a-Ee*ae._l12_2a)/Ft}ae._context.bezierCurveTo(De,it,ft,At,ae._x2,ae._y2)}function Be(ae,be){this._context=ae,this._alpha=be}Be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){if(ae=+ae,be=+be,this._point){var Ee=this._x2-ae,De=this._y2-be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ee*Ee+De*De,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2;break;case 2:this._point=3;default:Ie(this,ae,be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var ze=function ae(be){function Ee(De){return be?new Be(De,be):new ge(De,0)}return Ee.alpha=function(De){return ae(+De)},Ee}(.5);function st(ae,be){this._context=ae,this._alpha=be}st.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ae,be){if(ae=+ae,be=+be,this._point){var Ee=this._x2-ae,De=this._y2-be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ee*Ee+De*De,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=ae,this._y3=be;break;case 1:this._point=2,this._context.moveTo(this._x4=ae,this._y4=be);break;case 2:this._point=3,this._x5=ae,this._y5=be;break;default:Ie(this,ae,be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var vt=function ae(be){function Ee(De){return be?new st(De,be):new Te(De,0)}return Ee.alpha=function(De){return ae(+De)},Ee}(.5);function xt(ae,be){this._context=ae,this._alpha=be}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){if(ae=+ae,be=+be,this._point){var Ee=this._x2-ae,De=this._y2-be;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ee*Ee+De*De,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ie(this,ae,be);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ae,this._y0=this._y1,this._y1=this._y2,this._y2=be}};var Lt=function ae(be){function Ee(De){return be?new xt(De,be):new qe(De,0)}return Ee.alpha=function(De){return ae(+De)},Ee}(.5);function Wt(ae){this._context=ae}Wt.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(ae,be){ae=+ae,be=+be,this._point?this._context.lineTo(ae,be):(this._point=1,this._context.moveTo(ae,be))}};function Vt(ae){return new Wt(ae)}function Gt(ae){return ae<0?-1:1}function hr(ae,be,Ee){var De=ae._x1-ae._x0,it=be-ae._x1,ft=(ae._y1-ae._y0)/(De||it<0&&-0),At=(Ee-ae._y1)/(it||De<0&&-0),nt=(ft*it+At*De)/(De+it);return(Gt(ft)+Gt(At))*Math.min(Math.abs(ft),Math.abs(At),.5*Math.abs(nt))||0}function Kt(ae,be){var Ee=ae._x1-ae._x0;return Ee?(3*(ae._y1-ae._y0)/Ee-be)/2:be}function jt(ae,be,Ee){var De=ae._x0,it=ae._y0,ft=ae._x1,At=ae._y1,nt=(ft-De)/3;ae._context.bezierCurveTo(De+nt,it+nt*be,ft-nt,At-nt*Ee,ft,At)}function or(ae){this._context=ae}or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jt(this,this._t0,Kt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ae,be){var Ee=NaN;if(ae=+ae,be=+be,!(ae===this._x1&&be===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2;break;case 2:this._point=3,jt(this,Kt(this,Ee=hr(this,ae,be)),Ee);break;default:jt(this,this._t0,Ee=hr(this,ae,be));break}this._x0=this._x1,this._x1=ae,this._y0=this._y1,this._y1=be,this._t0=Ee}}};function sr(ae){this._context=new er(ae)}(sr.prototype=Object.create(or.prototype)).point=function(ae,be){or.prototype.point.call(this,be,ae)};function er(ae){this._context=ae}er.prototype={moveTo:function(ae,be){this._context.moveTo(be,ae)},closePath:function(){this._context.closePath()},lineTo:function(ae,be){this._context.lineTo(be,ae)},bezierCurveTo:function(ae,be,Ee,De,it,ft){this._context.bezierCurveTo(be,ae,De,Ee,ft,it)}};function ar(ae){return new or(ae)}function Ot(ae){return new sr(ae)}function Yt(ae){this._context=ae}Yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var ae=this._x,be=this._y,Ee=ae.length;if(Ee)if(this._line?this._context.lineTo(ae[0],be[0]):this._context.moveTo(ae[0],be[0]),Ee===2)this._context.lineTo(ae[1],be[1]);else for(var De=fr(ae),it=fr(be),ft=0,At=1;At<Ee;++ft,++At)this._context.bezierCurveTo(De[0][ft],it[0][ft],De[1][ft],it[1][ft],ae[At],be[At]);(this._line||this._line!==0&&Ee===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(ae,be){this._x.push(+ae),this._y.push(+be)}};function fr(ae){var be,Ee=ae.length-1,De,it=new Array(Ee),ft=new Array(Ee),At=new Array(Ee);for(it[0]=0,ft[0]=2,At[0]=ae[0]+2*ae[1],be=1;be<Ee-1;++be)it[be]=1,ft[be]=4,At[be]=4*ae[be]+2*ae[be+1];for(it[Ee-1]=2,ft[Ee-1]=7,At[Ee-1]=8*ae[Ee-1]+ae[Ee],be=1;be<Ee;++be)De=it[be]/ft[be-1],ft[be]-=De,At[be]-=De*At[be-1];for(it[Ee-1]=At[Ee-1]/ft[Ee-1],be=Ee-2;be>=0;--be)it[be]=(At[be]-it[be+1])/ft[be];for(ft[Ee-1]=(ae[Ee]+it[Ee-1])/2,be=0;be<Ee-1;++be)ft[be]=2*ae[be+1]-it[be+1];return[it,ft]}function xr(ae){return new Yt(ae)}function It(ae,be){this._context=ae,this._t=be}It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(ae,be){switch(ae=+ae,be=+be,this._point){case 0:this._point=1,this._line?this._context.lineTo(ae,be):this._context.moveTo(ae,be);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,be),this._context.lineTo(ae,be);else{var Ee=this._x*(1-this._t)+ae*this._t;this._context.lineTo(Ee,this._y),this._context.lineTo(Ee,be)}break}}this._x=ae,this._y=be}};function cr(ae){return new It(ae,.5)}function wr(ae){return new It(ae,0)}function qr(ae){return new It(ae,1)}function Fr(ae,be){if((At=ae.length)>1)for(var Ee=1,De,it,ft=ae[be[0]],At,nt=ft.length;Ee<At;++Ee)for(it=ft,ft=ae[be[Ee]],De=0;De<nt;++De)ft[De][1]+=ft[De][0]=isNaN(it[De][1])?it[De][0]:it[De][1]}function Rt(ae){for(var be=ae.length,Ee=new Array(be);--be>=0;)Ee[be]=be;return Ee}function Q(ae,be){return ae[be]}function j(){var ae=u([]),be=Rt,Ee=Fr,De=Q;function it(ft){var At=ae.apply(this,arguments),nt,St=ft.length,Et=At.length,Ft=new Array(Et),Ht;for(nt=0;nt<Et;++nt){for(var $t=At[nt],yr=Ft[nt]=new Array(St),mr=0,lr;mr<St;++mr)yr[mr]=lr=[0,+De(ft[mr],$t,mr,ft)],lr.data=ft[mr];yr.key=$t}for(nt=0,Ht=be(Ft);nt<Et;++nt)Ft[Ht[nt]].index=nt;return Ee(Ft,Ht),Ft}return it.keys=function(ft){return arguments.length?(ae=typeof ft=="function"?ft:u(he.call(ft)),it):ae},it.value=function(ft){return arguments.length?(De=typeof ft=="function"?ft:u(+ft),it):De},it.order=function(ft){return arguments.length?(be=ft==null?Rt:typeof ft=="function"?ft:u(he.call(ft)),it):be},it.offset=function(ft){return arguments.length?(Ee=ft??Fr,it):Ee},it}function Fe(ae,be){if((De=ae.length)>0){for(var Ee,De,it=0,ft=ae[0].length,At;it<ft;++it){for(At=Ee=0;Ee<De;++Ee)At+=ae[Ee][it][1]||0;if(At)for(Ee=0;Ee<De;++Ee)ae[Ee][it][1]/=At}Fr(ae,be)}}function Re(ae,be){if((St=ae.length)>0)for(var Ee,De=0,it,ft,At,nt,St,Et=ae[be[0]].length;De<Et;++De)for(At=nt=0,Ee=0;Ee<St;++Ee)(ft=(it=ae[be[Ee]][De])[1]-it[0])>0?(it[0]=At,it[1]=At+=ft):ft<0?(it[1]=nt,it[0]=nt+=ft):(it[0]=0,it[1]=ft)}function Ge(ae,be){if((it=ae.length)>0){for(var Ee=0,De=ae[be[0]],it,ft=De.length;Ee<ft;++Ee){for(var At=0,nt=0;At<it;++At)nt+=ae[At][Ee][1]||0;De[Ee][1]+=De[Ee][0]=-nt/2}Fr(ae,be)}}function Ue(ae,be){if(!(!((At=ae.length)>0)||!((ft=(it=ae[be[0]]).length)>0))){for(var Ee=0,De=1,it,ft,At;De<ft;++De){for(var nt=0,St=0,Et=0;nt<At;++nt){for(var Ft=ae[be[nt]],Ht=Ft[De][1]||0,$t=Ft[De-1][1]||0,yr=(Ht-$t)/2,mr=0;mr<nt;++mr){var lr=ae[be[mr]],ur=lr[De][1]||0,zt=lr[De-1][1]||0;yr+=ur-zt}St+=Ht,Et+=yr*Ht}it[De-1][1]+=it[De-1][0]=Ee,St&&(Ee-=Et/St)}it[De-1][1]+=it[De-1][0]=Ee,Fr(ae,be)}}function je(ae){var be=ae.map(We);return Rt(ae).sort(function(Ee,De){return be[Ee]-be[De]})}function We(ae){for(var be=-1,Ee=0,De=ae.length,it,ft=-1/0;++be<De;)(it=+ae[be][1])>ft&&(ft=it,Ee=be);return Ee}function Je(ae){var be=ae.map(ht);return Rt(ae).sort(function(Ee,De){return be[Ee]-be[De]})}function ht(ae){for(var be=0,Ee=-1,De=ae.length,it;++Ee<De;)(it=+ae[Ee][1])&&(be+=it);return be}function dt(ae){return Je(ae).reverse()}function Pt(ae){var be=ae.length,Ee,De,it=ae.map(ht),ft=je(ae),At=0,nt=0,St=[],Et=[];for(Ee=0;Ee<be;++Ee)De=ft[Ee],At<nt?(At+=it[De],St.push(De)):(nt+=it[De],Et.push(De));return Et.reverse().concat(St)}function Nt(ae){return Rt(ae).reverse()}t.arc=L,t.area=X,t.areaRadial=ee,t.curveBasis=lt,t.curveBasisClosed=ut,t.curveBasisOpen=et,t.curveBundle=ct,t.curveCardinal=_e,t.curveCardinalClosed=He,t.curveCardinalOpen=Ze,t.curveCatmullRom=ze,t.curveCatmullRomClosed=vt,t.curveCatmullRomOpen=Lt,t.curveLinear=D,t.curveLinearClosed=Vt,t.curveMonotoneX=ar,t.curveMonotoneY=Ot,t.curveNatural=xr,t.curveStep=cr,t.curveStepAfter=qr,t.curveStepBefore=wr,t.line=B,t.lineRadial=W,t.linkHorizontal=y,t.linkRadial=q,t.linkVertical=n,t.pie=te,t.pointRadial=de,t.radialArea=ee,t.radialLine=W,t.stack=j,t.stackOffsetDiverging=Re,t.stackOffsetExpand=Fe,t.stackOffsetNone=Fr,t.stackOffsetSilhouette=Ge,t.stackOffsetWiggle=Ue,t.stackOrderAppearance=je,t.stackOrderAscending=Je,t.stackOrderDescending=dt,t.stackOrderInsideOut=Pt,t.stackOrderNone=Rt,t.stackOrderReverse=Nt,t.symbol=rt,t.symbolCircle=J,t.symbolCross=se,t.symbolDiamond=ke,t.symbolSquare=$,t.symbolStar=Le,t.symbolTriangle=me,t.symbolWye=$e,t.symbols=pt,Object.defineProperty(t,"__esModule",{value:!0})})}}),nv=Ke({"node_modules/@plotly/d3-sankey/build/d3-sankey.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M,gs(),$i(),ms()):v(t.d3=t.d3||{},t.d3,t.d3,t.d3)})(M,function(t,v,u,m){"use strict";function g(D){return D.target.depth}function f(D){return D.depth}function w(D,d){return d-1-D.height}function c(D,d){return D.sourceLinks.length?D.depth:d-1}function r(D){return D.targetLinks.length?D.depth:D.sourceLinks.length?v.min(D.sourceLinks,g)-1:0}function A(D){return function(){return D}}function p(D,d){return S(D.source,d.source)||D.index-d.index}function E(D,d){return S(D.target,d.target)||D.index-d.index}function S(D,d){return D.y0-d.y0}function F(D){return D.value}function x(D){return(D.y0+D.y1)/2}function b(D){return x(D.source)*D.value}function h(D){return x(D.target)*D.value}function a(D){return D.index}function o(D){return D.nodes}function T(D){return D.links}function C(D,d){var U=D.get(d);if(!U)throw new Error("missing: "+d);return U}var z=function(){var D=0,d=0,U=1,B=1,X=24,K=8,H=a,te=c,ne=o,ie=T,re=32,oe=2/3;function W(){var _={nodes:ne.apply(null,arguments),links:ie.apply(null,arguments)};return ee(_),de(_),he(_),I(_,re),R(_),_}W.update=function(_){return R(_),_},W.nodeId=function(_){return arguments.length?(H=typeof _=="function"?_:A(_),W):H},W.nodeAlign=function(_){return arguments.length?(te=typeof _=="function"?_:A(_),W):te},W.nodeWidth=function(_){return arguments.length?(X=+_,W):X},W.nodePadding=function(_){return arguments.length?(K=+_,W):K},W.nodes=function(_){return arguments.length?(ne=typeof _=="function"?_:A(_),W):ne},W.links=function(_){return arguments.length?(ie=typeof _=="function"?_:A(_),W):ie},W.size=function(_){return arguments.length?(D=d=0,U=+_[0],B=+_[1],W):[U-D,B-d]},W.extent=function(_){return arguments.length?(D=+_[0][0],U=+_[1][0],d=+_[0][1],B=+_[1][1],W):[[D,d],[U,B]]},W.iterations=function(_){return arguments.length?(re=+_,W):re};function ee(_){_.nodes.forEach(function(l,k){l.index=k,l.sourceLinks=[],l.targetLinks=[]});var i=u.map(_.nodes,H);_.links.forEach(function(l,k){l.index=k;var y=l.source,n=l.target;typeof y!="object"&&(y=l.source=C(i,y)),typeof n!="object"&&(n=l.target=C(i,n)),y.sourceLinks.push(l),n.targetLinks.push(l)})}function de(_){_.nodes.forEach(function(i){i.value=Math.max(v.sum(i.sourceLinks,F),v.sum(i.targetLinks,F))})}function he(_){var i,l,k;for(i=_.nodes,l=[],k=0;i.length;++k,i=l,l=[])i.forEach(function(n){n.depth=k,n.sourceLinks.forEach(function(q){l.indexOf(q.target)<0&&l.push(q.target)})});for(i=_.nodes,l=[],k=0;i.length;++k,i=l,l=[])i.forEach(function(n){n.height=k,n.targetLinks.forEach(function(q){l.indexOf(q.source)<0&&l.push(q.source)})});var y=(U-D-X)/(k-1);_.nodes.forEach(function(n){n.x1=(n.x0=D+Math.max(0,Math.min(k-1,Math.floor(te.call(null,n,k))))*y)+X})}function I(_){var i=u.nest().key(function(se){return se.x0}).sortKeys(v.ascending).entries(_.nodes).map(function(se){return se.values});y(),J();for(var l=1,k=re;k>0;--k)q(l*=.99),J(),n(l),J();function y(){var se=v.max(i,function(ke){return ke.length}),ye=oe*(B-d)/(se-1);K>ye&&(K=ye);var we=v.min(i,function(ke){return(B-d-(ke.length-1)*K)/v.sum(ke,F)});i.forEach(function(ke){ke.forEach(function(ue,Me){ue.y1=(ue.y0=Me)+ue.value*we})}),_.links.forEach(function(ke){ke.width=ke.value*we})}function n(se){i.forEach(function(ye){ye.forEach(function(we){if(we.targetLinks.length){var ke=(v.sum(we.targetLinks,b)/v.sum(we.targetLinks,F)-x(we))*se;we.y0+=ke,we.y1+=ke}})})}function q(se){i.slice().reverse().forEach(function(ye){ye.forEach(function(we){if(we.sourceLinks.length){var ke=(v.sum(we.sourceLinks,h)/v.sum(we.sourceLinks,F)-x(we))*se;we.y0+=ke,we.y1+=ke}})})}function J(){i.forEach(function(se){var ye,we,ke=d,ue=se.length,Me;for(se.sort(S),Me=0;Me<ue;++Me)ye=se[Me],we=ke-ye.y0,we>0&&(ye.y0+=we,ye.y1+=we),ke=ye.y1+K;if(we=ke-K-B,we>0)for(ke=ye.y0-=we,ye.y1-=we,Me=ue-2;Me>=0;--Me)ye=se[Me],we=ye.y1+K-ke,we>0&&(ye.y0-=we,ye.y1-=we),ke=ye.y0})}}function R(_){_.nodes.forEach(function(i){i.sourceLinks.sort(E),i.targetLinks.sort(p)}),_.nodes.forEach(function(i){var l=i.y0,k=l;i.sourceLinks.forEach(function(y){y.y0=l+y.width/2,l+=y.width}),i.targetLinks.forEach(function(y){y.y1=k+y.width/2,k+=y.width})})}return W};function Y(D){return[D.source.x1,D.y0]}function L(D){return[D.target.x0,D.y1]}var O=function(){return m.linkHorizontal().source(Y).target(L)};t.sankey=z,t.sankeyCenter=r,t.sankeyLeft=f,t.sankeyRight=w,t.sankeyJustify=c,t.sankeyLinkHorizontal=O,Object.defineProperty(t,"__esModule",{value:!0})})}}),av=Ke({"node_modules/elementary-circuits-directed-graph/johnson.js"(M,N){var t=hl();N.exports=function(u,m){var g=[],f=[],w=[],c={},r=[],A;function p(C){w[C]=!1,c.hasOwnProperty(C)&&Object.keys(c[C]).forEach(function(z){delete c[C][z],w[z]&&p(z)})}function E(C){var z=!1;f.push(C),w[C]=!0;var Y,L;for(Y=0;Y<r[C].length;Y++)L=r[C][Y],L===A?(S(A,f),z=!0):w[L]||(z=E(L));if(z)p(C);else for(Y=0;Y<r[C].length;Y++){L=r[C][Y];var O=c[L];O||(O={},c[L]=O),O[L]=!0}return f.pop(),z}function S(C,z){var Y=[].concat(z).concat(C);m?m(Y):g.push(Y)}function F(C){for(var z=0;z<u.length;z++)(z<C||!u[z])&&(u[z]=[]),u[z]=u[z].filter(function(Y){return Y>=C})}function x(C){F(C);for(var z=u,Y=t(z),L=Y.components.filter(function(K){return K.length>1}),O=1/0,D,d=0;d<L.length;d++)for(var U=0;U<L[d].length;U++)L[d][U]<O&&(O=L[d][U],D=d);var B=L[D];if(!B)return!1;var X=u.map(function(K,H){return B.indexOf(H)===-1?[]:K.filter(function(te){return B.indexOf(te)!==-1})});return{leastVertex:O,adjList:X}}A=0;for(var b=u.length;A<b;){var h=x(A);if(A=h.leastVertex,r=h.adjList,r){for(var a=0;a<r.length;a++)for(var o=0;o<r[a].length;o++){var T=r[a][o];w[+T]=!1,c[T]={}}E(A),A=A+1}else A=b}if(!m)return g}}}),iv=Ke({"node_modules/@plotly/d3-sankey-circular/dist/d3-sankey-circular.js"(M,N){(function(t,v){typeof M=="object"&&typeof N<"u"?v(M,gs(),$i(),ms(),av()):v(t.d3=t.d3||{},t.d3,t.d3,t.d3,null)})(M,function(t,v,u,m,g){"use strict";g=g&&g.hasOwnProperty("default")?g.default:g;function f(ue){return ue.target.depth}function w(ue){return ue.depth}function c(ue,Me){return Me-1-ue.height}function r(ue,Me){return ue.sourceLinks.length?ue.depth:Me-1}function A(ue){return ue.targetLinks.length?ue.depth:ue.sourceLinks.length?v.min(ue.sourceLinks,f)-1:0}function p(ue){return function(){return ue}}var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue};function S(ue,Me){return x(ue.source,Me.source)||ue.index-Me.index}function F(ue,Me){return x(ue.target,Me.target)||ue.index-Me.index}function x(ue,Me){return ue.partOfCycle===Me.partOfCycle?ue.y0-Me.y0:ue.circularLinkType==="top"||Me.circularLinkType==="bottom"?-1:1}function b(ue){return ue.value}function h(ue){return(ue.y0+ue.y1)/2}function a(ue){return h(ue.source)}function o(ue){return h(ue.target)}function T(ue){return ue.index}function C(ue){return ue.nodes}function z(ue){return ue.links}function Y(ue,Me){var Ne=ue.get(Me);if(!Ne)throw new Error("missing: "+Me);return Ne}function L(ue,Me){return Me(ue)}var O=25,D=10,d=.3;function U(){var ue=0,Me=0,Ne=1,Ce=1,Le=24,$,ce=T,me=r,pe=C,xe=z,Oe=32,Xe=2,$e,pt=null;function rt(){var et={nodes:pe.apply(null,arguments),links:xe.apply(null,arguments)};kt(et),B(et,ce,pt),Mt(et),wt(et),X(et,ce),ut(et,Oe,ce),yt(et);for(var tt=4,ct=0;ct<tt;ct++)q(et,Ce,ce),J(et,Ce,ce),k(et,Me,Ce,ce),q(et,Ce,ce),J(et,Ce,ce);return ke(et,Me,Ce),re(et,Xe,Ce,ce),et}rt.nodeId=function(et){return arguments.length?(ce=typeof et=="function"?et:p(et),rt):ce},rt.nodeAlign=function(et){return arguments.length?(me=typeof et=="function"?et:p(et),rt):me},rt.nodeWidth=function(et){return arguments.length?(Le=+et,rt):Le},rt.nodePadding=function(et){return arguments.length?($=+et,rt):$},rt.nodes=function(et){return arguments.length?(pe=typeof et=="function"?et:p(et),rt):pe},rt.links=function(et){return arguments.length?(xe=typeof et=="function"?et:p(et),rt):xe},rt.size=function(et){return arguments.length?(ue=Me=0,Ne=+et[0],Ce=+et[1],rt):[Ne-ue,Ce-Me]},rt.extent=function(et){return arguments.length?(ue=+et[0][0],Ne=+et[1][0],Me=+et[0][1],Ce=+et[1][1],rt):[[ue,Me],[Ne,Ce]]},rt.iterations=function(et){return arguments.length?(Oe=+et,rt):Oe},rt.circularLinkGap=function(et){return arguments.length?(Xe=+et,rt):Xe},rt.nodePaddingRatio=function(et){return arguments.length?($e=+et,rt):$e},rt.sortNodes=function(et){return arguments.length?(pt=et,rt):pt},rt.update=function(et){return X(et,ce),yt(et),et.links.forEach(function(tt){tt.circular&&(tt.circularLinkType=tt.y0+tt.y1<Ce?"top":"bottom",tt.source.circularLinkType=tt.circularLinkType,tt.target.circularLinkType=tt.circularLinkType)}),q(et,Ce,ce,!1),J(et,Ce,ce),re(et,Xe,Ce,ce),et};function kt(et){et.nodes.forEach(function(ct,le){ct.index=le,ct.sourceLinks=[],ct.targetLinks=[]});var tt=u.map(et.nodes,ce);return et.links.forEach(function(ct,le){ct.index=le;var ge=ct.source,_e=ct.target;(typeof ge>"u"?"undefined":E(ge))!=="object"&&(ge=ct.source=Y(tt,ge)),(typeof _e>"u"?"undefined":E(_e))!=="object"&&(_e=ct.target=Y(tt,_e)),ge.sourceLinks.push(ct),_e.targetLinks.push(ct)}),et}function Mt(et){et.nodes.forEach(function(tt){tt.partOfCycle=!1,tt.value=Math.max(v.sum(tt.sourceLinks,b),v.sum(tt.targetLinks,b)),tt.sourceLinks.forEach(function(ct){ct.circular&&(tt.partOfCycle=!0,tt.circularLinkType=ct.circularLinkType)}),tt.targetLinks.forEach(function(ct){ct.circular&&(tt.partOfCycle=!0,tt.circularLinkType=ct.circularLinkType)})})}function Dt(et){var tt=0,ct=0,le=0,ge=0,_e=v.max(et.nodes,function(Te){return Te.column});return et.links.forEach(function(Te){Te.circular&&(Te.circularLinkType=="top"?tt=tt+Te.width:ct=ct+Te.width,Te.target.column==0&&(ge=ge+Te.width),Te.source.column==_e&&(le=le+Te.width))}),tt=tt>0?tt+O+D:tt,ct=ct>0?ct+O+D:ct,le=le>0?le+O+D:le,ge=ge>0?ge+O+D:ge,{top:tt,bottom:ct,left:ge,right:le}}function lt(et,tt){var ct=v.max(et.nodes,function(Ze){return Ze.column}),le=Ne-ue,ge=Ce-Me,_e=le+tt.right+tt.left,Te=ge+tt.top+tt.bottom,He=le/_e,qe=ge/Te;return ue=ue*He+tt.left,Ne=tt.right==0?Ne:Ne*He,Me=Me*qe+tt.top,Ce=Ce*qe,et.nodes.forEach(function(Ze){Ze.x0=ue+Ze.column*((Ne-ue-Le)/ct),Ze.x1=Ze.x0+Le}),qe}function wt(et){var tt,ct,le;for(tt=et.nodes,ct=[],le=0;tt.length;++le,tt=ct,ct=[])tt.forEach(function(ge){ge.depth=le,ge.sourceLinks.forEach(function(_e){ct.indexOf(_e.target)<0&&!_e.circular&&ct.push(_e.target)})});for(tt=et.nodes,ct=[],le=0;tt.length;++le,tt=ct,ct=[])tt.forEach(function(ge){ge.height=le,ge.targetLinks.forEach(function(_e){ct.indexOf(_e.source)<0&&!_e.circular&&ct.push(_e.source)})});et.nodes.forEach(function(ge){ge.column=Math.floor(me.call(null,ge,le))})}function ut(et,tt,ct){var le=u.nest().key(function(Ze){return Ze.column}).sortKeys(v.ascending).entries(et.nodes).map(function(Ze){return Ze.values});Te(ct),qe();for(var ge=1,_e=tt;_e>0;--_e)He(ge*=.99,ct),qe();function Te(Ze){if($e){var Ie=1/0;le.forEach(function(vt){var xt=Ce*$e/(vt.length+1);Ie=xt<Ie?xt:Ie}),$=Ie}var Be=v.min(le,function(vt){return(Ce-Me-(vt.length-1)*$)/v.sum(vt,b)});Be=Be*d,et.links.forEach(function(vt){vt.width=vt.value*Be});var ze=Dt(et),st=lt(et,ze);Be=Be*st,et.links.forEach(function(vt){vt.width=vt.value*Be}),le.forEach(function(vt){var xt=vt.length;vt.forEach(function(Lt,Wt){Lt.depth==le.length-1&&xt==1||Lt.depth==0&&xt==1?(Lt.y0=Ce/2-Lt.value*Be,Lt.y1=Lt.y0+Lt.value*Be):Lt.partOfCycle?te(Lt,Ze)==0?(Lt.y0=Ce/2+Wt,Lt.y1=Lt.y0+Lt.value*Be):Lt.circularLinkType=="top"?(Lt.y0=Me+Wt,Lt.y1=Lt.y0+Lt.value*Be):(Lt.y0=Ce-Lt.value*Be-Wt,Lt.y1=Lt.y0+Lt.value*Be):ze.top==0||ze.bottom==0?(Lt.y0=(Ce-Me)/xt*Wt,Lt.y1=Lt.y0+Lt.value*Be):(Lt.y0=(Ce-Me)/2-xt/2+Wt,Lt.y1=Lt.y0+Lt.value*Be)})})}function He(Ze,Ie){var Be=le.length;le.forEach(function(ze){var st=ze.length,vt=ze[0].depth;ze.forEach(function(xt){var Lt;if((xt.sourceLinks.length||xt.targetLinks.length)&&!(xt.partOfCycle&&te(xt,Ie)>0))if(vt==0&&st==1)Lt=xt.y1-xt.y0,xt.y0=Ce/2-Lt/2,xt.y1=Ce/2+Lt/2;else if(vt==Be-1&&st==1)Lt=xt.y1-xt.y0,xt.y0=Ce/2-Lt/2,xt.y1=Ce/2+Lt/2;else{var Wt=0,Vt=v.mean(xt.sourceLinks,o),Gt=v.mean(xt.targetLinks,a);Vt&&Gt?Wt=(Vt+Gt)/2:Wt=Vt||Gt;var hr=(Wt-h(xt))*Ze;xt.y0+=hr,xt.y1+=hr}})})}function qe(){le.forEach(function(Ze){var Ie,Be,ze=Me,st=Ze.length,vt;for(Ze.sort(x),vt=0;vt<st;++vt)Ie=Ze[vt],Be=ze-Ie.y0,Be>0&&(Ie.y0+=Be,Ie.y1+=Be),ze=Ie.y1+$;if(Be=ze-$-Ce,Be>0)for(ze=Ie.y0-=Be,Ie.y1-=Be,vt=st-2;vt>=0;--vt)Ie=Ze[vt],Be=Ie.y1+$-ze,Be>0&&(Ie.y0-=Be,Ie.y1-=Be),ze=Ie.y0})}}function yt(et){et.nodes.forEach(function(tt){tt.sourceLinks.sort(F),tt.targetLinks.sort(S)}),et.nodes.forEach(function(tt){var ct=tt.y0,le=ct,ge=tt.y1,_e=ge;tt.sourceLinks.forEach(function(Te){Te.circular?(Te.y0=ge-Te.width/2,ge=ge-Te.width):(Te.y0=ct+Te.width/2,ct+=Te.width)}),tt.targetLinks.forEach(function(Te){Te.circular?(Te.y1=_e-Te.width/2,_e=_e-Te.width):(Te.y1=le+Te.width/2,le+=Te.width)})})}return rt}function B(ue,Me,Ne){var Ce=0;if(Ne===null){for(var Le=[],$=0;$<ue.links.length;$++){var ce=ue.links[$],me=ce.source.index,pe=ce.target.index;Le[me]||(Le[me]=[]),Le[pe]||(Le[pe]=[]),Le[me].indexOf(pe)===-1&&Le[me].push(pe)}var xe=g(Le);xe.sort(function(pt,rt){return pt.length-rt.length});var Oe={};for($=0;$<xe.length;$++){var Xe=xe[$],$e=Xe.slice(-2);Oe[$e[0]]||(Oe[$e[0]]={}),Oe[$e[0]][$e[1]]=!0}ue.links.forEach(function(pt){var rt=pt.target.index,kt=pt.source.index;rt===kt||Oe[kt]&&Oe[kt][rt]?(pt.circular=!0,pt.circularLinkID=Ce,Ce=Ce+1):pt.circular=!1})}else ue.links.forEach(function(pt){pt.source[Ne]<pt.target[Ne]?pt.circular=!1:(pt.circular=!0,pt.circularLinkID=Ce,Ce=Ce+1)})}function X(ue,Me){var Ne=0,Ce=0;ue.links.forEach(function(Le){Le.circular&&(Le.source.circularLinkType||Le.target.circularLinkType?Le.circularLinkType=Le.source.circularLinkType?Le.source.circularLinkType:Le.target.circularLinkType:Le.circularLinkType=Ne<Ce?"top":"bottom",Le.circularLinkType=="top"?Ne=Ne+1:Ce=Ce+1,ue.nodes.forEach(function($){(L($,Me)==L(Le.source,Me)||L($,Me)==L(Le.target,Me))&&($.circularLinkType=Le.circularLinkType)}))}),ue.links.forEach(function(Le){Le.circular&&(Le.source.circularLinkType==Le.target.circularLinkType&&(Le.circularLinkType=Le.source.circularLinkType),we(Le,Me)&&(Le.circularLinkType=Le.source.circularLinkType))})}function K(ue){var Me=Math.abs(ue.y1-ue.y0),Ne=Math.abs(ue.target.x0-ue.source.x1);return Math.atan(Ne/Me)}function H(ue,Me){return ue.source.column<Me.target.column?!1:!(ue.target.column>Me.source.column)}function te(ue,Me){var Ne=0;ue.sourceLinks.forEach(function(Le){Ne=Le.circular&&!we(Le,Me)?Ne+1:Ne});var Ce=0;return ue.targetLinks.forEach(function(Le){Ce=Le.circular&&!we(Le,Me)?Ce+1:Ce}),Ne+Ce}function ne(ue){var Me=ue.source.sourceLinks,Ne=0;Me.forEach(function($){Ne=$.circular?Ne+1:Ne});var Ce=ue.target.targetLinks,Le=0;return Ce.forEach(function($){Le=$.circular?Le+1:Le}),!(Ne>1||Le>1)}function ie(ue,Me,Ne){return ue.sort(W),ue.forEach(function(Ce,Le){var $=0;if(we(Ce,Ne)&&ne(Ce))Ce.circularPathData.verticalBuffer=$+Ce.width/2;else{var ce=0;for(ce;ce<Le;ce++)if(H(ue[Le],ue[ce])){var me=ue[ce].circularPathData.verticalBuffer+ue[ce].width/2+Me;$=me>$?me:$}Ce.circularPathData.verticalBuffer=$+Ce.width/2}}),ue}function re(ue,Me,Ne,Ce){var Le=5,$=v.min(ue.links,function(pe){return pe.source.y0});ue.links.forEach(function(pe){pe.circular&&(pe.circularPathData={})});var ce=ue.links.filter(function(pe){return pe.circularLinkType=="top"});ie(ce,Me,Ce);var me=ue.links.filter(function(pe){return pe.circularLinkType=="bottom"});ie(me,Me,Ce),ue.links.forEach(function(pe){if(pe.circular){if(pe.circularPathData.arcRadius=pe.width+D,pe.circularPathData.leftNodeBuffer=Le,pe.circularPathData.rightNodeBuffer=Le,pe.circularPathData.sourceWidth=pe.source.x1-pe.source.x0,pe.circularPathData.sourceX=pe.source.x0+pe.circularPathData.sourceWidth,pe.circularPathData.targetX=pe.target.x0,pe.circularPathData.sourceY=pe.y0,pe.circularPathData.targetY=pe.y1,we(pe,Ce)&&ne(pe))pe.circularPathData.leftSmallArcRadius=D+pe.width/2,pe.circularPathData.leftLargeArcRadius=D+pe.width/2,pe.circularPathData.rightSmallArcRadius=D+pe.width/2,pe.circularPathData.rightLargeArcRadius=D+pe.width/2,pe.circularLinkType=="bottom"?(pe.circularPathData.verticalFullExtent=pe.source.y1+O+pe.circularPathData.verticalBuffer,pe.circularPathData.verticalLeftInnerExtent=pe.circularPathData.verticalFullExtent-pe.circularPathData.leftLargeArcRadius,pe.circularPathData.verticalRightInnerExtent=pe.circularPathData.verticalFullExtent-pe.circularPathData.rightLargeArcRadius):(pe.circularPathData.verticalFullExtent=pe.source.y0-O-pe.circularPathData.verticalBuffer,pe.circularPathData.verticalLeftInnerExtent=pe.circularPathData.verticalFullExtent+pe.circularPathData.leftLargeArcRadius,pe.circularPathData.verticalRightInnerExtent=pe.circularPathData.verticalFullExtent+pe.circularPathData.rightLargeArcRadius);else{var xe=pe.source.column,Oe=pe.circularLinkType,Xe=ue.links.filter(function(rt){return rt.source.column==xe&&rt.circularLinkType==Oe});pe.circularLinkType=="bottom"?Xe.sort(de):Xe.sort(ee);var $e=0;Xe.forEach(function(rt,kt){rt.circularLinkID==pe.circularLinkID&&(pe.circularPathData.leftSmallArcRadius=D+pe.width/2+$e,pe.circularPathData.leftLargeArcRadius=D+pe.width/2+kt*Me+$e),$e=$e+rt.width}),xe=pe.target.column,Xe=ue.links.filter(function(rt){return rt.target.column==xe&&rt.circularLinkType==Oe}),pe.circularLinkType=="bottom"?Xe.sort(I):Xe.sort(he),$e=0,Xe.forEach(function(rt,kt){rt.circularLinkID==pe.circularLinkID&&(pe.circularPathData.rightSmallArcRadius=D+pe.width/2+$e,pe.circularPathData.rightLargeArcRadius=D+pe.width/2+kt*Me+$e),$e=$e+rt.width}),pe.circularLinkType=="bottom"?(pe.circularPathData.verticalFullExtent=Math.max(Ne,pe.source.y1,pe.target.y1)+O+pe.circularPathData.verticalBuffer,pe.circularPathData.verticalLeftInnerExtent=pe.circularPathData.verticalFullExtent-pe.circularPathData.leftLargeArcRadius,pe.circularPathData.verticalRightInnerExtent=pe.circularPathData.verticalFullExtent-pe.circularPathData.rightLargeArcRadius):(pe.circularPathData.verticalFullExtent=$-O-pe.circularPathData.verticalBuffer,pe.circularPathData.verticalLeftInnerExtent=pe.circularPathData.verticalFullExtent+pe.circularPathData.leftLargeArcRadius,pe.circularPathData.verticalRightInnerExtent=pe.circularPathData.verticalFullExtent+pe.circularPathData.rightLargeArcRadius)}pe.circularPathData.leftInnerExtent=pe.circularPathData.sourceX+pe.circularPathData.leftNodeBuffer,pe.circularPathData.rightInnerExtent=pe.circularPathData.targetX-pe.circularPathData.rightNodeBuffer,pe.circularPathData.leftFullExtent=pe.circularPathData.sourceX+pe.circularPathData.leftLargeArcRadius+pe.circularPathData.leftNodeBuffer,pe.circularPathData.rightFullExtent=pe.circularPathData.targetX-pe.circularPathData.rightLargeArcRadius-pe.circularPathData.rightNodeBuffer}if(pe.circular)pe.path=oe(pe);else{var pt=m.linkHorizontal().source(function(rt){var kt=rt.source.x0+(rt.source.x1-rt.source.x0),Mt=rt.y0;return[kt,Mt]}).target(function(rt){var kt=rt.target.x0,Mt=rt.y1;return[kt,Mt]});pe.path=pt(pe)}})}function oe(ue){var Me="";return ue.circularLinkType=="top"?Me="M"+ue.circularPathData.sourceX+" "+ue.circularPathData.sourceY+" L"+ue.circularPathData.leftInnerExtent+" "+ue.circularPathData.sourceY+" A"+ue.circularPathData.leftLargeArcRadius+" "+ue.circularPathData.leftSmallArcRadius+" 0 0 0 "+ue.circularPathData.leftFullExtent+" "+(ue.circularPathData.sourceY-ue.circularPathData.leftSmallArcRadius)+" L"+ue.circularPathData.leftFullExtent+" "+ue.circularPathData.verticalLeftInnerExtent+" A"+ue.circularPathData.leftLargeArcRadius+" "+ue.circularPathData.leftLargeArcRadius+" 0 0 0 "+ue.circularPathData.leftInnerExtent+" "+ue.circularPathData.verticalFullExtent+" L"+ue.circularPathData.rightInnerExtent+" "+ue.circularPathData.verticalFullExtent+" A"+ue.circularPathData.rightLargeArcRadius+" "+ue.circularPathData.rightLargeArcRadius+" 0 0 0 "+ue.circularPathData.rightFullExtent+" "+ue.circularPathData.verticalRightInnerExtent+" L"+ue.circularPathData.rightFullExtent+" "+(ue.circularPathData.targetY-ue.circularPathData.rightSmallArcRadius)+" A"+ue.circularPathData.rightLargeArcRadius+" "+ue.circularPathData.rightSmallArcRadius+" 0 0 0 "+ue.circularPathData.rightInnerExtent+" "+ue.circularPathData.targetY+" L"+ue.circularPathData.targetX+" "+ue.circularPathData.targetY:Me="M"+ue.circularPathData.sourceX+" "+ue.circularPathData.sourceY+" L"+ue.circularPathData.leftInnerExtent+" "+ue.circularPathData.sourceY+" A"+ue.circularPathData.leftLargeArcRadius+" "+ue.circularPathData.leftSmallArcRadius+" 0 0 1 "+ue.circularPathData.leftFullExtent+" "+(ue.circularPathData.sourceY+ue.circularPathData.leftSmallArcRadius)+" L"+ue.circularPathData.leftFullExtent+" "+ue.circularPathData.verticalLeftInnerExtent+" A"+ue.circularPathData.leftLargeArcRadius+" "+ue.circularPathData.leftLargeArcRadius+" 0 0 1 "+ue.circularPathData.leftInnerExtent+" "+ue.circularPathData.verticalFullExtent+" L"+ue.circularPathData.rightInnerExtent+" "+ue.circularPathData.verticalFullExtent+" A"+ue.circularPathData.rightLargeArcRadius+" "+ue.circularPathData.rightLargeArcRadius+" 0 0 1 "+ue.circularPathData.rightFullExtent+" "+ue.circularPathData.verticalRightInnerExtent+" L"+ue.circularPathData.rightFullExtent+" "+(ue.circularPathData.targetY+ue.circularPathData.rightSmallArcRadius)+" A"+ue.circularPathData.rightLargeArcRadius+" "+ue.circularPathData.rightSmallArcRadius+" 0 0 1 "+ue.circularPathData.rightInnerExtent+" "+ue.circularPathData.targetY+" L"+ue.circularPathData.targetX+" "+ue.circularPathData.targetY,Me}function W(ue,Me){return R(ue)==R(Me)?ue.circularLinkType=="bottom"?de(ue,Me):ee(ue,Me):R(Me)-R(ue)}function ee(ue,Me){return ue.y0-Me.y0}function de(ue,Me){return Me.y0-ue.y0}function he(ue,Me){return ue.y1-Me.y1}function I(ue,Me){return Me.y1-ue.y1}function R(ue){return ue.target.column-ue.source.column}function _(ue){return ue.target.x0-ue.source.x1}function i(ue,Me){var Ne=K(ue),Ce=_(Me)/Math.tan(Ne),Le=ye(ue)=="up"?ue.y1+Ce:ue.y1-Ce;return Le}function l(ue,Me){var Ne=K(ue),Ce=_(Me)/Math.tan(Ne),Le=ye(ue)=="up"?ue.y1-Ce:ue.y1+Ce;return Le}function k(ue,Me,Ne,Ce){ue.links.forEach(function(Le){if(!Le.circular&&Le.target.column-Le.source.column>1){var $=Le.source.column+1,ce=Le.target.column-1,me=1,pe=ce-$+1;for(me=1;$<=ce;$++,me++)ue.nodes.forEach(function(xe){if(xe.column==$){var Oe=me/(pe+1),Xe=Math.pow(1-Oe,3),$e=3*Oe*Math.pow(1-Oe,2),pt=3*Math.pow(Oe,2)*(1-Oe),rt=Math.pow(Oe,3),kt=Xe*Le.y0+$e*Le.y0+pt*Le.y1+rt*Le.y1,Mt=kt-Le.width/2,Dt=kt+Le.width/2,lt;Mt>xe.y0&&Mt<xe.y1?(lt=xe.y1-Mt+10,lt=xe.circularLinkType=="bottom"?lt:-lt,xe=n(xe,lt,Me,Ne),ue.nodes.forEach(function(wt){L(wt,Ce)==L(xe,Ce)||wt.column!=xe.column||y(xe,wt)&&n(wt,lt,Me,Ne)})):Dt>xe.y0&&Dt<xe.y1?(lt=Dt-xe.y0+10,xe=n(xe,lt,Me,Ne),ue.nodes.forEach(function(wt){L(wt,Ce)==L(xe,Ce)||wt.column!=xe.column||wt.y0<xe.y1&&wt.y1>xe.y1&&n(wt,lt,Me,Ne)})):Mt<xe.y0&&Dt>xe.y1&&(lt=Dt-xe.y0+10,xe=n(xe,lt,Me,Ne),ue.nodes.forEach(function(wt){L(wt,Ce)==L(xe,Ce)||wt.column!=xe.column||wt.y0<xe.y1&&wt.y1>xe.y1&&n(wt,lt,Me,Ne)}))}})}})}function y(ue,Me){return ue.y0>Me.y0&&ue.y0<Me.y1||ue.y1>Me.y0&&ue.y1<Me.y1?!0:ue.y0<Me.y0&&ue.y1>Me.y1}function n(ue,Me,Ne,Ce){return ue.y0+Me>=Ne&&ue.y1+Me<=Ce&&(ue.y0=ue.y0+Me,ue.y1=ue.y1+Me,ue.targetLinks.forEach(function(Le){Le.y1=Le.y1+Me}),ue.sourceLinks.forEach(function(Le){Le.y0=Le.y0+Me})),ue}function q(ue,Me,Ne,Ce){ue.nodes.forEach(function(Le){Ce&&Le.y+(Le.y1-Le.y0)>Me&&(Le.y=Le.y-(Le.y+(Le.y1-Le.y0)-Me));var $=ue.links.filter(function(pe){return L(pe.source,Ne)==L(Le,Ne)}),ce=$.length;ce>1&&$.sort(function(pe,xe){if(!pe.circular&&!xe.circular){if(pe.target.column==xe.target.column)return pe.y1-xe.y1;if(se(pe,xe)){if(pe.target.column>xe.target.column){var Oe=l(xe,pe);return pe.y1-Oe}if(xe.target.column>pe.target.column){var Xe=l(pe,xe);return Xe-xe.y1}}else return pe.y1-xe.y1}if(pe.circular&&!xe.circular)return pe.circularLinkType=="top"?-1:1;if(xe.circular&&!pe.circular)return xe.circularLinkType=="top"?1:-1;if(pe.circular&&xe.circular)return pe.circularLinkType===xe.circularLinkType&&pe.circularLinkType=="top"?pe.target.column===xe.target.column?pe.target.y1-xe.target.y1:xe.target.column-pe.target.column:pe.circularLinkType===xe.circularLinkType&&pe.circularLinkType=="bottom"?pe.target.column===xe.target.column?xe.target.y1-pe.target.y1:pe.target.column-xe.target.column:pe.circularLinkType=="top"?-1:1});var me=Le.y0;$.forEach(function(pe){pe.y0=me+pe.width/2,me=me+pe.width}),$.forEach(function(pe,xe){if(pe.circularLinkType=="bottom"){var Oe=xe+1,Xe=0;for(Oe;Oe<ce;Oe++)Xe=Xe+$[Oe].width;pe.y0=Le.y1-Xe-pe.width/2}})})}function J(ue,Me,Ne){ue.nodes.forEach(function(Ce){var Le=ue.links.filter(function(me){return L(me.target,Ne)==L(Ce,Ne)}),$=Le.length;$>1&&Le.sort(function(me,pe){if(!me.circular&&!pe.circular){if(me.source.column==pe.source.column)return me.y0-pe.y0;if(se(me,pe)){if(pe.source.column<me.source.column){var xe=i(pe,me);return me.y0-xe}if(me.source.column<pe.source.column){var Oe=i(me,pe);return Oe-pe.y0}}else return me.y0-pe.y0}if(me.circular&&!pe.circular)return me.circularLinkType=="top"?-1:1;if(pe.circular&&!me.circular)return pe.circularLinkType=="top"?1:-1;if(me.circular&&pe.circular)return me.circularLinkType===pe.circularLinkType&&me.circularLinkType=="top"?me.source.column===pe.source.column?me.source.y1-pe.source.y1:me.source.column-pe.source.column:me.circularLinkType===pe.circularLinkType&&me.circularLinkType=="bottom"?me.source.column===pe.source.column?me.source.y1-pe.source.y1:pe.source.column-me.source.column:me.circularLinkType=="top"?-1:1});var ce=Ce.y0;Le.forEach(function(me){me.y1=ce+me.width/2,ce=ce+me.width}),Le.forEach(function(me,pe){if(me.circularLinkType=="bottom"){var xe=pe+1,Oe=0;for(xe;xe<$;xe++)Oe=Oe+Le[xe].width;me.y1=Ce.y1-Oe-me.width/2}})})}function se(ue,Me){return ye(ue)==ye(Me)}function ye(ue){return ue.y0-ue.y1>0?"up":"down"}function we(ue,Me){return L(ue.source,Me)==L(ue.target,Me)}function ke(ue,Me,Ne){var Ce=ue.nodes,Le=ue.links,$=!1,ce=!1;if(Le.forEach(function($e){$e.circularLinkType=="top"?$=!0:$e.circularLinkType=="bottom"&&(ce=!0)}),$==!1||ce==!1){var me=v.min(Ce,function($e){return $e.y0}),pe=v.max(Ce,function($e){return $e.y1}),xe=pe-me,Oe=Ne-Me,Xe=Oe/xe;Ce.forEach(function($e){var pt=($e.y1-$e.y0)*Xe;$e.y0=($e.y0-me)*Xe,$e.y1=$e.y0+pt}),Le.forEach(function($e){$e.y0=($e.y0-me)*Xe,$e.y1=($e.y1-me)*Xe,$e.width=$e.width*Xe})}}t.sankeyCircular=U,t.sankeyCenter=A,t.sankeyLeft=w,t.sankeyRight=c,t.sankeyJustify=r,Object.defineProperty(t,"__esModule",{value:!0})})}}),_s=Ke({"src/traces/sankey/constants.js"(M,N){"use strict";N.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}}}),ov=Ke({"src/traces/sankey/render.js"(M,N){"use strict";var t=wc(),v=(tv(),bu(ys)).interpolateNumber,u=Yr(),m=nv(),g=iv(),f=_s(),w=Un(),c=$r(),r=un(),A=Zt(),p=A.strTranslate,E=A.strRotate,S=dl(),F=S.keyFun,x=S.repeat,b=S.unwrap,h=jn(),a=Er(),o=zn(),T=o.CAP_SHIFT,C=o.LINE_SPACING,z=3;function Y(i,l,k){var y=b(l),n=y.trace,q=n.domain,J=n.orientation==="h",se=n.node.pad,ye=n.node.thickness,we={justify:m.sankeyJustify,left:m.sankeyLeft,right:m.sankeyRight,center:m.sankeyCenter}[n.node.align],ke=i.width*(q.x[1]-q.x[0]),ue=i.height*(q.y[1]-q.y[0]),Me=y._nodes,Ne=y._links,Ce=y.circular,Le;Ce?Le=g.sankeyCircular().circularLinkGap(0):Le=m.sankey(),Le.iterations(f.sankeyIterations).size(J?[ke,ue]:[ue,ke]).nodeWidth(ye).nodePadding(se).nodeId(function(wt){return wt.pointNumber}).nodeAlign(we).nodes(Me).links(Ne);var $=Le();Le.nodePadding()<se&&A.warn("node.pad was reduced to ",Le.nodePadding()," to fit within the figure.");var ce,me,pe;for(var xe in y._groupLookup){var Oe=parseInt(y._groupLookup[xe]),Xe;for(ce=0;ce<$.nodes.length;ce++)if($.nodes[ce].pointNumber===Oe){Xe=$.nodes[ce];break}if(Xe){var $e={pointNumber:parseInt(xe),x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};$.nodes.unshift($e),Xe.childrenNodes.unshift($e)}}function pt(){for(ce=0;ce<$.nodes.length;ce++){var wt=$.nodes[ce],ut={},yt,et;for(me=0;me<wt.targetLinks.length;me++)et=wt.targetLinks[me],yt=et.source.pointNumber+":"+et.target.pointNumber,ut.hasOwnProperty(yt)||(ut[yt]=[]),ut[yt].push(et);var tt=Object.keys(ut);for(me=0;me<tt.length;me++){yt=tt[me];var ct=ut[yt],le=0,ge={};for(pe=0;pe<ct.length;pe++)et=ct[pe],ge[et.label]||(ge[et.label]=0),ge[et.label]+=et.value,le+=et.value;for(pe=0;pe<ct.length;pe++)et=ct[pe],et.flow={value:le,labelConcentration:ge[et.label]/le,concentration:et.value/le,links:ct},et.concentrationscale&&(et.color=w(et.concentrationscale(et.flow.labelConcentration)))}var _e=0;for(me=0;me<wt.sourceLinks.length;me++)_e+=wt.sourceLinks[me].value;for(me=0;me<wt.sourceLinks.length;me++)et=wt.sourceLinks[me],et.concentrationOut=et.value/_e;var Te=0;for(me=0;me<wt.targetLinks.length;me++)Te+=wt.targetLinks[me].value;for(me=0;me<wt.targetLinks.length;me++)et=wt.targetLinks[me],et.concenrationIn=et.value/Te}}pt();function rt(wt){wt.forEach(function(ut){var yt,et,tt=0,ct=ut.length,le;for(ut.sort(function(ge,_e){return ge.y0-_e.y0}),le=0;le<ct;++le)yt=ut[le],yt.y0>=tt||(et=tt-yt.y0,et>1e-6&&(yt.y0+=et,yt.y1+=et)),tt=yt.y1+se})}function kt(wt){var ut=wt.map(function(_e,Te){return{x0:_e.x0,index:Te}}).sort(function(_e,Te){return _e.x0-Te.x0}),yt=[],et=-1,tt,ct=-1/0,le;for(ce=0;ce<ut.length;ce++){var ge=wt[ut[ce].index];ge.x0>ct+ye&&(et+=1,tt=ge.x0),ct=ge.x0,yt[et]||(yt[et]=[]),yt[et].push(ge),le=tt-ge.x0,ge.x0+=le,ge.x1+=le}return yt}if(n.node.x.length&&n.node.y.length){for(ce=0;ce<Math.min(n.node.x.length,n.node.y.length,$.nodes.length);ce++)if(n.node.x[ce]&&n.node.y[ce]){var Mt=[n.node.x[ce]*ke,n.node.y[ce]*ue];$.nodes[ce].x0=Mt[0]-ye/2,$.nodes[ce].x1=Mt[0]+ye/2;var Dt=$.nodes[ce].y1-$.nodes[ce].y0;$.nodes[ce].y0=Mt[1]-Dt/2,$.nodes[ce].y1=Mt[1]+Dt/2}if(n.arrangement==="snap"){Me=$.nodes;var lt=kt(Me);rt(lt)}Le.update($)}return{circular:Ce,key:k,trace:n,guid:A.randstr(),horizontal:J,width:ke,height:ue,nodePad:n.node.pad,nodeLineColor:n.node.line.color,nodeLineWidth:n.node.line.width,linkLineColor:n.link.line.color,linkLineWidth:n.link.line.width,linkArrowLength:n.link.arrowlen,valueFormat:n.valueformat,valueSuffix:n.valuesuffix,textFont:n.textfont,translateX:q.x[0]*i.width+i.margin.l,translateY:i.height-q.y[1]*i.height+i.margin.t,dragParallel:J?ue:ke,dragPerpendicular:J?ke:ue,arrangement:n.arrangement,sankey:Le,graph:$,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function L(i,l,k){var y=w(l.color),n=w(l.hovercolor),q=l.source.label+"|"+l.target.label,J=q+"__"+k;return l.trace=i.trace,l.curveNumber=i.trace.index,{circular:i.circular,key:J,traceId:i.key,pointNumber:l.pointNumber,link:l,tinyColorHue:c.tinyRGB(y),tinyColorAlpha:y.getAlpha(),tinyColorHoverHue:c.tinyRGB(n),tinyColorHoverAlpha:n.getAlpha(),linkPath:D,linkLineColor:i.linkLineColor,linkLineWidth:i.linkLineWidth,linkArrowLength:i.linkArrowLength,valueFormat:i.valueFormat,valueSuffix:i.valueSuffix,sankey:i.sankey,parent:i,interactionState:i.interactionState,flow:l.flow}}function O(i,l){var k="",y=i.width/2,n=i.circularPathData,q=n.sourceX+n.verticalBuffer<n.targetX,J=n.rightFullExtent-n.rightLargeArcRadius-l<=n.leftFullExtent-y,se=Math.abs(n.rightFullExtent-n.leftFullExtent-y)<y;return i.circularLinkType==="top"?(k="M "+(n.targetX-l)+" "+(n.targetY+y)+" L "+(n.rightInnerExtent-l)+" "+(n.targetY+y)+"A "+(n.rightLargeArcRadius+y)+" "+(n.rightSmallArcRadius+y)+" 0 0 1 "+(n.rightFullExtent-y-l)+" "+(n.targetY-n.rightSmallArcRadius)+"L "+(n.rightFullExtent-y-l)+" "+n.verticalRightInnerExtent,q&&J?k+=" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 1 "+(n.rightFullExtent+y-l-(n.rightLargeArcRadius-y))+" "+(n.verticalRightInnerExtent-(n.rightLargeArcRadius+y))+" L "+(n.rightFullExtent+y-(n.rightLargeArcRadius-y)-l)+" "+(n.verticalRightInnerExtent-(n.rightLargeArcRadius+y))+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftLargeArcRadius+y)+" 0 0 1 "+(n.leftFullExtent+y)+" "+n.verticalRightInnerExtent:q?k+=" A "+(n.rightLargeArcRadius-y)+" "+(n.rightLargeArcRadius-y)+" 0 0 0 "+(n.rightFullExtent-y-l-(n.rightLargeArcRadius-y))+" "+(n.verticalRightInnerExtent-(n.rightLargeArcRadius-y))+" L "+(n.leftFullExtent+y+(n.rightLargeArcRadius-y))+" "+(n.verticalRightInnerExtent-(n.rightLargeArcRadius-y))+" A "+(n.leftLargeArcRadius-y)+" "+(n.leftLargeArcRadius-y)+" 0 0 0 "+(n.leftFullExtent+y)+" "+n.verticalLeftInnerExtent:k+=" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 1 "+(n.rightInnerExtent-l)+" "+(n.verticalFullExtent-y)+" L "+n.leftInnerExtent+" "+(n.verticalFullExtent-y)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftLargeArcRadius+y)+" 0 0 1 "+(n.leftFullExtent+y)+" "+n.verticalLeftInnerExtent,k+=" L "+(n.leftFullExtent+y)+" "+(n.sourceY-n.leftSmallArcRadius)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 1 "+n.leftInnerExtent+" "+(n.sourceY+y)+" L "+n.sourceX+" "+(n.sourceY+y)+" L "+n.sourceX+" "+(n.sourceY-y)+" L "+n.leftInnerExtent+" "+(n.sourceY-y)+" A "+(n.leftLargeArcRadius-y)+" "+(n.leftSmallArcRadius-y)+" 0 0 0 "+(n.leftFullExtent-y)+" "+(n.sourceY-n.leftSmallArcRadius)+" L "+(n.leftFullExtent-y)+" "+n.verticalLeftInnerExtent,q&&J?k+=" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 0 "+(n.leftFullExtent-y)+" "+(n.verticalFullExtent+y)+"L"+(n.rightFullExtent+y-l)+" "+(n.verticalFullExtent+y)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 0 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent:q?k+=" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 1 "+(n.leftFullExtent+y)+" "+(n.verticalFullExtent-y)+" L "+(n.rightFullExtent-y-l)+" "+(n.verticalFullExtent-y)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 1 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent:k+=" A "+(n.leftLargeArcRadius-y)+" "+(n.leftLargeArcRadius-y)+" 0 0 0 "+n.leftInnerExtent+" "+(n.verticalFullExtent+y)+" L "+(n.rightInnerExtent-l)+" "+(n.verticalFullExtent+y)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightLargeArcRadius-y)+" 0 0 0 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent,k+=" L "+(n.rightFullExtent+y-l)+" "+(n.targetY-n.rightSmallArcRadius)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 0 "+(n.rightInnerExtent-l)+" "+(n.targetY-y)+" L "+(n.targetX-l)+" "+(n.targetY-y)+(l>0?" L "+n.targetX+" "+n.targetY:"")+"Z"):(k="M "+(n.targetX-l)+" "+(n.targetY-y)+"  L "+(n.rightInnerExtent-l)+" "+(n.targetY-y)+" A "+(n.rightLargeArcRadius+y)+" "+(n.rightSmallArcRadius+y)+" 0 0 0 "+(n.rightFullExtent-y-l)+" "+(n.targetY+n.rightSmallArcRadius)+" L "+(n.rightFullExtent-y-l)+" "+n.verticalRightInnerExtent,q&&J?k+=" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 0 "+(n.rightInnerExtent-y-l)+" "+(n.verticalFullExtent+y)+" L "+(n.rightFullExtent+y-l-(n.rightLargeArcRadius-y))+" "+(n.verticalFullExtent+y)+" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 0 "+(n.leftFullExtent+y)+" "+n.verticalLeftInnerExtent:q?k+=" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 1 "+(n.rightFullExtent-l-y-(n.rightLargeArcRadius-y))+" "+(n.verticalFullExtent-y)+" L "+(n.leftFullExtent+y+(n.rightLargeArcRadius-y))+" "+(n.verticalFullExtent-y)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 1 "+(n.leftFullExtent+y)+" "+n.verticalLeftInnerExtent:k+=" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 0 "+(n.rightInnerExtent-l)+" "+(n.verticalFullExtent+y)+" L "+n.leftInnerExtent+" "+(n.verticalFullExtent+y)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftLargeArcRadius+y)+" 0 0 0 "+(n.leftFullExtent+y)+" "+n.verticalLeftInnerExtent,k+=" L "+(n.leftFullExtent+y)+" "+(n.sourceY+n.leftSmallArcRadius)+" A "+(n.leftLargeArcRadius+y)+" "+(n.leftSmallArcRadius+y)+" 0 0 0 "+n.leftInnerExtent+" "+(n.sourceY-y)+" L "+n.sourceX+" "+(n.sourceY-y)+" L "+n.sourceX+" "+(n.sourceY+y)+" L "+n.leftInnerExtent+" "+(n.sourceY+y)+" A "+(n.leftLargeArcRadius-y)+" "+(n.leftSmallArcRadius-y)+" 0 0 1 "+(n.leftFullExtent-y)+" "+(n.sourceY+n.leftSmallArcRadius)+" L "+(n.leftFullExtent-y)+" "+n.verticalLeftInnerExtent,q&&J?k+=" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 1 "+(n.leftFullExtent-y-(n.rightLargeArcRadius-y))+" "+(n.verticalFullExtent-y)+" L "+(n.rightFullExtent+y-l+(n.rightLargeArcRadius-y))+" "+(n.verticalFullExtent-y)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 1 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent:q?k+=" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 0 "+(n.leftFullExtent+y)+" "+(n.verticalFullExtent+y)+" L "+(n.rightFullExtent-l-y)+" "+(n.verticalFullExtent+y)+" A "+(n.rightLargeArcRadius+y)+" "+(n.rightLargeArcRadius+y)+" 0 0 0 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent:k+=" A "+(n.leftLargeArcRadius-y)+" "+(n.leftLargeArcRadius-y)+" 0 0 1 "+n.leftInnerExtent+" "+(n.verticalFullExtent-y)+" L "+(n.rightInnerExtent-l)+" "+(n.verticalFullExtent-y)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightLargeArcRadius-y)+" 0 0 1 "+(n.rightFullExtent+y-l)+" "+n.verticalRightInnerExtent,k+=" L "+(n.rightFullExtent+y-l)+" "+(n.targetY+n.rightSmallArcRadius)+" A "+(n.rightLargeArcRadius-y)+" "+(n.rightSmallArcRadius-y)+" 0 0 1 "+(n.rightInnerExtent-l)+" "+(n.targetY+y)+" L "+(n.targetX-l)+" "+(n.targetY+y)+(l>0?" L "+n.targetX+" "+n.targetY:"")+"Z"),k}function D(){var i=.5;function l(k){var y=k.linkArrowLength;if(k.link.circular)return O(k.link,y);var n=Math.abs((k.link.target.x0-k.link.source.x1)/2);y>n&&(y=n);var q=k.link.source.x1,J=k.link.target.x0-y,se=v(q,J),ye=se(i),we=se(1-i),ke=k.link.y0-k.link.width/2,ue=k.link.y0+k.link.width/2,Me=k.link.y1-k.link.width/2,Ne=k.link.y1+k.link.width/2,Ce="M"+q+","+ke,Le="C"+ye+","+ke+" "+we+","+Me+" "+J+","+Me,$="C"+we+","+Ne+" "+ye+","+ue+" "+q+","+ue,ce=y>0?"L"+(J+y)+","+(Me+k.link.width/2):"";return ce+="L"+J+","+Ne,Ce+Le+ce+$+"Z"}return l}function d(i,l){var k=w(l.color),y=f.nodePadAcross,n=i.nodePad/2;l.dx=l.x1-l.x0,l.dy=l.y1-l.y0;var q=l.dx,J=Math.max(.5,l.dy),se="node_"+l.pointNumber;return l.group&&(se=A.randstr()),l.trace=i.trace,l.curveNumber=i.trace.index,{index:l.pointNumber,key:se,partOfGroup:l.partOfGroup||!1,group:l.group,traceId:i.key,trace:i.trace,node:l,nodePad:i.nodePad,nodeLineColor:i.nodeLineColor,nodeLineWidth:i.nodeLineWidth,textFont:i.textFont,size:i.horizontal?i.height:i.width,visibleWidth:Math.ceil(q),visibleHeight:J,zoneX:-y,zoneY:-n,zoneWidth:q+2*y,zoneHeight:J+2*n,labelY:i.horizontal?l.dy/2+1:l.dx/2+1,left:l.originalLayer===1,sizeAcross:i.width,forceLayouts:i.forceLayouts,horizontal:i.horizontal,darkBackground:k.getBrightness()<=128,tinyColorHue:c.tinyRGB(k),tinyColorAlpha:k.getAlpha(),valueFormat:i.valueFormat,valueSuffix:i.valueSuffix,sankey:i.sankey,graph:i.graph,arrangement:i.arrangement,uniqueNodeLabelPathId:[i.guid,i.key,se].join("_"),interactionState:i.interactionState,figure:i}}function U(i){i.attr("transform",function(l){return p(l.node.x0.toFixed(3),l.node.y0.toFixed(3))})}function B(i){i.call(U)}function X(i,l){i.call(B),l.attr("d",D())}function K(i){i.attr("width",function(l){return l.node.x1-l.node.x0}).attr("height",function(l){return l.visibleHeight})}function H(i){return i.link.width>1||i.linkLineWidth>0}function te(i){var l=p(i.translateX,i.translateY);return l+(i.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function ne(i,l,k){i.on(".basic",null).on("mouseover.basic",function(y){!y.interactionState.dragInProgress&&!y.partOfGroup&&(k.hover(this,y,l),y.interactionState.hovered=[this,y])}).on("mousemove.basic",function(y){!y.interactionState.dragInProgress&&!y.partOfGroup&&(k.follow(this,y),y.interactionState.hovered=[this,y])}).on("mouseout.basic",function(y){!y.interactionState.dragInProgress&&!y.partOfGroup&&(k.unhover(this,y,l),y.interactionState.hovered=!1)}).on("click.basic",function(y){y.interactionState.hovered/* c3o &&(k.unhover(this,y,l),y.interactionState.hovered=!1)*/,!y.interactionState.dragInProgress&&!y.partOfGroup&&k.select(this,y,l)})}function ie(i,l,k,y){var n=u.behavior.drag().origin(function(q){return{x:q.node.x0+q.visibleWidth/2,y:q.node.y0+q.visibleHeight/2}}).on("dragstart",function(q){if(q.arrangement!=="fixed"&&(A.ensureSingle(y._fullLayout._infolayer,"g","dragcover",function(se){y._fullLayout._dragCover=se}),A.raiseToTop(this),q.interactionState.dragInProgress=q.node,he(q.node),q.interactionState.hovered&&(k.nodeEvents.unhover.apply(0,q.interactionState.hovered),q.interactionState.hovered=!1),q.arrangement==="snap")){var J=q.traceId+"|"+q.key;q.forceLayouts[J]?q.forceLayouts[J].alpha(1):re(i,J,q,y),oe(i,l,q,J,y)}}).on("drag",function(q){if(q.arrangement!=="fixed"){var J=u.event.x,se=u.event.y;q.arrangement==="snap"?(q.node.x0=J-q.visibleWidth/2,q.node.x1=J+q.visibleWidth/2,q.node.y0=se-q.visibleHeight/2,q.node.y1=se+q.visibleHeight/2):(q.arrangement==="freeform"&&(q.node.x0=J-q.visibleWidth/2,q.node.x1=J+q.visibleWidth/2),se=Math.max(0,Math.min(q.size-q.visibleHeight/2,se)),q.node.y0=se-q.visibleHeight/2,q.node.y1=se+q.visibleHeight/2),he(q.node),q.arrangement!=="snap"&&(q.sankey.update(q.graph),X(i.filter(I(q)),l))}}).on("dragend",function(q){if(q.arrangement!=="fixed"){q.interactionState.dragInProgress=!1;for(var J=0;J<q.node.childrenNodes.length;J++)q.node.childrenNodes[J].x=q.node.x,q.node.childrenNodes[J].y=q.node.y;q.arrangement!=="snap"&&ee(q,y)}});i.on(".drag",null).call(n)}function re(i,l,k,y){R(k.graph.nodes);var n=k.graph.nodes.filter(function(q){return q.originalX===k.node.originalX}).filter(function(q){return!q.partOfGroup});k.forceLayouts[l]=t.forceSimulation(n).alphaDecay(0).force("collide",t.forceCollide().radius(function(q){return q.dy/2+k.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",W(i,l,n,k,y)).stop()}function oe(i,l,k,y,n){window.requestAnimationFrame(function q(){var J;for(J=0;J<f.forceTicksPerFrame;J++)k.forceLayouts[y].tick();var se=k.graph.nodes;if(_(se),k.sankey.update(k.graph),X(i.filter(I(k)),l),k.forceLayouts[y].alpha()>0)window.requestAnimationFrame(q);else{var ye=k.node.originalX;k.node.x0=ye-k.visibleWidth/2,k.node.x1=ye+k.visibleWidth/2,ee(k,n)}})}function W(i,l,k,y){return function(){for(var q=0,J=0;J<k.length;J++){var se=k[J];se===y.interactionState.dragInProgress?(se.x=se.lastDraggedX,se.y=se.lastDraggedY):(se.vx=(se.originalX-se.x)/f.forceTicksPerFrame,se.y=Math.min(y.size-se.dy/2,Math.max(se.dy/2,se.y))),q=Math.max(q,Math.abs(se.vx),Math.abs(se.vy))}!y.interactionState.dragInProgress&&q<.1&&y.forceLayouts[l].alpha()>0&&y.forceLayouts[l].alpha(0)}}function ee(i,l){for(var k=[],y=[],n=0;n<i.graph.nodes.length;n++){var q=(i.graph.nodes[n].x0+i.graph.nodes[n].x1)/2,J=(i.graph.nodes[n].y0+i.graph.nodes[n].y1)/2;k.push(q/i.figure.width),y.push(J/i.figure.height)}a.call("_guiRestyle",l,{"node.x":[k],"node.y":[y]},i.trace.index).then(function(){l._fullLayout._dragCover&&l._fullLayout._dragCover.remove()})}function de(i){var l=[],k;for(k=0;k<i.length;k++)i[k].originalX=(i[k].x0+i[k].x1)/2,i[k].originalY=(i[k].y0+i[k].y1)/2,l.indexOf(i[k].originalX)===-1&&l.push(i[k].originalX);for(l.sort(function(y,n){return y-n}),k=0;k<i.length;k++)i[k].originalLayerIndex=l.indexOf(i[k].originalX),i[k].originalLayer=i[k].originalLayerIndex/(l.length-1)}function he(i){i.lastDraggedX=i.x0+i.dx/2,i.lastDraggedY=i.y0+i.dy/2}function I(i){return function(l){return l.node.originalX===i.node.originalX}}function R(i){for(var l=0;l<i.length;l++)i[l].y=(i[l].y0+i[l].y1)/2,i[l].x=(i[l].x0+i[l].x1)/2}function _(i){for(var l=0;l<i.length;l++)i[l].y0=i[l].y-i[l].dy/2,i[l].y1=i[l].y0+i[l].dy,i[l].x0=i[l].x-i[l].dx/2,i[l].x1=i[l].x0+i[l].dx}N.exports=function(i,l,k,y,n){var q=i._context.staticPlot,J=!1;A.ensureSingle(i._fullLayout._infolayer,"g","first-render",function(){J=!0});var se=i._fullLayout._dragCover,ye=k.filter(function($){return b($).trace.visible}).map(Y.bind(null,y)),we=l.selectAll("."+f.cn.sankey).data(ye,F);we.exit().remove(),we.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",q?"none":"auto").attr("transform",te),we.each(function($,ce){i._fullData[ce]._sankey=$;var me="bgsankey-"+$.trace.uid+"-"+ce;A.ensureSingle(i._fullLayout._draggers,"rect",me),i._fullData[ce]._bgRect=u.select("."+me),i._fullData[ce]._bgRect.style("pointer-events",q?"none":"all").attr("width",$.width).attr("height",$.height).attr("x",$.translateX).attr("y",$.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),we.transition().ease(f.ease).duration(f.duration).attr("transform",te);var ke=we.selectAll("."+f.cn.sankeyLinks).data(x,F);ke.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var ue=ke.selectAll("."+f.cn.sankeyLink).data(function($){var ce=$.graph.links;return ce.filter(function(me){return me.value}).map(L.bind(null,$))},F);ue.enter().append("path").classed(f.cn.sankeyLink,!0).call(ne,we,n.linkEvents),ue.style("stroke",function($){return H($)?c.tinyRGB(w($.linkLineColor)):$.tinyColorHue}).style("stroke-opacity",function($){return H($)?c.opacity($.linkLineColor):$.tinyColorAlpha}).style("fill",function($){return $.tinyColorHue}).style("fill-opacity",function($){return $.tinyColorAlpha}).style("stroke-width",function($){return H($)?$.linkLineWidth:1}).attr("d",D()),ue.style("opacity",function(){return i._context.staticPlot||J||se?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),ue.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var Me=we.selectAll("."+f.cn.sankeyNodeSet).data(x,F);Me.enter().append("g").classed(f.cn.sankeyNodeSet,!0),Me.style("cursor",function($){switch($.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ne=Me.selectAll("."+f.cn.sankeyNode).data(function($){var ce=$.graph.nodes;return de(ce),ce.map(d.bind(null,$))},F);Ne.enter().append("g").classed(f.cn.sankeyNode,!0).call(U).style("opacity",function($){return(i._context.staticPlot||J)&&!$.partOfGroup?1:0}),Ne.call(ne,we,n.nodeEvents).call(ie,ue,n,i),Ne.transition().ease(f.ease).duration(f.duration).call(U).style("opacity",function($){return $.partOfGroup?0:1}),Ne.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var Ce=Ne.selectAll("."+f.cn.nodeRect).data(x);Ce.enter().append("rect").classed(f.cn.nodeRect,!0).call(K),Ce.style("stroke-width",function($){return $.nodeLineWidth}).style("stroke",function($){return c.tinyRGB(w($.nodeLineColor))}).style("stroke-opacity",function($){return c.opacity($.nodeLineColor)}).style("fill",function($){return $.tinyColorHue}).style("fill-opacity",function($){return $.tinyColorAlpha}),Ce.transition().ease(f.ease).duration(f.duration).call(K);var Le=Ne.selectAll("."+f.cn.nodeLabel).data(x);Le.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),Le.attr("data-notex",1).text(function($){return $.node.label}).each(function($){var ce=u.select(this);r.font(ce,$.textFont),h.convertToTspans(ce,i)}).attr("text-anchor",function($){return $.horizontal&&$.left?"end":"start"}).attr("transform",function($){var ce=u.select(this),me=h.lineCount(ce),pe=$.textFont.size*((me-1)*C-T),xe=$.nodeLineWidth/2+z,Oe=(($.horizontal?$.visibleHeight:$.visibleWidth)-pe)/2;$.horizontal&&($.left?xe=-xe:xe+=$.visibleWidth);var Xe=$.horizontal?"":"scale(-1,1)"+E(90);return p($.horizontal?xe:Oe,$.horizontal?Oe:xe)+Xe}),Le.transition().ease(f.ease).duration(f.duration)}}}),bs=Ke({"src/traces/sankey/plot.js"(M,N){"use strict";var t=Yr(),v=Zt(),u=v.numberFormat,m=ov(),g=Ma(),f=$r(),w=_s().cn,c=v._;function r(T){return T!==""}function A(T,C){return T.filter(function(z){return z.key===C.traceId})}function p(T,C){t.select(T).select("path").style("fill-opacity",C),t.select(T).select("rect").style("fill-opacity",C)}function E(T){t.select(T).select("text.name").style("fill","black")}function S(T){return function(C){return T.node.sourceLinks.indexOf(C.link)!==-1||T.node.targetLinks.indexOf(C.link)!==-1}}function F(T){return function(C){return C.node.sourceLinks.indexOf(T.link)!==-1||C.node.targetLinks.indexOf(T.link)!==-1}}function x(T,C,z){C&&z&&A(z,C).selectAll("."+w.sankeyLink).filter(S(C)).call(h.bind(0,C,z,!1))}function b(T,C,z){C&&z&&A(z,C).selectAll("."+w.sankeyLink).filter(S(C)).call(a.bind(0,C,z,!1))}function h(T,C,z,Y){Y.style("fill",function(L){if(!L.link.concentrationscale)return L.tinyColorHoverHue}).style("fill-opacity",function(L){if(!L.link.concentrationscale)return L.tinyColorHoverAlpha}),Y.each(function(L){var O=L.link.label;O!==""&&A(C,T).selectAll("."+w.sankeyLink).filter(function(D){return D.link.label===O}).style("fill",function(D){if(!D.link.concentrationscale)return D.tinyColorHoverHue}).style("fill-opacity",function(D){if(!D.link.concentrationscale)return D.tinyColorHoverAlpha})}),z&&A(C,T).selectAll("."+w.sankeyNode).filter(F(T)).call(x)}function a(T,C,z,Y){Y.style("fill",function(L){return L.tinyColorHue}).style("fill-opacity",function(L){return L.tinyColorAlpha}),Y.each(function(L){var O=L.link.label;O!==""&&A(C,T).selectAll("."+w.sankeyLink).filter(function(D){return D.link.label===O}).style("fill",function(D){return D.tinyColorHue}).style("fill-opacity",function(D){return D.tinyColorAlpha})}),z&&A(C,T).selectAll(w.sankeyNode).filter(F(T)).call(b)}function o(T,C){var z=T.hoverlabel||{},Y=v.nestedProperty(z,C).get();return Array.isArray(Y)?!1:Y}N.exports=function(C,z){for(var Y=C._fullLayout,L=Y._paper,O=Y._size,D=0;D<C._fullData.length;D++)if(C._fullData[D].visible&&C._fullData[D].type===w.sankey&&!C._fullData[D]._viewInitial){var d=C._fullData[D].node;C._fullData[D]._viewInitial={node:{groups:d.groups.slice(),x:d.x.slice(),y:d.y.slice()}}}var U=function(he,I){var R=I.link;R.originalEvent=t.event,C._hoverdata=[R],g.click(C,{target:!0})},B=function(he,I,R){C._fullLayout.hovermode!==!1&&(t.select(he).call(h.bind(0,I,R,!0)),I.link.trace.link.hoverinfo!=="skip"&&(I.link.fullData=I.link.trace,C.emit("plotly_hover",{event:t.event,points:[I.link]})))},X=c(C,"source:")+" ",K=c(C,"target:")+" ",H=c(C,"concentration:")+" ",te=c(C,"incoming flow count:")+" ",ne=c(C,"outgoing flow count:")+" ",ie=function(he,I){if(C._fullLayout.hovermode===!1)return;var R=I.link.trace.link;if(R.hoverinfo==="none"||R.hoverinfo==="skip")return;var _=[];function i(se){var ye,we;se.circular?(ye=(se.circularPathData.leftInnerExtent+se.circularPathData.rightInnerExtent)/2,we=se.circularPathData.verticalFullExtent):(ye=(se.source.x1+se.target.x0)/2,we=(se.y0+se.y1)/2);var ke=[ye,we];return se.trace.orientation==="v"&&ke.reverse(),ke[0]+=I.parent.translateX,ke[1]+=I.parent.translateY,ke}for(var l=0,k=0;k<I.flow.links.length;k++){var y=I.flow.links[k];if(!(C._fullLayout.hovermode==="closest"&&I.link.pointNumber!==y.pointNumber)){I.link.pointNumber===y.pointNumber&&(l=k),y.fullData=y.trace,R=I.link.trace.link;var n=i(y),q={valueLabel:u(I.valueFormat)(y.value)+I.valueSuffix};_.push({x:n[0],y:n[1],name:q.valueLabel,text:[y.label||"",X+y.source.label,K+y.target.label,y.concentrationscale?H+u("%0.2f")(y.flow.labelConcentration):""].filter(r).join("<br>"),color:o(R,"bgcolor")||f.addOpacity(y.color,1),borderColor:o(R,"bordercolor"),fontFamily:o(R,"font.family"),fontSize:o(R,"font.size"),fontColor:o(R,"font.color"),fontWeight:o(R,"font.weight"),fontStyle:o(R,"font.style"),fontVariant:o(R,"font.variant"),fontTextcase:o(R,"font.textcase"),fontLineposition:o(R,"font.lineposition"),fontShadow:o(R,"font.shadow"),nameLength:o(R,"namelength"),textAlign:o(R,"align"),idealAlign:t.event.x<n[0]?"right":"left",hovertemplate:R.hovertemplate,hovertemplateLabels:q,eventData:[y]})}}var J=g.loneHover(_,{container:Y._hoverlayer.node(),outerContainer:Y._paper.node(),gd:C,anchorIndex:l});J.each(function(){var se=this;I.link.concentrationscale||p(se,.65),E(se)})},re=function(he,I,R){C._fullLayout.hovermode!==!1&&(t.select(he).call(a.bind(0,I,R,!0)),I.link.trace.link.hoverinfo!=="skip"&&(I.link.fullData=I.link.trace,C.emit("plotly_unhover",{event:t.event,points:[I.link]})),g.loneUnhover(Y._hoverlayer.node()))},oe=function(he,I,R){var _=I.node;_.originalEvent=t.event,C._hoverdata=[_],t.select(he).call(b,I,R),g.click(C,{target:!0})},W=function(he,I,R){C._fullLayout.hovermode!==!1&&(t.select(he).call(x,I,R),I.node.trace.node.hoverinfo!=="skip"&&(I.node.fullData=I.node.trace,C.emit("plotly_hover",{event:t.event,points:[I.node]})))},ee=function(he,I){if(C._fullLayout.hovermode!==!1){var R=I.node.trace.node;if(!(R.hoverinfo==="none"||R.hoverinfo==="skip")){var _=t.select(he).select("."+w.nodeRect),i=C._fullLayout._paperdiv.node().getBoundingClientRect(),l=_.node().getBoundingClientRect(),k=l.left-2-i.left,y=l.right+2-i.left,n=l.top+l.height/4-i.top,q={valueLabel:u(I.valueFormat)(I.node.value)+I.valueSuffix};I.node.fullData=I.node.trace,C._fullLayout._calcInverseTransform(C);var J=C._fullLayout._invScaleX,se=C._fullLayout._invScaleY,ye=g.loneHover({x0:J*k,x1:J*y,y:se*n,name:u(I.valueFormat)(I.node.value)+I.valueSuffix,text:[I.node.label,te+I.node.targetLinks.length,ne+I.node.sourceLinks.length].filter(r).join("<br>"),color:o(R,"bgcolor")||I.tinyColorHue,borderColor:o(R,"bordercolor"),fontFamily:o(R,"font.family"),fontSize:o(R,"font.size"),fontColor:o(R,"font.color"),fontWeight:o(R,"font.weight"),fontStyle:o(R,"font.style"),fontVariant:o(R,"font.variant"),fontTextcase:o(R,"font.textcase"),fontLineposition:o(R,"font.lineposition"),fontShadow:o(R,"font.shadow"),nameLength:o(R,"namelength"),textAlign:o(R,"align"),idealAlign:"left",hovertemplate:R.hovertemplate,hovertemplateLabels:q,eventData:[I.node]},{container:Y._hoverlayer.node(),outerContainer:Y._paper.node(),gd:C});p(ye,.85),E(ye)}}},de=function(he,I,R){C._fullLayout.hovermode!==!1&&(t.select(he).call(b,I,R),I.node.trace.node.hoverinfo!=="skip"&&(I.node.fullData=I.node.trace,C.emit("plotly_unhover",{event:t.event,points:[I.node]})),g.loneUnhover(Y._hoverlayer.node()))};m(C,L,z,{width:O.w,height:O.h,margin:{t:O.t,r:O.r,b:O.b,l:O.l}},{linkEvents:{hover:B,follow:ie,unhover:re,select:U},nodeEvents:{hover:W,follow:ee,unhover:de,select:oe}})}}}),lv=Ke({"src/traces/sankey/base_plot.js"(M){"use strict";var N=ma().overrideAll,t=Hi().getModuleCalcData,v=bs(),u=la(),m=Ga(),g=$n(),f=Zt(),w=Er(),c="sankey";M.name=c,M.baseLayoutAttrOverrides=N({hoverlabel:u.hoverlabel},"plot","nested"),M.plot=function(A){var p=t(A.calcdata,c)[0];v(A,p),M.updateFx(A)},M.clean=function(A,p,E,S){var F=S._has&&S._has(c),x=p._has&&p._has(c);F&&!x&&(S._paperdiv.selectAll(".sankey").remove(),S._paperdiv.selectAll(".bgsankey").remove())},M.updateFx=function(A){for(var p=0;p<A._fullData.length;p++)r(A,p)};function r(A,p){var E=A._fullData[p],S=A._fullLayout,F=S.dragmode,x=S.dragmode==="pan"?"move":"crosshair",b=E._bgRect;if(b&&!(F==="pan"||F==="zoom")){m(b,x);var h={_id:"x",c2p:f.identity,_offset:E._sankey.translateX,_length:E._sankey.width},a={_id:"y",c2p:f.identity,_offset:E._sankey.translateY,_length:E._sankey.height},o={gd:A,element:b.node(),plotinfo:{id:p,xaxis:h,yaxis:a,fillRangeItems:f.noop},subplot:p,xaxes:[h],yaxes:[a],doneFnCompleted:function(T){var C=A._fullData[p],z,Y=C.node.groups.slice(),L=[];function O(B){for(var X=C._sankey.graph.nodes,K=0;K<X.length;K++)if(X[K].pointNumber===B)return X[K]}for(var D=0;D<T.length;D++){var d=O(T[D].pointNumber);if(d)if(d.group){for(var U=0;U<d.childrenNodes.length;U++)L.push(d.childrenNodes[U].pointNumber);Y[d.pointNumber-C.node._count]=!1}else L.push(d.pointNumber)}z=Y.filter(Boolean).concat([L]),w.call("_guiRestyle",A,{"node.groups":[z]},p)}};o.prepFn=function(T,C,z){},g.init(o)}}}}),sv=Ke({"src/traces/sankey/select.js"(M,N){"use strict";N.exports=function(v,u){for(var m=v.cd,g=[],f=m[0].trace,w=f._sankey.graph.nodes,c=0;c<w.length;c++){var r=w[c];if(!r.partOfGroup){var A=[(r.x0+r.x1)/2,(r.y0+r.y1)/2];f.orientation==="v"&&A.reverse(),u&&u.contains(A,!1,c,v)&&g.push({pointNumber:r.pointNumber})}}return g}}}),uv=Ke({"src/traces/sankey/index.js"(M,N){"use strict";N.exports={attributes:vl(),supplyDefaults:gc(),calc:mc(),plot:bs(),moduleType:"trace",name:"sankey",basePlotModule:lv(),selectPoints:sv(),categories:["noOpacity"],meta:{}}}}),fv=Ke({"lib/sankey.js"(M,N){"use strict";N.exports=uv()}}),Rh=Ke({"node_modules/object-assign/index.js"(M,N){"use strict";var t=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function m(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}function g(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var w={},c=0;c<10;c++)w["_"+String.fromCharCode(c)]=c;var r=Object.getOwnPropertyNames(w).map(function(p){return w[p]});if(r.join("")!=="0123456789")return!1;var A={};return"abcdefghijklmnopqrst".split("").forEach(function(p){A[p]=p}),Object.keys(Object.assign({},A)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}N.exports=g()?Object.assign:function(f,w){for(var c,r=m(f),A,p=1;p<arguments.length;p++){c=Object(arguments[p]);for(var E in c)v.call(c,E)&&(r[E]=c[E]);if(t){A=t(c);for(var S=0;S<A.length;S++)u.call(c,A[S])&&(r[A[S]]=c[A[S]])}}return r}}}),cv=Ke({"lib/index-sankey.js"(M,N){var t=yc();t.register([fv()]),N.exports=t}});return cv()})();/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/return window.Plotly=za,za});
